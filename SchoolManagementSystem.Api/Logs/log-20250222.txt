2025-02-22 00:01:28.926 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 450
2025-02-22 00:01:28.992 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:01:29.010 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:01:29.097 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:01:29.116 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:01:31.768 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:01:32.681 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:01:44.916 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 15771.7433ms
2025-02-22 00:01:45.025 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:01:45.184 +02:00 [ERR] HTTP POST /api/Account/register/student responded 500 in 16173.4325 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 30
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 157
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent(RegisterStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 00:01:45.385 +02:00 [ERR] Unhandled exception occurred.
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 30
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 157
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent(RegisterStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 00:01:45.715 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 500 null application/json 16788.4657ms
2025-02-22 00:03:22.495 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:03:31.382 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:03:31.390 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:03:31.971 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:03:32.057 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:03:32.064 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:03:32.222 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:03:32.409 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:03:32.477 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:03:32.487 +02:00 [INF] Hosting environment: Development
2025-02-22 00:03:32.490 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:03:33.064 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:03:33.360 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 306.3597ms
2025-02-22 00:03:33.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:03:33.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:03:33.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 19.8993ms
2025-02-22 00:03:33.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.9423ms
2025-02-22 00:03:33.511 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:03:33.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.5583ms
2025-02-22 00:03:55.354 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 450
2025-02-22 00:03:55.372 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:03:55.396 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:03:55.501 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:03:55.527 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:03:59.312 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:04:00.002 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:07:10.710 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:07:10.758 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:07:10.763 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:07:11.341 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:07:11.419 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:07:11.428 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:07:11.577 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:07:11.741 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:07:11.816 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:07:11.825 +02:00 [INF] Hosting environment: Development
2025-02-22 00:07:11.827 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:07:12.392 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:07:12.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 399.6511ms
2025-02-22 00:07:12.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:07:12.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:07:12.838 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 18.8899ms
2025-02-22 00:07:12.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.0009ms
2025-02-22 00:07:12.960 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:07:13.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.8372ms
2025-02-22 00:07:24.631 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 450
2025-02-22 00:07:24.659 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:07:24.678 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:07:24.823 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:07:24.848 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:07:27.357 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:07:27.736 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:07:45.729 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:07:46.908 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:07:50.203 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:07:50.462 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 00:07:54.538 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:07:54.562 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:07:54.585 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:07:54.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:07:54.683 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 00:07:59.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:07:59.559 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 34654.7976ms
2025-02-22 00:07:59.564 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:07:59.595 +02:00 [INF] HTTP POST /api/Account/register/student responded 200 in 34919.3776 ms
2025-02-22 00:07:59.605 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 200 null application/json; charset=utf-8 34974.0953ms
2025-02-22 00:09:13.917 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 402
2025-02-22 00:09:13.936 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:09:13.941 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:09:13.987 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:09:17.039 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 00:09:25.430 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:09:26.637 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:09:27.819 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:09:28.096 +02:00 [ERR] Failed executing DbCommand (193ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 00:09:28.497 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 00:09:29.487 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 15460.9155ms
2025-02-22 00:09:29.658 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:09:29.875 +02:00 [ERR] HTTP POST /api/Account/register/teacher responded 500 in 15939.2334 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 38
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterTeacherCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 171
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher(RegisterTeacherCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 00:09:30.370 +02:00 [ERR] Unhandled exception occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 38
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterTeacherCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 171
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher(RegisterTeacherCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 00:09:30.718 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 500 null application/json 16801.0235ms
2025-02-22 00:11:24.650 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:11:59.175 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:11:59.181 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:11:59.736 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:11:59.809 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:11:59.817 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:12:00.021 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:12:00.217 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:12:00.300 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:12:00.342 +02:00 [INF] Hosting environment: Development
2025-02-22 00:12:00.355 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:12:00.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:12:00.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 292.5794ms
2025-02-22 00:12:00.914 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:12:00.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.5166ms
2025-02-22 00:12:00.961 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:12:01.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.494ms
2025-02-22 00:12:01.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:12:01.136 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.2685ms
2025-02-22 00:12:27.785 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 402
2025-02-22 00:12:27.817 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:12:27.830 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:12:27.926 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:12:27.961 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:12:30.203 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 00:12:35.681 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:12:36.793 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:12:39.932 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:12:40.139 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 00:12:43.641 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:12:43.682 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:12:43.698 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:12:43.746 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:12:43.799 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 00:12:49.157 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:12:49.180 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 21207.7066ms
2025-02-22 00:12:49.184 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:12:49.204 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 21371.1652 ms
2025-02-22 00:12:49.213 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 21427.86ms
2025-02-22 00:15:10.125 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/admin - application/json 119
2025-02-22 00:15:10.139 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:15:10.149 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-22 00:15:10.199 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:15:10.330 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:21:13.395 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:13.466 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:13.470 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:14.172 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:14.245 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:14.251 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:14.455 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:21:14.680 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:21:14.752 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:21:14.764 +02:00 [INF] Hosting environment: Development
2025-02-22 00:21:14.767 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:21:15.230 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:21:15.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 434.0114ms
2025-02-22 00:21:15.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:21:15.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:21:15.712 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.9066ms
2025-02-22 00:21:15.760 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.0904ms
2025-02-22 00:21:15.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:21:16.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.7851ms
2025-02-22 00:21:36.710 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:36.759 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:36.764 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:37.078 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:37.136 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:37.142 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:37.231 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:21:37.301 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:21:37.345 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:21:37.349 +02:00 [INF] Hosting environment: Development
2025-02-22 00:21:37.352 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:21:37.539 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:21:37.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 184.4488ms
2025-02-22 00:21:37.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:21:37.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.5025ms
2025-02-22 00:21:37.786 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:21:37.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.3174ms
2025-02-22 00:21:37.876 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:21:37.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.5935ms
2025-02-22 00:21:50.450 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:50.487 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:50.491 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:51.038 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:51.111 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:51.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:51.273 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:21:51.477 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:21:51.589 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:21:51.594 +02:00 [INF] Hosting environment: Development
2025-02-22 00:21:51.597 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:21:51.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:21:52.251 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 461.327ms
2025-02-22 00:21:52.297 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:21:52.297 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:21:52.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 22.5069ms
2025-02-22 00:21:52.352 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.2367ms
2025-02-22 00:21:52.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:21:52.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.3291ms
2025-02-22 00:26:01.670 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:26:01.710 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:26:01.713 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:26:02.082 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:26:02.136 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:26:02.140 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:26:02.226 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:26:02.285 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:26:02.328 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:26:02.331 +02:00 [INF] Hosting environment: Development
2025-02-22 00:26:02.333 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:26:02.723 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:26:02.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 249.9426ms
2025-02-22 00:26:02.984 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:26:02.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.5873ms
2025-02-22 00:26:03.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:26:03.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.155ms
2025-02-22 00:26:03.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:26:03.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.2353ms
2025-02-22 00:28:08.042 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:28:08.081 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:28:08.087 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:28:08.718 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:28:08.803 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:28:08.808 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:28:08.948 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:28:09.122 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:28:09.181 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:28:09.194 +02:00 [INF] Hosting environment: Development
2025-02-22 00:28:09.197 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:28:09.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:28:10.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 395.2831ms
2025-02-22 00:28:10.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:28:10.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:28:10.107 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.3904ms
2025-02-22 00:28:10.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0931ms
2025-02-22 00:28:10.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:28:10.333 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.0481ms
2025-02-22 00:28:34.719 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/admin - application/json 119
2025-02-22 00:28:34.743 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:28:34.767 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:28:34.860 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-22 00:28:34.883 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterAdminCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:28:45.808 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:28:47.102 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:28:48.251 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:28:48.474 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-22 00:28:54.887 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:28:54.930 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:28:54.944 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:28:54.969 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:28:55.318 +02:00 [INF] Executed DbCommand (314ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-02-22 00:29:01.944 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:29:01.965 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 27069.1118ms
2025-02-22 00:29:01.973 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-22 00:29:01.977 +02:00 [INF] HTTP POST /api/Account/register/admin responded 200 in 27210.4165 ms
2025-02-22 00:29:01.985 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/admin - 200 null application/json; charset=utf-8 27266.7402ms
2025-02-22 00:30:31.963 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/51481a63-6b80-4761-bc69-ccda991c4556 - null null
2025-02-22 00:30:31.994 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 00:30:32.007 +02:00 [INF] Route matched with {action = "GetUserRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRoles(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 00:30:32.059 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 00:30:32.109 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 00:30:32.172 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__roles_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [AspNetRoles] AS [a]
WHERE [a].[Name] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__roles_0) WITH ([value] nvarchar(256) '$') AS [r]
)
2025-02-22 00:30:32.182 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.UserRoles, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 00:30:32.187 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api) in 176.3974ms
2025-02-22 00:30:32.191 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 00:30:32.193 +02:00 [INF] HTTP GET /api/Roles/GetUserRoles/51481a63-6b80-4761-bc69-ccda991c4556 responded 200 in 209.1422 ms
2025-02-22 00:30:32.201 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/51481a63-6b80-4761-bc69-ccda991c4556 - 200 null application/json; charset=utf-8 238.1006ms
2025-02-22 00:30:53.224 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/count/admin - null null
2025-02-22 00:30:53.236 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 00:30:53.247 +02:00 [INF] Route matched with {action = "GetUserCountByRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCountByRole(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 00:30:53.287 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUserRoles] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Id] = [a].[RoleId] AND [a0].[Name] = @__roleName_0)
2025-02-22 00:30:53.300 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:30:53.310 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api) in 56.9784ms
2025-02-22 00:30:53.313 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 00:30:53.316 +02:00 [INF] HTTP GET /api/Roles/count/admin responded 200 in 83.5837 ms
2025-02-22 00:30:53.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/count/admin - 200 null application/json; charset=utf-8 95.7992ms
2025-02-22 00:31:17.744 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:31:17.787 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:31:17.790 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:31:18.126 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:31:18.182 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:31:18.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:31:18.264 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:31:18.317 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:31:18.356 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:31:18.359 +02:00 [INF] Hosting environment: Development
2025-02-22 00:31:18.361 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:31:18.871 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:31:19.029 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 159.3857ms
2025-02-22 00:31:19.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:31:19.058 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.4159ms
2025-02-22 00:31:19.069 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:31:19.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.8245ms
2025-02-22 00:31:19.191 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:31:19.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.7728ms
2025-02-22 00:32:31.650 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 468
2025-02-22 00:32:31.674 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:32:31.685 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:32:31.715 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:31.734 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:32:31.984 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:32:32.000 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:32:32.020 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 276.0109ms
2025-02-22 00:32:32.024 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:32.031 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 344.1610 ms
2025-02-22 00:32:32.041 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 390.5462ms
2025-02-22 00:32:41.919 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 468
2025-02-22 00:32:41.930 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:32:41.934 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:41.936 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:32:41.967 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:32:42.017 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:32:42.070 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:32:42.104 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:32:42.225 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:32:42.508 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 00:32:42.545 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:32:42.560 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:32:42.569 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:32:42.583 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:32:42.620 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 00:32:42.648 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:32:42.654 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 710.8741ms
2025-02-22 00:32:42.659 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:42.661 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 731.5597 ms
2025-02-22 00:32:42.663 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 744.602ms
2025-02-22 00:32:54.905 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 460
2025-02-22 00:32:54.912 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:32:54.917 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:54.921 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:32:54.958 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:32:54.966 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:32:54.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:32:54.985 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:32:54.987 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 57.8153ms
2025-02-22 00:32:54.990 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:54.995 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 83.0154 ms
2025-02-22 00:32:54.997 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 91.9409ms
2025-02-22 00:33:04.144 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 453
2025-02-22 00:33:04.150 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:33:04.151 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:33:04.153 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:33:04.161 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:33:04.168 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:33:04.176 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:33:04.186 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:33:04.188 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 29.4724ms
2025-02-22 00:33:04.192 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:33:04.194 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 44.6452 ms
2025-02-22 00:33:04.197 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 52.3421ms
2025-02-22 00:34:30.835 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 458
2025-02-22 00:34:30.842 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:34:30.844 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:30.845 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:34:30.857 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:34:30.865 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:34:30.869 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 17.4769ms
2025-02-22 00:34:30.872 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:30.876 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 33.9871 ms
2025-02-22 00:34:30.878 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 43.0924ms
2025-02-22 00:34:36.368 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 458
2025-02-22 00:34:36.376 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:34:36.378 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:36.380 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:34:36.394 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:34:36.404 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:34:36.420 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:34:36.439 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:34:36.452 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:34:36.455 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 65.2464ms
2025-02-22 00:34:36.459 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:36.462 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 86.6817 ms
2025-02-22 00:34:36.466 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 97.62ms
2025-02-22 00:52:05.169 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:05.215 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:05.218 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:05.619 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:05.703 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:05.709 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:05.862 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:52:05.929 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:52:05.979 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:52:05.984 +02:00 [INF] Hosting environment: Development
2025-02-22 00:52:05.987 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:52:06.029 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:52:06.182 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 152.9374ms
2025-02-22 00:52:06.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:52:06.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:52:06.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.2639ms
2025-02-22 00:52:06.236 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.847ms
2025-02-22 00:52:06.304 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:52:06.385 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.6343ms
2025-02-22 00:52:16.192 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:16.226 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:16.231 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:16.604 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:16.687 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:16.696 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:16.799 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:52:16.865 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:52:16.921 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:52:16.924 +02:00 [INF] Hosting environment: Development
2025-02-22 00:52:16.926 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:52:17.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:52:17.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 158.5732ms
2025-02-22 00:52:17.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:52:17.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:52:17.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 17.8893ms
2025-02-22 00:52:17.243 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.4857ms
2025-02-22 00:52:17.303 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:52:17.366 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.9142ms
2025-02-22 00:52:44.315 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:44.360 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:44.363 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:44.733 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:44.793 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:44.800 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:44.940 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:52:45.025 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:52:45.085 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:52:45.109 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:52:45.112 +02:00 [INF] Hosting environment: Development
2025-02-22 00:52:45.115 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:52:45.248 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 163.0449ms
2025-02-22 00:52:45.263 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:52:45.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:52:45.301 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.4429ms
2025-02-22 00:52:45.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.7685ms
2025-02-22 00:52:45.357 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:52:45.422 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6086ms
2025-02-22 00:55:51.224 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:51.266 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:51.270 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:51.833 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:51.933 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:51.942 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:52.069 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:55:52.182 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:55:52.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:55:52.250 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:55:52.252 +02:00 [INF] Hosting environment: Development
2025-02-22 00:55:52.254 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:55:52.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 190.6779ms
2025-02-22 00:55:52.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:55:52.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:55:52.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.1181ms
2025-02-22 00:55:52.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.847ms
2025-02-22 00:55:52.605 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:55:52.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.4195ms
2025-02-22 00:55:58.548 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:58.583 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:58.587 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:59.008 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:59.070 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:59.076 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:59.183 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:55:59.256 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:55:59.310 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:55:59.314 +02:00 [INF] Hosting environment: Development
2025-02-22 00:55:59.316 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:55:59.335 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:55:59.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 148.0323ms
2025-02-22 00:55:59.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:55:59.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:55:59.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.4685ms
2025-02-22 00:55:59.536 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.466ms
2025-02-22 00:55:59.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:55:59.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.2524ms
2025-02-22 00:56:10.966 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:11.008 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:11.011 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:11.473 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:11.574 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:11.581 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:11.708 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:11.783 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:11.867 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:11.870 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:11.872 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:11.910 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:12.106 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 198.8396ms
2025-02-22 00:56:12.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:12.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:12.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.6397ms
2025-02-22 00:56:12.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.0263ms
2025-02-22 00:56:12.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:12.334 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.3863ms
2025-02-22 00:56:21.019 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:21.065 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:21.069 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:21.468 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:21.528 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:21.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:21.616 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:21.679 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:21.727 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:21.730 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:21.733 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:21.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:22.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 175.2261ms
2025-02-22 00:56:22.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:22.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:22.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.9283ms
2025-02-22 00:56:22.095 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.6665ms
2025-02-22 00:56:22.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:22.224 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.0157ms
2025-02-22 00:56:28.289 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:28.327 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:28.330 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:28.740 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:28.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:28.837 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:28.942 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:29.001 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:29.047 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:29.052 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:29.054 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:29.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:29.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 161.2079ms
2025-02-22 00:56:29.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:29.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:29.263 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.042ms
2025-02-22 00:56:29.294 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0685ms
2025-02-22 00:56:29.349 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:29.407 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.2532ms
2025-02-22 00:56:33.027 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:33.069 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:33.074 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:33.460 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:33.533 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:33.541 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:33.657 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:33.738 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:33.818 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:33.822 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:33.824 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:33.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:34.068 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 194.6539ms
2025-02-22 00:56:34.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:34.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:34.089 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.6142ms
2025-02-22 00:56:34.117 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.2945ms
2025-02-22 00:56:34.185 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:34.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.8248ms
2025-02-22 00:56:44.186 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:44.247 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:44.252 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:44.704 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:44.775 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:44.783 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:44.906 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:44.993 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:45.054 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:45.057 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:45.059 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:45.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:45.229 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 171.6211ms
2025-02-22 00:56:45.239 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:45.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:45.254 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.7341ms
2025-02-22 00:56:45.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.691ms
2025-02-22 00:56:45.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:45.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.8794ms
2025-02-22 00:57:08.960 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:57:09.009 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:57:09.013 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:57:09.407 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:57:09.481 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:57:09.486 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:57:09.603 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:57:09.667 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:57:09.719 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:57:09.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:57:09.722 +02:00 [INF] Hosting environment: Development
2025-02-22 00:57:09.727 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:57:09.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 158.2505ms
2025-02-22 00:57:09.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:57:09.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5239ms
2025-02-22 00:57:09.931 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:57:09.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.6694ms
2025-02-22 00:57:10.070 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:57:10.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.6676ms
2025-02-22 01:02:38.480 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:02:38.524 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:02:38.528 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:02:38.946 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:02:39.029 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:02:39.034 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:02:39.148 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:02:39.263 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:02:39.343 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:02:39.345 +02:00 [INF] Hosting environment: Development
2025-02-22 01:02:39.347 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:02:39.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:02:39.628 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 185.0947ms
2025-02-22 01:02:39.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:02:39.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:02:39.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.7649ms
2025-02-22 01:02:39.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.3698ms
2025-02-22 01:02:39.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:02:40.006 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.264ms
2025-02-22 01:02:58.350 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 453
2025-02-22 01:02:58.362 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:02:58.373 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:02:58.403 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:02:58.423 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:02:58.506 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:02:58.524 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 89.765ms
2025-02-22 01:02:58.529 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:02:58.533 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 159.9269 ms
2025-02-22 01:02:58.537 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 187.0957ms
2025-02-22 01:03:03.908 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 451
2025-02-22 01:03:03.921 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:03:03.924 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:03:03.929 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:03:03.941 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:03:03.944 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 7.9008ms
2025-02-22 01:03:03.947 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:03:03.949 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 28.5076 ms
2025-02-22 01:03:03.952 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 44.4233ms
2025-02-22 01:03:36.150 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 397
2025-02-22 01:03:36.156 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:03:36.161 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:03:36.169 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:03:36.210 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:03:36.215 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 34.3244ms
2025-02-22 01:03:36.218 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:03:36.219 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 400 in 63.7112 ms
2025-02-22 01:03:36.223 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 400 null application/json; charset=utf-8 72.9901ms
2025-02-22 01:04:18.953 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:04:19.007 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:04:19.011 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:04:19.432 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:04:19.496 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:04:19.501 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:04:19.596 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:04:19.666 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:04:19.724 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:04:19.728 +02:00 [INF] Hosting environment: Development
2025-02-22 01:04:19.730 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:04:19.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:04:19.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 160.5293ms
2025-02-22 01:04:20.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:04:20.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:04:20.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.6734ms
2025-02-22 01:04:20.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.8738ms
2025-02-22 01:04:20.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:04:20.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.4316ms
2025-02-22 01:04:25.068 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 397
2025-02-22 01:04:25.081 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:04:25.093 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:04:25.123 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:04:25.144 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:04:25.237 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:04:25.255 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 99.6871ms
2025-02-22 01:04:25.259 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:04:25.263 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 400 in 169.1095 ms
2025-02-22 01:04:25.265 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 400 null application/json; charset=utf-8 197.0997ms
2025-02-22 01:15:20.887 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - null null
2025-02-22 01:15:20.900 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:15:20.908 +02:00 [INF] Route matched with {action = "GetUserById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:15:21.125 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:15:21.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:15:21.176 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api) in 259.5617ms
2025-02-22 01:15:21.181 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:15:21.184 +02:00 [INF] HTTP GET /api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a responded 200 in 285.2571 ms
2025-02-22 01:15:21.192 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - 200 null application/json; charset=utf-8 304.896ms
2025-02-22 01:15:49.001 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 01:15:49.008 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:15:49.012 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:15:49.021 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:15:49.074 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:15:49.285 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 01:15:49.306 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 01:15:49.383 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:15:49.487 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 01:15:49.506 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:15:49.520 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 488.5842ms
2025-02-22 01:15:49.522 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:15:49.526 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 518.2216 ms
2025-02-22 01:15:49.529 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 528.1556ms
2025-02-22 01:16:11.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - null null
2025-02-22 01:16:11.854 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:11.857 +02:00 [INF] Route matched with {action = "GetUserById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:16:11.872 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:16:11.883 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:16:11.886 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api) in 22.7151ms
2025-02-22 01:16:11.888 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:11.890 +02:00 [INF] HTTP GET /api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a responded 200 in 73.8923 ms
2025-02-22 01:16:11.893 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - 200 null application/json; charset=utf-8 82.3037ms
2025-02-22 01:16:14.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - null null
2025-02-22 01:16:14.958 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:14.960 +02:00 [INF] Route matched with {action = "GetUserById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:16:14.982 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:16:14.994 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:16:14.996 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api) in 29.6352ms
2025-02-22 01:16:14.999 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:15.001 +02:00 [INF] HTTP GET /api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a responded 200 in 44.8429 ms
2025-02-22 01:16:15.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - 200 null application/json; charset=utf-8 53.4703ms
2025-02-22 01:19:28.784 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 464
2025-02-22 01:19:28.790 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:19:28.792 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:28.804 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:19:28.848 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 01:19:28.859 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:19:28.863 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 53.9513ms
2025-02-22 01:19:28.866 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:28.869 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 78.7991 ms
2025-02-22 01:19:28.872 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 87.6366ms
2025-02-22 01:19:37.019 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 464
2025-02-22 01:19:37.025 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:19:37.027 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:37.029 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:19:37.047 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 01:19:37.085 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 01:19:37.094 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:19:37.096 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 63.8116ms
2025-02-22 01:19:37.100 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:37.102 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 77.4332 ms
2025-02-22 01:19:37.105 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 85.6551ms
2025-02-22 01:19:41.844 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 462
2025-02-22 01:19:41.851 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:19:41.853 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:41.855 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:19:41.879 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 01:19:41.889 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 01:19:41.918 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:19:41.930 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:19:42.040 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:19:42.149 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 01:19:42.178 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 01:19:42.193 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 01:19:42.203 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 01:19:42.220 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:19:42.248 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 01:19:46.343 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:19:46.355 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 4496.3575ms
2025-02-22 01:19:46.359 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:46.361 +02:00 [INF] HTTP POST /api/Account/register/student responded 200 in 4510.4280 ms
2025-02-22 01:19:46.363 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 200 null application/json; charset=utf-8 4519.3303ms
2025-02-22 01:29:50.626 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:29:50.669 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:29:50.672 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:29:51.083 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:29:51.145 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:29:51.150 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:29:51.269 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:29:51.344 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:29:51.400 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:29:51.405 +02:00 [INF] Hosting environment: Development
2025-02-22 01:29:51.408 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:29:51.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:29:51.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 160.665ms
2025-02-22 01:29:51.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:29:51.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:29:51.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.051ms
2025-02-22 01:29:51.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.7033ms
2025-02-22 01:29:51.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:29:52.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.2412ms
2025-02-22 01:30:42.121 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:30:42.175 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:30:42.179 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:30:42.665 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:30:42.735 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:30:42.742 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:30:42.845 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:30:42.915 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:30:42.972 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:30:42.975 +02:00 [INF] Hosting environment: Development
2025-02-22 01:30:42.979 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:30:42.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:30:43.156 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 158.8632ms
2025-02-22 01:30:43.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:30:43.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.0412ms
2025-02-22 01:30:43.187 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:30:43.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4099ms
2025-02-22 01:30:43.304 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:30:43.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.0388ms
2025-02-22 01:51:42.700 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:51:42.742 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:51:42.747 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:51:43.321 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:51:43.395 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:51:43.401 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:51:43.553 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:51:43.729 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:51:43.827 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:51:43.830 +02:00 [INF] Hosting environment: Development
2025-02-22 01:51:43.832 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:51:44.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:51:44.438 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 420.6952ms
2025-02-22 01:51:44.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:51:44.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:51:44.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.7765ms
2025-02-22 01:51:44.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.3193ms
2025-02-22 01:51:44.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:51:44.721 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.5318ms
2025-02-22 01:52:56.038 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:52:56.081 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:52:56.085 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:52:56.658 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:52:56.731 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:52:56.738 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:52:56.887 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:52:57.066 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:52:57.164 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:52:57.167 +02:00 [INF] Hosting environment: Development
2025-02-22 01:52:57.170 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:52:57.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:52:57.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 320.322ms
2025-02-22 01:52:57.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:52:57.743 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.0616ms
2025-02-22 01:52:57.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:52:57.810 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.049ms
2025-02-22 01:52:57.864 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:52:57.961 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.7048ms
2025-02-22 01:53:11.452 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 01:53:11.471 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:53:11.483 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:53:11.619 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:53:11.651 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:53:11.968 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:53:12.284 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 01:53:12.315 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 01:53:12.717 +02:00 [ERR] Failed executing DbCommand (187ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 01:53:12.720 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:53:13.137 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1465.0647ms
2025-02-22 01:53:13.143 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:53:13.144 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8c1d0312-420b-42ec-912f-878b74fb6e99
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8c1d0312-420b-42ec-912f-878b74fb6e99
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 01:53:13.150 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1666.8078 ms
2025-02-22 01:53:13.646 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 2193.9877ms
2025-02-22 01:53:30.018 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 01:53:30.108 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:53:30.123 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:53:30.245 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 01:53:30.263 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:53:30.267 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:53:30.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 01:53:30.357 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:53:30.396 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 250.1705ms
2025-02-22 01:53:30.404 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:53:30.437 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 400.9578 ms
2025-02-22 01:53:30.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 423.6691ms
2025-02-22 01:54:53.372 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:54:53.450 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:54:53.454 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:54:54.100 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:54:54.183 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:54:54.189 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:54:54.332 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:54:54.543 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:54:54.636 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:54:54.640 +02:00 [INF] Hosting environment: Development
2025-02-22 01:54:54.644 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:54:54.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:54:55.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 308.7361ms
2025-02-22 01:54:55.155 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:54:55.155 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:54:55.165 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.0458ms
2025-02-22 01:54:55.241 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.0333ms
2025-02-22 01:54:55.291 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:54:55.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.0265ms
2025-02-22 01:55:03.749 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 01:55:03.766 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:55:03.779 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:55:03.903 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:55:03.927 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:55:04.251 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:55:04.600 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 01:55:04.625 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 01:55:05.022 +02:00 [ERR] Failed executing DbCommand (188ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 01:55:05.024 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:55:05.444 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1494.7749ms
2025-02-22 01:55:05.447 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:55:05.456 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1675.3224 ms
2025-02-22 01:55:05.459 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 01:55:05.472 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1722.9424ms
2025-02-22 01:55:31.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 01:55:31.905 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:55:31.919 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:55:32.044 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 01:55:32.061 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:55:32.065 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:55:32.091 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 01:55:32.146 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:55:32.165 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 218.3869ms
2025-02-22 01:55:32.177 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:55:32.194 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 354.5463 ms
2025-02-22 01:55:32.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 379.6325ms
2025-02-22 01:55:34.474 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 01:55:34.598 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:55:34 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 01:55:34.623 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:55:34 '.
2025-02-22 01:55:34.631 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 01:55:34.647 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 01:55:34.654 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 172.6411 ms
2025-02-22 01:55:34.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 201.7743ms
2025-02-22 01:56:09.682 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 01:56:09.690 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:56:09.776 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:56:09 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 01:56:09.795 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:56:09 '.
2025-02-22 01:56:09.816 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 01:56:09.851 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:56:43.139 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:56:45.237 +02:00 [ERR] Failed executing DbCommand (176ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 01:56:45.343 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
2025-02-22 01:57:59.292 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.328 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.328 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.590 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.591 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.591 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.104 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.138 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.138 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.321 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-22 01:58:21.336 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-22 01:58:21.338 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-22 01:58:21.338 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-22 01:58:21.357 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-22 01:58:21.369 +02:00 [INF] Applying migration '20250221235802_AddClassRefreshTokenToDataBaseInsteadOfAppUser'.
2025-02-22 01:58:21.475 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(max) NOT NULL,
    [ExpiryTime] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [IsUsed] bit NOT NULL,
    [ReplacedByToken] nvarchar(max) NULL,
    [AppUserId] nvarchar(450) NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id])
);
2025-02-22 01:58:21.476 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_AppUserId] ON [RefreshTokens] ([AppUserId]);
2025-02-22 01:58:21.479 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250221235802_AddClassRefreshTokenToDataBaseInsteadOfAppUser', N'8.0.12');
2025-02-22 01:59:55.482 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:59:55.535 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:59:55.540 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:59:56.103 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:59:56.176 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:59:56.183 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:59:56.322 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:59:56.501 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:59:56.573 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:59:56.582 +02:00 [INF] Hosting environment: Development
2025-02-22 01:59:56.586 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:59:56.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:59:57.410 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 511.2093ms
2025-02-22 01:59:57.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:59:57.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:59:57.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.3984ms
2025-02-22 01:59:57.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.3432ms
2025-02-22 01:59:57.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:59:57.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.6629ms
2025-02-22 02:00:11.423 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:00:11.440 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:00:11.452 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:00:11.585 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:00:11.619 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:11.960 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:00:12.257 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:00:12.286 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:00:12.502 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:00:12.555 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:12.589 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 956.9995ms
2025-02-22 02:00:12.596 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:00:12.604 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1151.3656 ms
2025-02-22 02:00:12.619 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1196.1231ms
2025-02-22 02:00:27.836 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:27.915 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:27.928 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:28.048 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:28.070 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:00:28.091 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:00:28.130 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:28.191 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:28.218 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 265.7699ms
2025-02-22 02:00:28.241 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:28.271 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 420.1865 ms
2025-02-22 02:00:28.276 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 439.4332ms
2025-02-22 02:00:29.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:29.514 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:29.520 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:29.562 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:29.579 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:29.597 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:29.606 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 56.6649ms
2025-02-22 02:00:29.621 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:29.633 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 124.8739 ms
2025-02-22 02:00:29.647 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 148.8988ms
2025-02-22 02:00:30.519 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:30.527 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:30.533 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:30.588 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:30.604 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:30.633 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:30.652 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 79.139ms
2025-02-22 02:00:30.669 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:30.681 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 154.9380 ms
2025-02-22 02:00:30.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 167.8848ms
2025-02-22 02:00:31.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:31.543 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:31.551 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:31.591 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:31.619 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:31.636 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:31.650 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 63.8ms
2025-02-22 02:00:31.663 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:31.683 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 140.6047 ms
2025-02-22 02:00:31.689 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 152.9878ms
2025-02-22 02:00:32.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:32.558 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:32.565 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:32.605 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:32.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:32.663 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:32.673 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 72.7284ms
2025-02-22 02:00:32.693 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:32.704 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 147.3117 ms
2025-02-22 02:00:32.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 169.3596ms
2025-02-22 02:00:33.548 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:33.556 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:33.566 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:33.625 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:33.652 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:33.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:33.704 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 83.1191ms
2025-02-22 02:00:33.718 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:33.733 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 177.4653 ms
2025-02-22 02:00:33.738 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 189.4252ms
2025-02-22 02:00:34.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:34.583 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:34.591 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:34.640 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:34.691 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:34.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:34.740 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 105.9851ms
2025-02-22 02:00:34.770 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:34.786 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 203.4125 ms
2025-02-22 02:00:34.792 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 215.218ms
2025-02-22 02:00:35.740 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:35.747 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:35.754 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:35.813 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:35.847 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:35.906 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:35.921 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 113.88ms
2025-02-22 02:00:35.936 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:35.951 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 204.4446 ms
2025-02-22 02:00:35.968 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 227.5362ms
2025-02-22 02:00:36.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:36.828 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:36.837 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:36.878 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:36.914 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:36.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:36.968 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 95.5047ms
2025-02-22 02:00:36.976 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:37.002 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 174.7990 ms
2025-02-22 02:00:37.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 186.765ms
2025-02-22 02:00:37.918 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:37.924 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:37.927 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:37.960 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:37.997 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:38.035 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:38.071 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 114.5796ms
2025-02-22 02:00:38.087 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:38.108 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 184.9923 ms
2025-02-22 02:00:38.130 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 211.492ms
2025-02-22 02:00:39.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:39.063 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:39.066 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:39.113 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:39.156 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:39.182 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:39.205 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 98.1413ms
2025-02-22 02:00:39.223 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:39.240 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 177.0503 ms
2025-02-22 02:00:39.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 205.0433ms
2025-02-22 02:00:40.024 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:40.029 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:40.032 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:40.093 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:40.124 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:40.185 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:40.200 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 113.7933ms
2025-02-22 02:00:40.217 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:40.233 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 204.2424 ms
2025-02-22 02:00:40.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 213.3316ms
2025-02-22 02:00:41.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:41.046 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:41.054 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:41.092 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:41.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:41.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:41.203 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 116.5339ms
2025-02-22 02:00:41.221 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:41.240 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 194.3752 ms
2025-02-22 02:00:41.255 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 216.3616ms
2025-02-22 02:00:42.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:42.299 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:00:42 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:00:42.349 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:00:42 '.
2025-02-22 02:00:42.357 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:00:42.377 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:00:42.379 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 196.4630 ms
2025-02-22 02:00:42.393 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 217.3093ms
2025-02-22 02:01:12.133 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:01:12.139 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:01:12.217 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:01:12 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:01:12.265 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:01:12 '.
2025-02-22 02:01:12.280 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:01:12.314 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:01:25.560 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:01:27.725 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:01:46.640 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:03:02.566 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:03:49.563 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:03:54.086 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:04:15.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:04:15.729 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 183364.0954ms
2025-02-22 02:04:15.733 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:04:15.743 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 183603.8571 ms
2025-02-22 02:04:15.770 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 183637.2295ms
2025-02-22 02:04:48.110 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:48.227 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:48 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:48.254 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:48 '.
2025-02-22 02:04:48.258 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:48.275 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:48.298 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 178.6783 ms
2025-02-22 02:04:48.325 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 213.8799ms
2025-02-22 02:04:49.407 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:49.496 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:49 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:49.544 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:49 '.
2025-02-22 02:04:49.563 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:49.583 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:49.600 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 186.1226 ms
2025-02-22 02:04:49.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 210.3873ms
2025-02-22 02:04:55.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:55.110 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:55 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:55.161 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:55 '.
2025-02-22 02:04:55.179 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:55.212 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:55.217 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 182.0575 ms
2025-02-22 02:04:55.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 206.474ms
2025-02-22 02:04:57.496 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:57.586 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:57 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:57.659 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:57 '.
2025-02-22 02:04:57.700 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:57.717 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:57.723 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 219.1973 ms
2025-02-22 02:04:57.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 247.9001ms
2025-02-22 02:05:23.400 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:05:23.488 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:23 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:05:23.497 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:23 '.
2025-02-22 02:05:23.507 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:05:23.522 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:05:23.544 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 128.3404 ms
2025-02-22 02:05:23.549 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 149.1111ms
2025-02-22 02:05:24.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:05:24.781 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:24 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:05:24.821 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:24 '.
2025-02-22 02:05:24.836 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:05:24.848 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:05:24.863 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 156.9381 ms
2025-02-22 02:05:24.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 173.5819ms
2025-02-22 02:07:38.411 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:07:38.506 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:07:38 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:07:38.605 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:07:38 '.
2025-02-22 02:07:38.624 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:07:38.659 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:07:38.680 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 252.3143 ms
2025-02-22 02:07:38.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 285.73ms
2025-02-22 02:08:10.212 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:08:10.258 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:08:10.261 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:08:10.615 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:08:10.675 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:08:10.680 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:08:10.773 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:08:10.838 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:08:10.883 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:08:10.886 +02:00 [INF] Hosting environment: Development
2025-02-22 02:08:10.889 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:08:11.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:08:11.275 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 179.8102ms
2025-02-22 02:08:11.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:08:11.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:08:11.314 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 22.6178ms
2025-02-22 02:08:11.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9817ms
2025-02-22 02:08:11.430 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:08:11.514 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.1611ms
2025-02-22 02:08:23.680 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:23.693 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:08:23.730 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:08:23.741 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:08:23.748 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 44.6720 ms
2025-02-22 02:08:23.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 72.3251ms
2025-02-22 02:08:34.288 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:08:34.299 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:08:34.311 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:08:34.347 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:34.635 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:08:34.836 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:08:34.881 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:08:35.118 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:08:35.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:35.225 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 816.8432ms
2025-02-22 02:08:35.244 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:08:35.259 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 960.7557 ms
2025-02-22 02:08:35.271 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 983.9529ms
2025-02-22 02:08:53.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:53.547 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:53.561 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:53.676 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:53.692 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:08:53.711 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:08:53.739 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:53.792 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:53.818 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 227.4266ms
2025-02-22 02:08:53.846 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:53.869 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 364.2270 ms
2025-02-22 02:08:53.887 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 391.9712ms
2025-02-22 02:08:56.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:56.603 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:56.609 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:56.679 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:56.713 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:56.747 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:56.765 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 90.7926ms
2025-02-22 02:08:56.784 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:56.818 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 217.6109 ms
2025-02-22 02:08:56.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 230.6473ms
2025-02-22 02:08:57.787 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:57.792 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:57.795 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:57.840 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:57.872 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:57.921 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:57.951 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 120.3042ms
2025-02-22 02:08:57.967 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:57.983 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 190.8368 ms
2025-02-22 02:08:57.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 199.8692ms
2025-02-22 02:08:59.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:59.034 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:59.044 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:59.105 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:59.122 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:59.186 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:59.203 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 100.5422ms
2025-02-22 02:08:59.220 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:59.236 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 202.9570 ms
2025-02-22 02:08:59.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 228.7702ms
2025-02-22 02:09:00.672 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:00.678 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:00.682 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:00.707 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:00.749 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:00.785 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:00.817 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 111.9236ms
2025-02-22 02:09:00.834 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:00.854 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 176.1902 ms
2025-02-22 02:09:00.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 202.0161ms
2025-02-22 02:09:01.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:01.953 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:01.960 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:02.006 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:02.036 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:02.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:02.098 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 95.0148ms
2025-02-22 02:09:02.107 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:02.134 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 181.3594 ms
2025-02-22 02:09:02.140 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 193.9417ms
2025-02-22 02:09:03.794 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:03.801 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:03.808 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:03.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:03.916 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:03.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:03.969 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.3971ms
2025-02-22 02:09:03.985 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:04.005 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 204.5821 ms
2025-02-22 02:09:04.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 234.2581ms
2025-02-22 02:09:05.087 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:05.095 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:05 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:09:05.203 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:05 '.
2025-02-22 02:09:05.218 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:09:05.242 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:09:05.258 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 165.4342 ms
2025-02-22 02:09:05.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 190.924ms
2025-02-22 02:09:32.010 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:09:32.016 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:09:32.019 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:32 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:09:32.115 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:32 '.
2025-02-22 02:09:32.143 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:09:32.157 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:32.254 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:09:32.283 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:09:32.350 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:09:32.401 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:09:32.478 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:09:32.546 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:09:32.603 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:32.618 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 414.4063ms
2025-02-22 02:09:32.635 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:09:32.657 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 640.7582 ms
2025-02-22 02:09:32.672 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 661.4838ms
2025-02-22 02:09:47.214 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:47.220 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:47.226 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:47.268 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:47.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:47.331 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:47.349 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 84.9725ms
2025-02-22 02:09:47.371 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:47.393 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 173.4191 ms
2025-02-22 02:09:47.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 203.483ms
2025-02-22 02:09:50.255 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:50.262 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:50.266 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:50.299 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:50.353 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:50.391 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:50.417 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 120.2324ms
2025-02-22 02:09:50.436 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:50.450 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 188.0912 ms
2025-02-22 02:09:50.467 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 211.7754ms
2025-02-22 02:10:12.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:12.942 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:12.945 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:13.011 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:13.051 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:13.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:13.102 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 95.8227ms
2025-02-22 02:10:13.130 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:13.152 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 210.4585 ms
2025-02-22 02:10:13.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 238.5381ms
2025-02-22 02:10:14.174 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:14.180 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:14.216 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:14.254 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:14.283 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:14.317 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:14.348 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.4184ms
2025-02-22 02:10:14.365 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:14.387 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 207.3724 ms
2025-02-22 02:10:14.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 229.6174ms
2025-02-22 02:10:15.307 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:15.315 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:15.318 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:15.351 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:15.383 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:15.433 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:15.464 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 114.8314ms
2025-02-22 02:10:15.482 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:15.498 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 183.8921 ms
2025-02-22 02:10:15.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 197.8847ms
2025-02-22 02:10:55.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:55.934 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:55.941 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:55.985 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:56.031 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:56.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:56.113 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 134.0238ms
2025-02-22 02:10:56.130 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:56.145 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 212.1141 ms
2025-02-22 02:10:56.150 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 223.64ms
2025-02-22 02:10:57.439 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:57.445 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:57.448 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:57.482 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:57.527 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:57.565 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:57.581 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 101.5379ms
2025-02-22 02:10:57.598 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:57.615 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 170.3786 ms
2025-02-22 02:10:57.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 193.3319ms
2025-02-22 02:10:58.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:58.574 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:58.582 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:58.628 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:58.671 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:58.714 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:58.730 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 104.5997ms
2025-02-22 02:10:58.748 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:58.763 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 189.6161 ms
2025-02-22 02:10:58.770 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 202.0431ms
2025-02-22 02:14:22.069 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:14:22.115 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:14:22.119 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:14:22.655 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:14:22.730 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:14:22.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:14:22.849 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:14:22.921 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:14:22.973 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:14:22.976 +02:00 [INF] Hosting environment: Development
2025-02-22 02:14:22.979 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:14:22.995 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:14:23.163 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 168.2593ms
2025-02-22 02:14:23.180 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:14:23.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 23.1965ms
2025-02-22 02:14:23.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:14:23.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.0535ms
2025-02-22 02:14:23.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:14:23.517 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.4695ms
2025-02-22 02:15:06.468 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:06.514 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:06.519 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:07.019 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:07.126 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:07.143 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:07.288 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:15:07.368 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:15:07.432 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:15:07.435 +02:00 [INF] Hosting environment: Development
2025-02-22 02:15:07.438 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:15:07.544 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:15:07.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 166.5115ms
2025-02-22 02:15:07.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:15:07.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:15:07.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 21.5463ms
2025-02-22 02:15:07.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.7465ms
2025-02-22 02:15:07.888 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:15:07.962 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.609ms
2025-02-22 02:15:57.628 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:57.670 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:57.675 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:58.058 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:58.154 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:58.162 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:58.291 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:15:58.361 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:15:58.422 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:15:58.426 +02:00 [INF] Hosting environment: Development
2025-02-22 02:15:58.429 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:15:58.486 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:15:58.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 178.7685ms
2025-02-22 02:15:58.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:15:58.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:15:58.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 23.3856ms
2025-02-22 02:15:58.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.275ms
2025-02-22 02:15:58.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:15:58.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.2709ms
2025-02-22 02:16:29.313 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:16:29.362 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:16:29.366 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:16:29.839 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:16:29.908 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:16:29.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:16:30.041 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:16:30.124 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:16:30.185 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:16:30.189 +02:00 [INF] Hosting environment: Development
2025-02-22 02:16:30.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:16:30.192 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:16:30.383 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 198.0159ms
2025-02-22 02:16:30.398 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:16:30.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:16:30.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 18.4985ms
2025-02-22 02:16:30.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.6296ms
2025-02-22 02:16:30.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:16:30.590 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.7246ms
2025-02-22 02:21:45.661 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:21:45.699 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:21:45.703 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:21:46.240 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:21:46.330 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:21:46.338 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:21:46.468 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:21:46.556 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:21:46.673 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:21:46.677 +02:00 [INF] Hosting environment: Development
2025-02-22 02:21:46.679 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:21:46.879 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:21:47.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 197.4577ms
2025-02-22 02:21:47.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:21:47.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:21:47.094 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.3925ms
2025-02-22 02:21:47.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.673ms
2025-02-22 02:21:47.415 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:21:47.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.2437ms
2025-02-22 02:22:11.687 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:22:11.731 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:22:11.736 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:22:12.304 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:22:12.411 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:22:12.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:22:12.523 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:22:12.595 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:22:12.646 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:22:12.649 +02:00 [INF] Hosting environment: Development
2025-02-22 02:22:12.651 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:22:13.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:22:13.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 212.6105ms
2025-02-22 02:22:13.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:22:13.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.0505ms
2025-02-22 02:22:13.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:22:13.521 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.4759ms
2025-02-22 02:22:13.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:22:13.859 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.925ms
2025-02-22 02:22:36.708 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:22:36.720 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:22:36.732 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:22:36.776 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:22:36.816 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:37.133 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:22:37.377 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:22:37.403 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:22:37.454 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:22:37.575 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:22:37.674 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:22:37.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:37.783 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 923.2843ms
2025-02-22 02:22:37.792 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:22:37.807 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1074.7021 ms
2025-02-22 02:22:37.832 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1123.8606ms
2025-02-22 02:22:50.441 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:50.491 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:50.501 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:50.597 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:50.611 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:22:50.615 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:22:50.640 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:50.682 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:50.702 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 177.4957ms
2025-02-22 02:22:50.724 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:50.760 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 308.6929 ms
2025-02-22 02:22:50.768 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 327.2741ms
2025-02-22 02:22:53.526 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:53.538 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:53.564 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:53.597 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:53.625 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:53.656 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:53.685 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 98.7082ms
2025-02-22 02:22:53.699 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:53.714 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 182.6105 ms
2025-02-22 02:22:53.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 192.8518ms
2025-02-22 02:22:55.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:55.116 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:55.119 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:55.169 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:55.203 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:55.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:55.269 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 114.7397ms
2025-02-22 02:22:55.285 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:55.302 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 188.6794 ms
2025-02-22 02:22:55.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 197.8865ms
2025-02-22 02:22:56.335 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:56.344 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:56.350 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:56.390 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:56.422 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:56.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:56.505 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 117.3065ms
2025-02-22 02:22:56.536 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:56.553 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 210.0715 ms
2025-02-22 02:22:56.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 222.6222ms
2025-02-22 02:22:57.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:57.475 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:57.482 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:57.521 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:57.557 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:57.604 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:57.620 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 101.4715ms
2025-02-22 02:22:57.636 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:57.655 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 181.3414 ms
2025-02-22 02:22:57.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 210.863ms
2025-02-22 02:22:58.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:58.669 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:58.672 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:58.708 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:58.748 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:58.780 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:58.796 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 90.2937ms
2025-02-22 02:22:58.813 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:58.827 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 159.1101 ms
2025-02-22 02:22:58.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 180.776ms
2025-02-22 02:23:00.113 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:00.119 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:00.122 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:00.152 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:00.188 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:00.227 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:00.252 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 101.6925ms
2025-02-22 02:23:00.268 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:00.286 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 167.5890 ms
2025-02-22 02:23:00.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 179.565ms
2025-02-22 02:23:01.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:01.576 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:01.579 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:01.615 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:01.645 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:01.687 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:01.704 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 91.2837ms
2025-02-22 02:23:01.736 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:01.757 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 180.8459 ms
2025-02-22 02:23:01.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 204.5585ms
2025-02-22 02:23:05.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:06.003 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:06.006 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:06.049 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:06.090 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:06.137 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:06.156 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 108.9934ms
2025-02-22 02:23:06.187 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:06.204 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 200.7586 ms
2025-02-22 02:23:06.208 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 211.3664ms
2025-02-22 02:23:07.463 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:07.470 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:07 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:23:07.552 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:07 '.
2025-02-22 02:23:07.570 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:23:07.587 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:23:07.591 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 123.1969 ms
2025-02-22 02:23:07.601 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 138.0237ms
2025-02-22 02:23:44.160 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:23:44.167 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:23:44.175 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:44 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:23:44.304 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:44 '.
2025-02-22 02:23:44.319 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:23:44.343 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:44.433 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:23:44.470 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:23:44.523 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:23:44.573 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:23:44.662 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:23:44.765 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:23:44.826 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:23:44.871 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:23:44.896 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:44.910 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 523.8224ms
2025-02-22 02:23:44.928 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:23:44.940 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 773.7747 ms
2025-02-22 02:23:44.946 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 786.0632ms
2025-02-22 02:23:57.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:57.516 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:57.521 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:57.566 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:57.694 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:57.702 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:57.712 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 150.0348ms
2025-02-22 02:23:57.735 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:57.774 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 257.9914 ms
2025-02-22 02:23:57.779 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 269.3426ms
2025-02-22 02:24:00.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:00.510 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:00.514 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:00.540 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:00.597 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:00.647 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:00.670 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 133.0127ms
2025-02-22 02:24:00.705 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:00.740 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 229.8690 ms
2025-02-22 02:24:00.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 240.5224ms
2025-02-22 02:24:01.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:01.941 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:01.944 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:01.974 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:02.033 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:02.087 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:02.119 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 147.1673ms
2025-02-22 02:24:02.133 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:02.152 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 212.0502 ms
2025-02-22 02:24:02.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 240.4876ms
2025-02-22 02:24:03.584 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:03.593 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:03.624 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:03.694 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:03.721 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:03.786 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:03.803 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 110.2032ms
2025-02-22 02:24:03.829 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:03.845 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 251.8871 ms
2025-02-22 02:24:03.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 279.2863ms
2025-02-22 02:24:05.390 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:05.397 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:05.405 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:05.449 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:05.510 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:05.546 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:05.567 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 119.2446ms
2025-02-22 02:24:05.583 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:05.606 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 209.1553 ms
2025-02-22 02:24:05.624 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 234.5568ms
2025-02-22 02:24:40.304 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 821
2025-02-22 02:24:40.309 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:24:40.312 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:24:40.320 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:40.373 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:40.400 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 29.9259ms
2025-02-22 02:24:40.437 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:24:40.464 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 400 in 154.4557 ms
2025-02-22 02:24:40.468 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 400 null application/json; charset=utf-8 164.6327ms
2025-02-22 02:26:25.862 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:25.911 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:25.914 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:26.461 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:26.521 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:26.526 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:26.619 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:26:26.679 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:26:26.738 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:26:26.741 +02:00 [INF] Hosting environment: Development
2025-02-22 02:26:26.744 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:26:26.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:26:26.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 155.1604ms
2025-02-22 02:26:26.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:26:26.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:26:26.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 22.8762ms
2025-02-22 02:26:26.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.0697ms
2025-02-22 02:26:27.091 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:26:27.159 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.7123ms
2025-02-22 02:26:41.905 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:41.962 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:41.968 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:42.685 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:42.758 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:42.765 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:42.940 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:26:43.151 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:26:43.243 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:26:43.248 +02:00 [INF] Hosting environment: Development
2025-02-22 02:26:43.251 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:26:43.421 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:26:43.815 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 405.6536ms
2025-02-22 02:26:43.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:26:43.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.0354ms
2025-02-22 02:26:43.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:26:43.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1833ms
2025-02-22 02:26:44.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:26:44.135 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.7364ms
2025-02-22 02:27:53.716 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:27:53.734 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:27:53.756 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:27:53.864 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:27:53.895 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:27:54.274 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:27:54.589 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:27:54.616 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:27:54.682 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:27:54.894 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:27:54.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:27:55.024 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1110.9662ms
2025-02-22 02:27:55.032 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:27:55.040 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1284.7195 ms
2025-02-22 02:27:55.058 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1342.6108ms
2025-02-22 02:28:10.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:10.212 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:10.220 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:10.349 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:10.368 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:28:10.389 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:28:10.402 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:10.424 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:10.443 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 193.248ms
2025-02-22 02:28:10.461 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:10.487 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 333.6909 ms
2025-02-22 02:28:10.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 370.0255ms
2025-02-22 02:28:11.314 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:11.330 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:11.335 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:11.377 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:11.402 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:11.423 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:11.439 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 71.5776ms
2025-02-22 02:28:11.453 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:11.468 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 147.0048 ms
2025-02-22 02:28:11.475 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 161.5819ms
2025-02-22 02:28:14.133 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:14.141 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:14.148 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:14.208 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:14.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:14.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:14.308 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 118.9769ms
2025-02-22 02:28:14.326 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:14.341 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 202.0153 ms
2025-02-22 02:28:14.347 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 213.6485ms
2025-02-22 02:28:15.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:15.346 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:15.352 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:15.401 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:15.451 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:15.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:15.510 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 115.7929ms
2025-02-22 02:28:15.539 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:15.558 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 212.5352 ms
2025-02-22 02:28:15.563 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 226.6203ms
2025-02-22 02:28:19.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:19.324 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:19.327 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:21.052 +02:00 [INF] Executed DbCommand (1,680ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:21.063 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:21.084 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:21.101 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 1730.9149ms
2025-02-22 02:28:21.134 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:21.158 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 1834.5461 ms
2025-02-22 02:28:21.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 1856.6531ms
2025-02-22 02:28:22.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:22.276 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:22.284 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:22.335 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:22.375 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:22.408 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:22.425 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.5167ms
2025-02-22 02:28:22.441 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:22.457 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 181.1047 ms
2025-02-22 02:28:22.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 193.9509ms
2025-02-22 02:28:23.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:23.447 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:23.455 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:23.493 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:23.537 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:23.577 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:23.594 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 104.9538ms
2025-02-22 02:28:23.622 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:23.639 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 191.5425 ms
2025-02-22 02:28:23.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 201.0199ms
2025-02-22 02:28:24.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:24.612 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:24 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:28:24.684 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:24 '.
2025-02-22 02:28:24.698 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:28:24.720 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:28:24.723 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 218.8947 ms
2025-02-22 02:28:24.736 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 237.5196ms
2025-02-22 02:28:54.123 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:28:54.129 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:28:54.216 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:54 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:28:54.249 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:54 '.
2025-02-22 02:28:54.266 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:28:54.292 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:29:09.632 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:29:12.957 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:36:41.094 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:36:41.147 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:36:41.152 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:36:41.633 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:36:41.709 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:36:41.716 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:36:41.883 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:36:42.084 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:36:42.152 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:36:42.162 +02:00 [INF] Hosting environment: Development
2025-02-22 02:36:42.167 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:36:42.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:36:42.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 393.8617ms
2025-02-22 02:36:42.988 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:36:42.988 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:36:43.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.5855ms
2025-02-22 02:36:43.040 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.3462ms
2025-02-22 02:36:43.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:36:43.290 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.4241ms
2025-02-22 02:36:58.871 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:36:58.891 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:36:58.902 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:36:59.046 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:36:59.076 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:36:59.438 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:36:59.715 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:36:59.743 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:36:59.809 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:36:59.973 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:37:00.134 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:37:00.188 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:00.239 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1146.3531ms
2025-02-22 02:37:00.245 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:37:00.252 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1348.5938 ms
2025-02-22 02:37:00.267 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1395.772ms
2025-02-22 02:37:15.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:15.552 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:15.564 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:15.687 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:15.714 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:37:15.739 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:37:15.766 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:15.821 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:15.856 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 269.1302ms
2025-02-22 02:37:15.864 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:15.882 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 401.3581 ms
2025-02-22 02:37:15.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 432.5963ms
2025-02-22 02:37:17.762 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:17.778 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:17.783 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:17.833 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:17.859 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:17.892 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:17.901 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 81.6999ms
2025-02-22 02:37:17.916 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:17.933 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 164.9890 ms
2025-02-22 02:37:17.949 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 186.6377ms
2025-02-22 02:37:20.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:20.829 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:20.836 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:20.899 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:20.920 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:20.948 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:20.961 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 76.7305ms
2025-02-22 02:37:20.971 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:20.985 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 158.0419 ms
2025-02-22 02:37:20.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 172.0406ms
2025-02-22 02:37:24.223 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:24.231 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:24.240 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:24.288 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:24.337 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:24.372 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:24.393 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 108.8365ms
2025-02-22 02:37:24.420 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:24.442 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 210.8522 ms
2025-02-22 02:37:24.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 229.3956ms
2025-02-22 02:37:25.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:25.870 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:25.878 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:25.943 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:25.986 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:26.017 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:26.034 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.2577ms
2025-02-22 02:37:26.051 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:26.065 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 195.8090 ms
2025-02-22 02:37:26.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 208.2204ms
2025-02-22 02:37:28.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:28.828 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:28.834 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:28.903 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:28.934 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:28.965 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:28.981 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 85.0291ms
2025-02-22 02:37:28.999 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:29.021 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 193.8284 ms
2025-02-22 02:37:29.039 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 219.2305ms
2025-02-22 02:37:30.903 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:31.026 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:37:30 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:37:31.099 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:37:30 '.
2025-02-22 02:37:31.115 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:37:31.138 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:37:31.151 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 240.8304 ms
2025-02-22 02:37:31.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 252.3827ms
2025-02-22 02:38:29.329 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:38:29.350 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:38:29.426 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:38:29 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:38:29.455 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:38:29 '.
2025-02-22 02:38:29.488 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:38:29.534 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:38:33.754 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:38:33.798 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:38:33.827 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:38:33.858 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:38:33.941 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:38:34.004 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:38:34.041 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:38:34.071 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:38:41.479 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:38:41.487 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 11908.8994ms
2025-02-22 02:38:41.498 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:38:41.518 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 12168.6087 ms
2025-02-22 02:38:41.542 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 12213.1188ms
2025-02-22 02:45:46.103 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:45:46.143 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:45:46.149 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:45:46.693 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:45:46.765 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:45:46.772 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:45:46.902 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:45:47.016 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:45:47.117 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:45:47.119 +02:00 [INF] Hosting environment: Development
2025-02-22 02:45:47.121 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:45:47.226 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:45:47.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 195.9725ms
2025-02-22 02:45:47.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:45:47.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.7941ms
2025-02-22 02:45:47.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:45:47.504 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.3299ms
2025-02-22 02:45:47.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:45:47.702 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.7207ms
2025-02-22 02:46:29.625 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:46:29.675 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:46:29.678 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:46:30.122 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:46:30.201 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:46:30.208 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:46:30.321 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:46:30.391 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:46:30.447 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:46:30.451 +02:00 [INF] Hosting environment: Development
2025-02-22 02:46:30.454 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:46:30.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:46:30.731 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 161.7104ms
2025-02-22 02:46:30.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:46:30.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:46:30.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 34.5926ms
2025-02-22 02:46:30.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.9616ms
2025-02-22 02:46:30.894 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:46:30.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.3119ms
2025-02-22 02:53:17.991 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 410
2025-02-22 02:53:18.005 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:53:18.015 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:53:18.045 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:53:18.065 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:53:18.406 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 02:53:18.459 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:53:18.500 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:53:18.650 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:53:18.974 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 02:53:19.042 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:53:19.084 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 02:53:19.101 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:53:19.137 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:53:19.231 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 02:53:25.199 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:53:25.219 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 7099.6368ms
2025-02-22 02:53:25.238 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:53:25.273 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 7255.9182 ms
2025-02-22 02:53:25.288 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 7296.8951ms
2025-02-22 02:54:40.935 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 410
2025-02-22 02:54:40.947 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:54:40.954 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:54:41.001 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:54:41.057 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 02:54:41.073 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:54:41.109 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:54:41.258 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:54:41.297 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 02:54:41.341 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:54:41.365 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 02:54:41.417 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:54:41.469 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:54:41.544 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 02:54:46.642 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:54:46.651 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 5615.6824ms
2025-02-22 02:54:46.658 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:54:46.671 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 5725.2245 ms
2025-02-22 02:54:46.676 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 5741.0051ms
2025-02-22 02:55:44.340 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 407
2025-02-22 02:55:44.348 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:55:44.353 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:55:44.359 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:55:44.449 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 02:55:44.506 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:55:44.578 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:55:44.735 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:55:44.761 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 02:55:44.831 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:55:44.859 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 02:55:44.890 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:55:44.922 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:55:45.019 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 02:55:53.591 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:55:53.598 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 9183.2521ms
2025-02-22 02:55:53.607 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:55:53.625 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 9277.4458 ms
2025-02-22 02:55:53.629 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 9288.7725ms
2025-02-22 02:59:25.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Library/books - null null
2025-02-22 02:59:25.684 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 02:59:25.706 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Library"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller SchoolManagementSystem.Api.Controllers.LibraryController (SchoolManagementSystem.Api).
2025-02-22 02:59:25.790 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LibraryID], [l].[Author], [l].[BookTitle], [l].[ISBN], [l].[Quantity]
FROM [Libraries] AS [l]
2025-02-22 02:59:25.808 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.LibraryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:59:25.832 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api) in 66.9252ms
2025-02-22 02:59:25.845 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 02:59:25.865 +02:00 [INF] HTTP GET /api/Library/books responded 200 in 180.9416 ms
2025-02-22 02:59:25.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Library/books - 200 null application/json; charset=utf-8 214.8026ms
2025-02-22 03:00:12.950 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Department/all - null null
2025-02-22 03:00:12.956 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:00:12.978 +02:00 [INF] Route matched with {action = "GetAllDepartments", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDepartments() on controller SchoolManagementSystem.Api.Controllers.DepartmentController (SchoolManagementSystem.Api).
2025-02-22 03:00:13.044 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
2025-02-22 03:00:13.069 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Entities.Department, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:00:13.105 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api) in 80.8914ms
2025-02-22 03:00:13.122 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:00:13.136 +02:00 [INF] HTTP GET /api/Department/all responded 200 in 179.6729 ms
2025-02-22 03:00:13.164 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Department/all - 200 null application/json; charset=utf-8 214.2467ms
2025-02-22 03:42:20.601 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/all - null null
2025-02-22 03:42:20.607 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:42:20.626 +02:00 [INF] Route matched with {action = "GetAllAssignments", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 03:42:20.684 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
2025-02-22 03:42:20.698 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:42:20.721 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api) in 65.8134ms
2025-02-22 03:42:20.738 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:42:20.757 +02:00 [INF] HTTP GET /api/Assignment/all responded 200 in 150.4011 ms
2025-02-22 03:42:20.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/all - 200 null application/json; charset=utf-8 172.9753ms
2025-02-22 03:43:30.277 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/all - null null
2025-02-22 03:43:30.285 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:43:30.317 +02:00 [INF] Route matched with {action = "GetAllAssignments", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 03:43:30.357 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
2025-02-22 03:43:30.392 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:43:30.417 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api) in 63.5039ms
2025-02-22 03:43:30.431 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:43:30.448 +02:00 [INF] HTTP GET /api/Assignment/all responded 200 in 163.2097 ms
2025-02-22 03:43:30.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/all - 200 null application/json; charset=utf-8 175.6012ms
2025-02-22 03:43:35.866 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/all - null null
2025-02-22 03:43:35.875 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:43:35.885 +02:00 [INF] Route matched with {action = "GetAllAttendances", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAttendances() on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 03:43:35.949 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
2025-02-22 03:43:35.989 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AttendanceDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:43:36.008 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api) in 70.4074ms
2025-02-22 03:43:36.015 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:43:36.038 +02:00 [INF] HTTP GET /api/Attendance/all responded 200 in 162.9255 ms
2025-02-22 03:43:36.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/all - 200 null application/json; charset=utf-8 194.9908ms
2025-02-22 03:46:37.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/all - null null
2025-02-22 03:46:37.757 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:46:37.759 +02:00 [INF] Route matched with {action = "GetAllAttendances", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAttendances() on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 03:46:37.824 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
2025-02-22 03:46:37.869 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AttendanceDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:46:37.879 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api) in 60.5997ms
2025-02-22 03:46:37.897 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:46:37.915 +02:00 [INF] HTTP GET /api/Attendance/all responded 200 in 158.1920 ms
2025-02-22 03:46:37.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/all - 200 null application/json; charset=utf-8 184.4607ms
2025-02-22 03:46:48.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - null null
2025-02-22 03:46:48.800 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:46:48.808 +02:00 [INF] Route matched with {action = "GetAllBorrowedBooks", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowedBooks() on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 03:46:48.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BorrowID], [b].[BorrowDate], [b].[LibraryID], [b].[ReturnDate], [b].[StudentID]
FROM [BorrowedBooks] AS [b]
2025-02-22 03:46:48.893 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:46:48.930 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api) in 98.5817ms
2025-02-22 03:46:48.946 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:46:48.979 +02:00 [INF] HTTP GET /api/BorrowedBooks/all responded 200 in 179.3820 ms
2025-02-22 03:46:48.983 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - 200 null application/json; charset=utf-8 188.5377ms
2025-02-22 03:53:36.947 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - null null
2025-02-22 03:53:36.955 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:53:36.962 +02:00 [INF] Route matched with {action = "GetAllBorrowedBooks", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowedBooks() on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 03:53:37.036 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BorrowID], [b].[BorrowDate], [b].[LibraryID], [b].[ReturnDate], [b].[StudentID]
FROM [BorrowedBooks] AS [b]
2025-02-22 03:53:37.072 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:53:37.111 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api) in 84.3351ms
2025-02-22 03:53:37.117 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:53:37.125 +02:00 [INF] HTTP GET /api/BorrowedBooks/all responded 200 in 170.3277 ms
2025-02-22 03:53:37.145 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - 200 null application/json; charset=utf-8 198.6412ms
2025-02-22 03:53:45.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ClassRooms/all - null null
2025-02-22 03:53:45.077 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClassRoomsController.GetAllClassrooms (SchoolManagementSystem.Api)'
2025-02-22 03:53:45.086 +02:00 [INF] Route matched with {action = "GetAllClassrooms", controller = "ClassRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClassrooms() on controller SchoolManagementSystem.Api.Controllers.ClassRoomsController (SchoolManagementSystem.Api).
2025-02-22 03:53:45.134 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
2025-02-22 03:53:45.192 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Entities.Classroom, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:53:45.212 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClassRoomsController.GetAllClassrooms (SchoolManagementSystem.Api) in 91.6667ms
2025-02-22 03:53:45.231 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClassRoomsController.GetAllClassrooms (SchoolManagementSystem.Api)'
2025-02-22 03:53:45.268 +02:00 [INF] HTTP GET /api/ClassRooms/all responded 200 in 190.5067 ms
2025-02-22 03:53:45.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ClassRooms/all - 200 null application/json; charset=utf-8 213.8015ms
2025-02-22 03:53:55.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Course/all - null null
2025-02-22 03:53:55.573 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.CourseController.GetAllCourses (SchoolManagementSystem.Api)'
2025-02-22 03:53:55.587 +02:00 [INF] Route matched with {action = "GetAllCourses", controller = "Course"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCourses() on controller SchoolManagementSystem.Api.Controllers.CourseController (SchoolManagementSystem.Api).
2025-02-22 03:53:55.647 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
2025-02-22 03:53:55.695 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.CourseDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:53:55.733 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.CourseController.GetAllCourses (SchoolManagementSystem.Api) in 94.7117ms
2025-02-22 03:53:55.742 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.CourseController.GetAllCourses (SchoolManagementSystem.Api)'
2025-02-22 03:53:55.764 +02:00 [INF] HTTP GET /api/Course/all responded 200 in 190.8353 ms
2025-02-22 03:53:55.771 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Course/all - 200 null application/json; charset=utf-8 204.1242ms
2025-02-22 03:54:01.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Department/all - null null
2025-02-22 03:54:01.314 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:54:01.322 +02:00 [INF] Route matched with {action = "GetAllDepartments", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDepartments() on controller SchoolManagementSystem.Api.Controllers.DepartmentController (SchoolManagementSystem.Api).
2025-02-22 03:54:01.368 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
2025-02-22 03:54:01.404 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Entities.Department, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:54:01.438 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api) in 74.6122ms
2025-02-22 03:54:01.462 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:54:01.479 +02:00 [INF] HTTP GET /api/Department/all responded 200 in 165.4565 ms
2025-02-22 03:54:01.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Department/all - 200 null application/json; charset=utf-8 177.675ms
2025-02-22 03:54:08.417 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - null null
2025-02-22 03:54:08.425 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:54:08.434 +02:00 [INF] Route matched with {action = "GetAllEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEnrollments() on controller SchoolManagementSystem.Api.Controllers.EnrollmentController (SchoolManagementSystem.Api).
2025-02-22 03:54:08.477 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EnrollmentID], [e].[CourseID], [e].[EnrollmentDate], [e].[StudentID]
FROM [Enrollments] AS [e]
2025-02-22 03:54:08.515 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.EnrollmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:54:08.536 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api) in 74.3452ms
2025-02-22 03:54:08.566 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:54:08.596 +02:00 [INF] HTTP GET /api/Enrollment/all responded 200 in 171.2233 ms
2025-02-22 03:54:08.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - 200 null application/json; charset=utf-8 185.0586ms
2025-02-22 03:55:10.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - null null
2025-02-22 03:55:10.052 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:55:10.061 +02:00 [INF] Route matched with {action = "GetAllEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEnrollments() on controller SchoolManagementSystem.Api.Controllers.EnrollmentController (SchoolManagementSystem.Api).
2025-02-22 03:55:10.143 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EnrollmentID], [e].[CourseID], [e].[EnrollmentDate], [e].[StudentID]
FROM [Enrollments] AS [e]
2025-02-22 03:55:10.172 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.EnrollmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:10.204 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api) in 67.8244ms
2025-02-22 03:55:10.223 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:55:10.240 +02:00 [INF] HTTP GET /api/Enrollment/all responded 200 in 188.0974 ms
2025-02-22 03:55:10.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - 200 null application/json; charset=utf-8 204.7165ms
2025-02-22 03:55:17.512 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Exam/all - null null
2025-02-22 03:55:17.516 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamController.GetAllExams (SchoolManagementSystem.Api)'
2025-02-22 03:55:17.526 +02:00 [INF] Route matched with {action = "GetAllExams", controller = "Exam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExams() on controller SchoolManagementSystem.Api.Controllers.ExamController (SchoolManagementSystem.Api).
2025-02-22 03:55:17.636 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamID], [e].[CourseID], [e].[Date], [e].[ExamName], [e].[ExamTypeID], [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID], [e0].[ExamTypeID], [e0].[TypeName]
FROM [Exams] AS [e]
INNER JOIN [Courses] AS [c] ON [e].[CourseID] = [c].[CourseID]
INNER JOIN [ExamTypes] AS [e0] ON [e].[ExamTypeID] = [e0].[ExamTypeID]
2025-02-22 03:55:17.674 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:17.681 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamController.GetAllExams (SchoolManagementSystem.Api) in 123.7403ms
2025-02-22 03:55:17.691 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamController.GetAllExams (SchoolManagementSystem.Api)'
2025-02-22 03:55:17.707 +02:00 [INF] HTTP GET /api/Exam/all responded 200 in 191.2288 ms
2025-02-22 03:55:17.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Exam/all - 200 null application/json; charset=utf-8 214.2291ms
2025-02-22 03:55:23.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - null null
2025-02-22 03:55:23.423 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 03:55:23.457 +02:00 [INF] Route matched with {action = "GetAllExamResults", controller = "ExamResult"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamResults() on controller SchoolManagementSystem.Api.Controllers.ExamResultController (SchoolManagementSystem.Api).
2025-02-22 03:55:23.486 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamResultID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamResults] AS [e]
2025-02-22 03:55:23.523 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamResultDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:23.559 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api) in 84.6315ms
2025-02-22 03:55:23.573 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 03:55:23.587 +02:00 [INF] HTTP GET /api/ExamResult/all responded 200 in 164.2579 ms
2025-02-22 03:55:23.604 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - 200 null application/json; charset=utf-8 189.9668ms
2025-02-22 03:55:29.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamScore/get/all - null null
2025-02-22 03:55:29.434 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetAllExamScores (SchoolManagementSystem.Api)'
2025-02-22 03:55:29.442 +02:00 [INF] Route matched with {action = "GetAllExamScores", controller = "ExamScore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamScores() on controller SchoolManagementSystem.Api.Controllers.ExamScoreController (SchoolManagementSystem.Api).
2025-02-22 03:55:29.507 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamScoreID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamScores] AS [e]
2025-02-22 03:55:29.542 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamScoreDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:29.571 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamScoreController.GetAllExamScores (SchoolManagementSystem.Api) in 73.7332ms
2025-02-22 03:55:29.597 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetAllExamScores (SchoolManagementSystem.Api)'
2025-02-22 03:55:29.634 +02:00 [INF] HTTP GET /api/ExamScore/get/all responded 200 in 200.0444 ms
2025-02-22 03:55:29.650 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamScore/get/all - 200 null application/json; charset=utf-8 221.5439ms
2025-02-22 03:55:34.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamType/all - null null
2025-02-22 03:55:34.751 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamTypeController.GetAllExamTypes (SchoolManagementSystem.Api)'
2025-02-22 03:55:34.782 +02:00 [INF] Route matched with {action = "GetAllExamTypes", controller = "ExamType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamTypes() on controller SchoolManagementSystem.Api.Controllers.ExamTypeController (SchoolManagementSystem.Api).
2025-02-22 03:55:34.831 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamTypeID], [e].[TypeName]
FROM [ExamTypes] AS [e]
2025-02-22 03:55:34.860 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamTypeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:34.892 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamTypeController.GetAllExamTypes (SchoolManagementSystem.Api) in 70.4457ms
2025-02-22 03:55:34.899 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamTypeController.GetAllExamTypes (SchoolManagementSystem.Api)'
2025-02-22 03:55:34.909 +02:00 [INF] HTTP GET /api/ExamType/all responded 200 in 157.8010 ms
2025-02-22 03:55:34.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamType/all - 200 null application/json; charset=utf-8 187.327ms
2025-02-22 03:55:43.182 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/all - null null
2025-02-22 03:55:43.191 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetAll (SchoolManagementSystem.Api)'
2025-02-22 03:55:43.242 +02:00 [INF] Route matched with {action = "GetAll", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 03:55:43.281 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeeID], [f].[Amount], [f].[DueDate], [f].[PaidDate], [f].[StudentID]
FROM [Fees] AS [f]
2025-02-22 03:55:43.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:43.343 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetAll (SchoolManagementSystem.Api) in 73.8306ms
2025-02-22 03:55:43.357 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetAll (SchoolManagementSystem.Api)'
2025-02-22 03:55:43.377 +02:00 [INF] HTTP GET /api/Fees/all responded 200 in 187.0202 ms
2025-02-22 03:55:43.402 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/all - 200 null application/json; charset=utf-8 219.7511ms
2025-02-22 03:56:29.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - null null
2025-02-22 03:56:29.649 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 03:56:29.692 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 03:56:29.746 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 03:56:29.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeeID], [f].[Amount], [f].[DueDate], [f].[PaidDate], [f].[StudentID]
FROM [Fees] AS [f]
WHERE [f].[StudentID] = @__studentId_0
2025-02-22 03:56:29.844 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:56:29.867 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 144.9496ms
2025-02-22 03:56:29.890 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 03:56:29.909 +02:00 [INF] HTTP GET /api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees responded 200 in 260.3124 ms
2025-02-22 03:56:29.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - 200 null application/json; charset=utf-8 291.6445ms
2025-02-22 03:56:36.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Library/books - null null
2025-02-22 03:56:36.617 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 03:56:36.625 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Library"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller SchoolManagementSystem.Api.Controllers.LibraryController (SchoolManagementSystem.Api).
2025-02-22 03:56:36.670 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LibraryID], [l].[Author], [l].[BookTitle], [l].[ISBN], [l].[Quantity]
FROM [Libraries] AS [l]
2025-02-22 03:56:36.714 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.LibraryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:56:36.724 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api) in 57.9013ms
2025-02-22 03:56:36.735 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 03:56:36.756 +02:00 [INF] HTTP GET /api/Library/books responded 200 in 139.0670 ms
2025-02-22 03:56:36.761 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Library/books - 200 null application/json; charset=utf-8 151.5474ms
2025-02-22 03:56:43.678 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Parent/2/students - null null
2025-02-22 03:56:43.685 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ParentController.GetStudentsByParent (SchoolManagementSystem.Api)'
2025-02-22 03:56:43.698 +02:00 [INF] Route matched with {action = "GetStudentsByParent", controller = "Parent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsByParent(Int32) on controller SchoolManagementSystem.Api.Controllers.ParentController (SchoolManagementSystem.Api).
2025-02-22 03:56:43.773 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 03:56:43.845 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [s].[ParentID] = @__parentId_0
2025-02-22 03:56:43.900 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:56:43.932 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ParentController.GetStudentsByParent (SchoolManagementSystem.Api) in 178.9111ms
2025-02-22 03:56:43.961 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ParentController.GetStudentsByParent (SchoolManagementSystem.Api)'
2025-02-22 03:56:43.992 +02:00 [INF] HTTP GET /api/Parent/2/students responded 200 in 307.8817 ms
2025-02-22 03:56:44.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Parent/2/students - 200 null application/json; charset=utf-8 332.4262ms
2025-02-22 03:57:01.780 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 03:57:01.788 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 03:57:01.825 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 03:57:01.931 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 03:57:01.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:57:02.003 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 128.3502ms
2025-02-22 03:57:02.026 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 03:57:02.057 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 269.4194 ms
2025-02-22 03:57:02.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 300.362ms
2025-02-22 03:57:20.087 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Teachers/all - null null
2025-02-22 03:57:20.101 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetAllTeachers (SchoolManagementSystem.Api)'
2025-02-22 03:57:20.115 +02:00 [INF] Route matched with {action = "GetAllTeachers", controller = "Teachers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTeachers() on controller SchoolManagementSystem.Api.Controllers.TeachersController (SchoolManagementSystem.Api).
2025-02-22 03:57:20.164 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
2025-02-22 03:57:20.227 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.TeacherDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:57:20.261 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.TeachersController.GetAllTeachers (SchoolManagementSystem.Api) in 115.4532ms
2025-02-22 03:57:20.275 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetAllTeachers (SchoolManagementSystem.Api)'
2025-02-22 03:57:20.307 +02:00 [INF] HTTP GET /api/Teachers/all responded 200 in 205.7899 ms
2025-02-22 03:57:20.323 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Teachers/all - 200 null application/json; charset=utf-8 236.246ms
2025-02-22 04:00:05.798 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:00:05.849 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:00:05.853 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:00:06.333 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:00:06.412 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:00:06.419 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:00:06.558 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:00:06.640 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:00:06.692 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:00:06.696 +02:00 [INF] Hosting environment: Development
2025-02-22 04:00:06.698 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:00:06.759 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:00:06.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 160.0812ms
2025-02-22 04:00:06.930 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:00:06.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:00:06.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 26.2504ms
2025-02-22 04:00:06.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.5045ms
2025-02-22 04:00:07.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:00:07.232 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.4435ms
2025-02-22 04:07:17.552 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:17.606 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:17.611 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:18.100 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:18.191 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:18.198 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:18.325 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:07:18.417 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:07:18.477 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:07:18.480 +02:00 [INF] Hosting environment: Development
2025-02-22 04:07:18.485 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:07:18.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:07:18.861 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 162.6016ms
2025-02-22 04:07:18.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:07:18.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:07:18.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 35.33ms
2025-02-22 04:07:18.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.2172ms
2025-02-22 04:07:19.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:07:19.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.1082ms
2025-02-22 04:07:30.976 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:31.021 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:31.024 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:31.473 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:31.545 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:31.552 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:31.652 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:07:31.730 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:07:31.781 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:07:31.786 +02:00 [INF] Hosting environment: Development
2025-02-22 04:07:31.788 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:07:31.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:07:32.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 187.8163ms
2025-02-22 04:07:32.130 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:07:32.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:07:32.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 20.6948ms
2025-02-22 04:07:32.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.5985ms
2025-02-22 04:07:32.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:07:32.374 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.5734ms
2025-02-22 04:07:46.460 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 04:07:46.475 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:07:46.519 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:07:46.555 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 04:07:46.947 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 04:07:47.251 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:07:47.275 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 670.4547ms
2025-02-22 04:07:47.281 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:07:47.288 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 799.3684 ms
2025-02-22 04:07:47.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 836.4874ms
2025-02-22 04:11:25.346 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:11:25.410 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:11:25.413 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:11:25.947 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:11:26.048 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:11:26.059 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:11:26.210 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:11:26.385 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:11:26.445 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:11:26.457 +02:00 [INF] Hosting environment: Development
2025-02-22 04:11:26.476 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:11:27.071 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:11:27.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 413.847ms
2025-02-22 04:11:27.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:11:27.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:11:27.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.2357ms
2025-02-22 04:11:27.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.4278ms
2025-02-22 04:11:27.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:11:27.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.7212ms
2025-02-22 04:12:23.266 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 04:12:23.305 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:12:23.432 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:12:23.454 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 04:12:49.316 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 04:13:44.627 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:13:44.654 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 81154.7341ms
2025-02-22 04:13:44.674 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:13:44.702 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 81380.6999 ms
2025-02-22 04:13:44.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 81445.0894ms
2025-02-22 04:32:19.381 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:32:19.426 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:32:19.432 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:32:19.811 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:32:19.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:32:19.884 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:32:19.997 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:32:20.066 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:32:20.125 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:32:20.127 +02:00 [INF] Hosting environment: Development
2025-02-22 04:32:20.129 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:32:20.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:32:20.860 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 186.758ms
2025-02-22 04:32:20.872 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:32:20.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.545ms
2025-02-22 04:32:20.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:32:20.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.0642ms
2025-02-22 04:32:21.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:32:21.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.3838ms
2025-02-22 04:32:30.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 04:32:30.991 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:32:31.036 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:32:31.061 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 04:32:31.422 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 04:32:31.632 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:32:31.653 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 561.8045ms
2025-02-22 04:32:31.663 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:32:31.682 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 678.0633 ms
2025-02-22 04:32:31.690 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 712.2781ms
2025-02-22 04:36:39.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/edfg/outstanding-fees - null null
2025-02-22 04:36:39.195 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:36:39.230 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 04:36:39.337 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:36:39.360 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:36:39.408 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 130.1139ms
2025-02-22 04:36:39.425 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:36:39.454 +02:00 [INF] HTTP GET /api/Fees/edfg/outstanding-fees responded 404 in 272.6596 ms
2025-02-22 04:36:39.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/edfg/outstanding-fees - 404 null application/json; charset=utf-8 289.6734ms
2025-02-22 04:36:54.207 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamScore/student/2345 - null null
2025-02-22 04:36:54.218 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api)'
2025-02-22 04:36:54.246 +02:00 [INF] Route matched with {action = "GetExamScoresByStudent", controller = "ExamScore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamScoresByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.ExamScoreController (SchoolManagementSystem.Api).
2025-02-22 04:36:54.295 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:36:54.372 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamScoreDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:36:54.393 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api) in 106.8722ms
2025-02-22 04:36:54.421 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api)'
2025-02-22 04:36:54.442 +02:00 [INF] HTTP GET /api/ExamScore/student/2345 responded 400 in 227.7239 ms
2025-02-22 04:36:54.448 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamScore/student/2345 - 400 null application/json; charset=utf-8 241.1488ms
2025-02-22 04:37:43.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - null null
2025-02-22 04:37:43.892 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 04:37:43.900 +02:00 [INF] Route matched with {action = "GetAllExamResults", controller = "ExamResult"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamResults() on controller SchoolManagementSystem.Api.Controllers.ExamResultController (SchoolManagementSystem.Api).
2025-02-22 04:37:43.957 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamResultID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamResults] AS [e]
2025-02-22 04:37:44.011 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamResultDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:37:44.032 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api) in 96.1423ms
2025-02-22 04:37:44.045 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 04:37:44.061 +02:00 [INF] HTTP GET /api/ExamResult/all responded 200 in 169.8815 ms
2025-02-22 04:37:44.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - 200 null application/json; charset=utf-8 181.5022ms
2025-02-22 04:37:50.624 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:37:50.667 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:37:50.673 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:37:51.126 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:37:51.215 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:37:51.221 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:37:51.323 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:37:51.389 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:37:51.448 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:37:51.452 +02:00 [INF] Hosting environment: Development
2025-02-22 04:37:51.454 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:37:51.455 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:37:51.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 168.5487ms
2025-02-22 04:37:51.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:37:51.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:37:51.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 40.3318ms
2025-02-22 04:37:51.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.6806ms
2025-02-22 04:37:51.761 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:37:51.838 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.9928ms
2025-02-22 04:38:11.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/ccd05215-afd2-4777-836f-6f7ec5c4fdb2 - null null
2025-02-22 04:38:11.746 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:38:11.809 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 04:38:11.832 +02:00 [INF] Route matched with {action = "GetUserRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRoles(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 04:38:12.006 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:38:12.240 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:38:12.317 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__roles_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [AspNetRoles] AS [a]
WHERE [a].[Name] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__roles_0) WITH ([value] nvarchar(256) '$') AS [r]
)
2025-02-22 04:38:12.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.UserRoles, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 04:38:12.395 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api) in 523.6646ms
2025-02-22 04:38:12.399 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 04:38:12.414 +02:00 [INF] HTTP GET /api/Roles/GetUserRoles/ccd05215-afd2-4777-836f-6f7ec5c4fdb2 responded 200 in 651.7311 ms
2025-02-22 04:38:12.430 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/ccd05215-afd2-4777-836f-6f7ec5c4fdb2 - 200 null application/json; charset=utf-8 699.5482ms
2025-02-22 04:38:23.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/count/teacher - null null
2025-02-22 04:38:23.957 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 04:38:23.968 +02:00 [INF] Route matched with {action = "GetUserCountByRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCountByRole(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 04:38:24.085 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUserRoles] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Id] = [a].[RoleId] AND [a0].[Name] = @__roleName_0)
2025-02-22 04:38:24.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:38:24.123 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api) in 96.3649ms
2025-02-22 04:38:24.135 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 04:38:24.166 +02:00 [INF] HTTP GET /api/Roles/count/teacher responded 200 in 210.7855 ms
2025-02-22 04:38:24.173 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/count/teacher - 200 null application/json; charset=utf-8 227.9306ms
2025-02-22 04:39:02.390 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/ccd05215-afd2-4777-836f-6f7ec5c4fdb2/outstanding-fees - null null
2025-02-22 04:39:02.402 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:02.418 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 04:39:02.634 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:39:02.670 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:39:02.722 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 252.8775ms
2025-02-22 04:39:02.727 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:02.746 +02:00 [INF] HTTP GET /api/Fees/ccd05215-afd2-4777-836f-6f7ec5c4fdb2/outstanding-fees responded 404 in 348.4098 ms
2025-02-22 04:39:02.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/ccd05215-afd2-4777-836f-6f7ec5c4fdb2/outstanding-fees - 404 null application/json; charset=utf-8 378.8074ms
2025-02-22 04:39:33.375 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - null null
2025-02-22 04:39:33.385 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:33.396 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 04:39:33.451 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:39:33.550 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeeID], [f].[Amount], [f].[DueDate], [f].[PaidDate], [f].[StudentID]
FROM [Fees] AS [f]
WHERE [f].[StudentID] = @__studentId_0
2025-02-22 04:39:33.602 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:39:33.610 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 165.7916ms
2025-02-22 04:39:33.629 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:33.648 +02:00 [INF] HTTP GET /api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees responded 200 in 262.6702 ms
2025-02-22 04:39:33.654 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - 200 null application/json; charset=utf-8 278.6025ms
2025-02-22 04:40:35.212 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 04:40:35.219 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:35.232 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:40:35.268 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 04:40:35.289 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 04:40:35.293 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 47.9062ms
2025-02-22 04:40:35.324 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:35.345 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 125.8051 ms
2025-02-22 04:40:35.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 152.2269ms
2025-02-22 04:40:43.022 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 04:40:43.041 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:43.047 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:40:43.112 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 04:40:43.139 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 04:40:43.153 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 43.012ms
2025-02-22 04:40:43.174 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:43.193 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 151.8137 ms
2025-02-22 04:40:43.200 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 178.6994ms
2025-02-22 04:40:57.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQeeAh8Xj2HJsZR2jPNo5K1jf1gtDjMbjJ5vuVb4_iumFwY-vGKeHMhjGah5aiFBsa_RszoQOiMHveEfypQfve9Zi4lq5MddlpuIx6IbQuEKQVzLiwHGFHYgA52vljg27TsenQwRmulpIugk9SX0gWc-owuFas9Q_yU0dLdsbR89jHSPRKKXofQNawcCPOcEbWStXfgT2MEyoKS27KKOd9HSrItPssWinXJ3YvyvA4Ai-Atg29IoNea1Slbxs0C-rXA0iuTEFWwSH_rih-nl2VjMW-osTkPhQ0eT4alcdoG2vdOw6uhGZlW5MjcxqYmSjt2Q&code=4%2F0ASVgi3JUb0T6Yx_36y8VGpu4YsePpUBmuN-24RGDt0fTrzExh8lfKHDKNeS8PSNPvjnjQA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none - null null
2025-02-22 04:41:03.970 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-02-22 04:41:03.974 +02:00 [INF] HTTP GET /signin-google responded 302 in 5972.5382 ms
2025-02-22 04:41:03.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQeeAh8Xj2HJsZR2jPNo5K1jf1gtDjMbjJ5vuVb4_iumFwY-vGKeHMhjGah5aiFBsa_RszoQOiMHveEfypQfve9Zi4lq5MddlpuIx6IbQuEKQVzLiwHGFHYgA52vljg27TsenQwRmulpIugk9SX0gWc-owuFas9Q_yU0dLdsbR89jHSPRKKXofQNawcCPOcEbWStXfgT2MEyoKS27KKOd9HSrItPssWinXJ3YvyvA4Ai-Atg29IoNea1Slbxs0C-rXA0iuTEFWwSH_rih-nl2VjMW-osTkPhQ0eT4alcdoG2vdOw6uhGZlW5MjcxqYmSjt2Q&code=4%2F0ASVgi3JUb0T6Yx_36y8VGpu4YsePpUBmuN-24RGDt0fTrzExh8lfKHDKNeS8PSNPvjnjQA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none - 302 0 null 5993.2805ms
2025-02-22 04:41:04.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 04:41:04.030 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:41:04.069 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:41:04.141 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:41:04.213 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:41:04.413 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-22 04:41:04.452 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2025-02-22 04:41:04.493 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:41:04.619 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p22='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p23='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [Token] = @p18, [TokenExpiryTime] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-02-22 04:41:04.649 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:41:04.668 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:41:04.693 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:41:04.740 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 04:41:04.832 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:41:04.865 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:41:04.870 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 759.7483ms
2025-02-22 04:41:04.883 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:41:04.926 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 895.3190 ms
2025-02-22 04:41:04.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 918.5099ms
2025-02-22 04:42:51.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 04:42:51.616 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:42:51.619 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:42:51.651 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:42:51.741 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:42:51.775 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:42:51.838 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:42:51.940 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 04:42:52.017 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:42:52.058 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:42:52.072 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 432.1744ms
2025-02-22 04:42:52.093 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:42:52.122 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 506.3124 ms
2025-02-22 04:42:52.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 516.5116ms
2025-02-22 04:43:33.865 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 04:43:33.874 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:43:33.880 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:43:33.944 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:43:34.045 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:43:34.073 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:43:34.124 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:43:34.239 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 04:43:34.332 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:43:34.408 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:43:34.422 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 503.1635ms
2025-02-22 04:43:34.458 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:43:34.490 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 616.0833 ms
2025-02-22 04:43:34.508 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 643.1551ms
2025-02-22 04:46:56.109 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 34
2025-02-22 04:46:56.118 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:46:56.124 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:46:56.169 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:46:56.244 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:46:56.328 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:46:56.335 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 116.7998ms
2025-02-22 04:46:56.341 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:46:56.365 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 400 in 248.3209 ms
2025-02-22 04:46:56.386 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 400 null application/json; charset=utf-8 275.9501ms
2025-02-22 04:47:55.763 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 33
2025-02-22 04:47:55.771 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:47:55.776 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:47:55.792 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:47:55.837 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:47:55.924 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:47:55.941 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 114.912ms
2025-02-22 04:47:55.961 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:47:55.980 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 209.4852 ms
2025-02-22 04:47:55.995 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 231.877ms
2025-02-22 04:48:40.486 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - application/json 354
2025-02-22 04:48:40.492 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:48:40.494 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:40.510 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ResetPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:48:40.606 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:48:40.651 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:48:40.657 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api) in 95.7403ms
2025-02-22 04:48:40.677 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:40.709 +02:00 [INF] HTTP POST /api/Account/reset-password responded 0 in 217.1030 ms
2025-02-22 04:48:40.714 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - 0 null application/json; charset=utf-8 228.2719ms
2025-02-22 04:48:48.506 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - application/json 359
2025-02-22 04:48:48.514 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:48:48.516 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:48.523 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ResetPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:48:48.582 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:48:48.654 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:48:48.816 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:48:48.888 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 04:48:48.927 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:48:48.942 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api) in 364.4639ms
2025-02-22 04:48:48.959 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:48.978 +02:00 [INF] HTTP POST /api/Account/reset-password responded 200 in 464.3529 ms
2025-02-22 04:48:48.990 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - 200 null application/json; charset=utf-8 483.5852ms
2025-02-22 04:49:10.661 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 62
2025-02-22 04:49:10.667 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:49:10.670 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:10.683 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:49:10.759 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:49:10.936 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:49:10.946 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:49:10.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:49:11.042 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 04:49:11.172 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:49:11.245 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 04:49:11.284 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 533.8202ms
2025-02-22 04:49:11.291 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:11.307 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 639.9707 ms
2025-02-22 04:49:11.323 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 661.8682ms
2025-02-22 04:49:21.410 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 60
2025-02-22 04:49:21.416 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:49:21.418 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:21.426 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:49:21.496 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:49:21.668 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 04:49:21.673 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 179.7145ms
2025-02-22 04:49:21.683 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:21.698 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 282.1757 ms
2025-02-22 04:49:21.704 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 294.0539ms
2025-02-22 04:50:05.464 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:50:05.507 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:50:05.513 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:50:06.030 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:50:06.112 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:50:06.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:50:06.310 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:50:06.395 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:50:06.437 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:50:06.462 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:50:06.466 +02:00 [INF] Hosting environment: Development
2025-02-22 04:50:06.470 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:50:06.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 214.9685ms
2025-02-22 04:50:06.681 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:50:06.681 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:50:06.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.037ms
2025-02-22 04:50:06.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9468ms
2025-02-22 04:50:06.793 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:50:06.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.6504ms
2025-02-22 04:55:04.613 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:55:04.661 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:55:04.667 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:55:05.234 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:55:05.329 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:55:05.336 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:55:05.471 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:55:05.616 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:55:05.677 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:55:05.699 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:55:05.701 +02:00 [INF] Hosting environment: Development
2025-02-22 04:55:05.711 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:55:05.854 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 178.3107ms
2025-02-22 04:55:05.865 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:55:05.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.5518ms
2025-02-22 04:55:05.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:55:05.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0909ms
2025-02-22 04:55:05.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:55:06.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.3835ms
2025-02-22 05:00:57.333 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:00:57.399 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:00:57.405 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:00:57.887 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:00:57.961 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:00:57.966 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:00:58.105 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 05:00:58.204 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 05:00:58.276 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 05:00:58.280 +02:00 [INF] Hosting environment: Development
2025-02-22 05:00:58.283 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 05:00:58.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 05:00:58.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 187.0597ms
2025-02-22 05:00:58.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 05:00:58.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 05:00:58.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 29.5114ms
2025-02-22 05:00:58.538 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.791ms
2025-02-22 05:00:58.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 05:00:58.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6697ms
2025-02-22 05:01:18.295 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 34
2025-02-22 05:01:18.309 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 05:01:18.321 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:01:18.370 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:01:18.396 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:01:18.588 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:01:24.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:01:24.078 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 5626.2619ms
2025-02-22 05:01:24.097 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:01:24.118 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 5797.3745 ms
2025-02-22 05:01:24.137 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 5841.8024ms
2025-02-22 05:04:16.588 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 34
2025-02-22 05:04:16.599 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:04:16.605 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:04:16.634 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:04:16.721 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:04:21.924 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:04:21.935 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 5254.8861ms
2025-02-22 05:04:21.941 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:04:21.944 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 5345.3549 ms
2025-02-22 05:04:21.946 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 5358.4778ms
2025-02-22 05:06:31.233 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 451
2025-02-22 05:06:31.241 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:06:31.247 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 05:06:31.267 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:06:31.561 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 05:06:31.597 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 05:06:31.633 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:06:31.694 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:06:31.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:06:32.028 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 05:06:32.084 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 05:06:32.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 05:06:32.147 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 05:06:32.200 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:06:32.272 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 05:06:37.601 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:06:37.627 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 6293.1298ms
2025-02-22 05:06:37.634 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 05:06:37.637 +02:00 [INF] HTTP POST /api/Account/register/student responded 200 in 6396.2995 ms
2025-02-22 05:06:37.641 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 200 null application/json; charset=utf-8 6407.118ms
2025-02-22 05:07:08.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/confirm-email?userId=fe7825d5-3baf-4a29-8562-7c03583667ff&token=CfDJ8HIq4qz2bxNFpYrJMFKyQecitQoaQ2Vc7IkO8eJ%2Fo%2FfLtchr%2B%2FupMBEQDSECS5H%2FSTaFVepDGHFotIM5JVsEaaCPVVd4c7OuvViMSmpAyMTJvIbeY8UaeEaCjQPkebid8a2mkIQTv26R6Zpx3YiwMv1dRsKxIV7Cb0HuHjS6Gqcz3iBjjOljqf9Rvyr%2FnV65sBBxFPUg19NnlFthNlTKGk5cu%2FNsZQr4PoA1pT1FrbYt7cPgCH1161iN1pmhIHsAXg%3D%3D - null null
2025-02-22 05:07:08.033 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api)'
2025-02-22 05:07:08.043 +02:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:07:08.117 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 05:07:08.178 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:07:08.263 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:07:08.335 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Entities.Identity.AppUser, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:07:08.361 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api) in 267.1738ms
2025-02-22 05:07:08.388 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api)'
2025-02-22 05:07:08.420 +02:00 [INF] HTTP GET /api/Account/confirm-email responded 200 in 387.3573 ms
2025-02-22 05:07:08.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/confirm-email?userId=fe7825d5-3baf-4a29-8562-7c03583667ff&token=CfDJ8HIq4qz2bxNFpYrJMFKyQecitQoaQ2Vc7IkO8eJ%2Fo%2FfLtchr%2B%2FupMBEQDSECS5H%2FSTaFVepDGHFotIM5JVsEaaCPVVd4c7OuvViMSmpAyMTJvIbeY8UaeEaCjQPkebid8a2mkIQTv26R6Zpx3YiwMv1dRsKxIV7Cb0HuHjS6Gqcz3iBjjOljqf9Rvyr%2FnV65sBBxFPUg19NnlFthNlTKGk5cu%2FNsZQr4PoA1pT1FrbYt7cPgCH1161iN1pmhIHsAXg%3D%3D - 200 null application/json; charset=utf-8 434.8368ms
2025-02-22 05:08:11.844 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 44
2025-02-22 05:08:11.850 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:08:11.853 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:08:11.859 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:08:11.893 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:08:44.208 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:08:44.216 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 32339.567ms
2025-02-22 05:08:44.219 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:08:44.221 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 32371.3642 ms
2025-02-22 05:08:44.224 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 32379.4049ms
2025-02-22 05:09:35.404 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - application/json 367
2025-02-22 05:09:35.410 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:09:35.412 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 05:09:35.419 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ResetPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:09:35.440 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:09:35.473 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:09:35.584 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:09:35.604 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:09:35.618 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:09:35.624 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api) in 199.0998ms
2025-02-22 05:09:35.626 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 05:09:35.628 +02:00 [INF] HTTP POST /api/Account/reset-password responded 200 in 218.2122 ms
2025-02-22 05:09:35.631 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - 200 null application/json; charset=utf-8 227.0405ms
2025-02-22 05:10:02.059 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 70
2025-02-22 05:10:02.065 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:10:02.067 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:02.076 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:10:02.095 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:10:02.198 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:10:02.206 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 121.8332ms
2025-02-22 05:10:02.210 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:02.211 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 145.8096 ms
2025-02-22 05:10:02.215 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 156.1759ms
2025-02-22 05:10:08.817 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 71
2025-02-22 05:10:08.824 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:10:08.825 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:08.827 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:10:08.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:10:08.996 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 05:10:09.016 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 05:10:09.046 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:10:09.059 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:10:09.102 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 05:10:09.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:10:09.133 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 298.7325ms
2025-02-22 05:10:09.139 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:09.144 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 320.0951 ms
2025-02-22 05:10:09.148 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 331.9043ms
2025-02-22 05:10:43.106 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 103
2025-02-22 05:10:43.114 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:10:43.115 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:10:43.121 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:10:43.136 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Entities.Identity.AppUser, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:10:43.139 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 8.4266ms
2025-02-22 05:10:43.142 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:10:43.144 +02:00 [INF] HTTP POST /api/Account/change-password responded 401 in 29.6540 ms
2025-02-22 05:10:43.147 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 401 null application/json; charset=utf-8 41.5405ms
2025-02-22 05:11:29.697 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 71
2025-02-22 05:11:29.703 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:11:29.705 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:11:29.707 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:11:29.728 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:11:29.850 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 05:11:29.861 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 05:11:29.879 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:11:29.902 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:11:29.927 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 05:11:29.940 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:11:29.944 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 231.0304ms
2025-02-22 05:11:29.946 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:11:29.950 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 247.1602 ms
2025-02-22 05:11:29.954 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 257.0527ms
2025-02-22 05:11:44.115 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 103
2025-02-22 05:11:44.122 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:11:44.167 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:44.170 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:11:44.187 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 05:11:44.277 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:11:44.282 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 108.1005ms
2025-02-22 05:11:44.284 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:44.286 +02:00 [INF] HTTP POST /api/Account/change-password responded 400 in 164.0096 ms
2025-02-22 05:11:44.288 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 400 null application/json; charset=utf-8 172.5255ms
2025-02-22 05:11:51.373 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 104
2025-02-22 05:11:51.377 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:11:51.379 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:51.383 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:11:51.392 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 05:11:51.606 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:11:51.619 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:11:51.634 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:11:51.639 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 251.6378ms
2025-02-22 05:11:51.641 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:51.644 +02:00 [INF] HTTP POST /api/Account/change-password responded 200 in 266.5165 ms
2025-02-22 05:11:51.647 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 200 null application/json; charset=utf-8 273.7789ms
2025-02-22 05:12:02.284 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 71
2025-02-22 05:12:02.290 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:12:02.296 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:02 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 05:12:02.321 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:02 '.
2025-02-22 05:12:02.323 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:02.326 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:12:02.334 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:12:02.448 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:12:02.451 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 119.4714ms
2025-02-22 05:12:02.455 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:02.457 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 167.0241 ms
2025-02-22 05:12:02.460 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 176.0829ms
2025-02-22 05:12:07.637 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 70
2025-02-22 05:12:07.645 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:12:07.649 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:07 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 05:12:07.661 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:07 '.
2025-02-22 05:12:07.664 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:07.667 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:12:07.678 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:12:07.780 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 05:12:07.788 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 05:12:07.792 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:12:07.799 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:12:07.813 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 05:12:07.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:12:07.821 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 147.4028ms
2025-02-22 05:12:07.823 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:07.825 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 180.1903 ms
2025-02-22 05:12:07.828 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 190.7652ms
2025-02-22 05:13:13.047 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:13:13.087 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:13:13.092 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:13:13.487 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:13:13.556 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:13:13.563 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:13:13.694 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 05:13:13.785 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 05:13:13.848 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 05:13:13.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 05:13:13.851 +02:00 [INF] Hosting environment: Development
2025-02-22 05:13:13.856 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 05:13:14.023 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 177.3681ms
2025-02-22 05:13:14.036 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 05:13:14.043 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.7014ms
2025-02-22 05:13:14.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 05:13:14.082 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.747ms
2025-02-22 05:13:14.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 05:13:14.349 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.2374ms
2025-02-22 05:14:57.169 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:14:57.233 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:14:57.236 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:14:57.677 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:14:57.740 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:14:57.745 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:14:57.831 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 05:14:57.897 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 05:14:57.945 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 05:14:57.949 +02:00 [INF] Hosting environment: Development
2025-02-22 05:14:57.950 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 05:14:58.113 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 05:14:58.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 150.1418ms
2025-02-22 05:14:58.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 05:14:58.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 05:14:58.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 14.5401ms
2025-02-22 05:14:58.397 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.6856ms
2025-02-22 05:14:58.449 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 05:14:58.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.9643ms
2025-02-22 16:08:36.644 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:08:36.724 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:08:36.729 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:08:37.187 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:08:37.254 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:08:37.259 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:08:37.373 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 16:08:37.535 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 16:08:37.596 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 16:08:37.600 +02:00 [INF] Hosting environment: Development
2025-02-22 16:08:37.603 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 16:08:38.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 16:08:38.423 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 271.1664ms
2025-02-22 16:08:38.449 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 16:08:38.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.5558ms
2025-02-22 16:08:38.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 16:08:38.520 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.8106ms
2025-02-22 16:08:38.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 16:08:38.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.8702ms
2025-02-22 16:17:10.115 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - null null
2025-02-22 16:17:10.135 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 16:17:11.249 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 16:17:11.265 +02:00 [INF] Route matched with {action = "GetGroupedUserRoleClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedUserRoleClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:17:11.600 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 16:17:11.642 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'UserRolesClaimsView'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:42e46d1a-9a95-4cae-9b4b-42b4c3f2369b
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'UserRolesClaimsView'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:42e46d1a-9a95-4cae-9b4b-42b4c3f2369b
Error Number:208,State:1,Class:16
2025-02-22 16:17:11.717 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api) in 444.443ms
2025-02-22 16:17:11.722 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 16:17:11.737 +02:00 [ERR] HTTP GET /api/Claims/roles-claims-grouped responded 500 in 1586.7288 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'UserRolesClaimsView'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SchoolManagementSystem.Infrastructure.Basics.GenericRepository`1.GetAllAsync() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Infrastructure\Basics\GenericRepository.cs:line 131
   at SchoolManagementSystem.Infrastructure.Repositories.UserRolesClaimsRepository.GetAllUserRoleClaims() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Infrastructure\Repositories\UserRolesClaimsRepository.cs:line 16
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.GetUserClaimsDetailsAsync() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 66
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.GetGroupedUserClaimsAsync() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 71
   at SchoolManagementSystem.Core.Features.Claims.Queries.Handler.GetUserClaimsByIdHandler.Handle(GetGroupedUserRoleClaimsQuery request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Queries\Handler\GetUserClaimsByIdHandler.cs:line 48
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:42e46d1a-9a95-4cae-9b4b-42b4c3f2369b
Error Number:208,State:1,Class:16
2025-02-22 16:17:11.939 +02:00 [ERR] Unhandled exception occurred.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'UserRolesClaimsView'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SchoolManagementSystem.Infrastructure.Basics.GenericRepository`1.GetAllAsync() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Infrastructure\Basics\GenericRepository.cs:line 131
   at SchoolManagementSystem.Infrastructure.Repositories.UserRolesClaimsRepository.GetAllUserRoleClaims() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Infrastructure\Repositories\UserRolesClaimsRepository.cs:line 16
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.GetUserClaimsDetailsAsync() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 66
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.GetGroupedUserClaimsAsync() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 71
   at SchoolManagementSystem.Core.Features.Claims.Queries.Handler.GetUserClaimsByIdHandler.Handle(GetGroupedUserRoleClaimsQuery request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Queries\Handler\GetUserClaimsByIdHandler.cs:line 48
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims() in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
ClientConnectionId:42e46d1a-9a95-4cae-9b4b-42b4c3f2369b
Error Number:208,State:1,Class:16
2025-02-22 16:17:12.105 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - 500 null application/json 1990.2699ms
2025-02-22 16:23:49.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - null null
2025-02-22 16:23:49.651 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 16:23:49.654 +02:00 [INF] Route matched with {action = "GetGroupedUserRoleClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedUserRoleClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:23:49.715 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 16:23:49.756 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Views.UserRoleClaimGroupedDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:23:49.771 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api) in 84.4235ms
2025-02-22 16:23:49.786 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 16:23:49.789 +02:00 [INF] HTTP GET /api/Claims/roles-claims-grouped responded 200 in 140.1178 ms
2025-02-22 16:23:49.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - 200 null application/json; charset=utf-8 158.8609ms
2025-02-22 16:24:24.974 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Claims/add - application/json 104
2025-02-22 16:24:24.981 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:24:24.987 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:24:25.017 +02:00 [INF] Route matched with {action = "AddClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.AddUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:24:25.219 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:24:25.355 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:24:25.545 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p21='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p22='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p33='?' (Size = 450), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = Int32), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [Token] = @p17, [TokenExpiryTime] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
UPDATE [Students] SET [ClassroomID] = @p23, [Image] = @p24, [ParentID] = @p25, [StudentAddress] = @p26, [StudentDateOfBirth] = @p27, [StudentFirstNameAr] = @p28, [StudentFirstNameEn] = @p29, [StudentGender] = @p30, [StudentLastNameAr] = @p31, [StudentLastNameEn] = @p32
OUTPUT 1
WHERE [Id] = @p33;
2025-02-22 16:24:25.667 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:24:25.674 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api) in 573.8983ms
2025-02-22 16:24:25.680 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:24:25.684 +02:00 [INF] HTTP POST /api/Claims/add responded 200 in 703.5420 ms
2025-02-22 16:24:25.687 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Claims/add - 200 null application/json; charset=utf-8 712.9648ms
2025-02-22 16:26:57.704 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:26:57.747 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:26:57.751 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:26:58.135 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:26:58.202 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:26:58.207 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:26:58.318 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 16:26:58.417 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 16:26:58.483 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 16:26:58.485 +02:00 [INF] Hosting environment: Development
2025-02-22 16:26:58.487 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 16:26:58.543 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 16:26:58.730 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 189.2283ms
2025-02-22 16:26:58.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 16:26:58.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 16:26:58.759 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 14.0128ms
2025-02-22 16:26:58.801 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.7356ms
2025-02-22 16:26:59.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 16:26:59.070 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.7224ms
2025-02-22 16:27:04.835 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:27:04.886 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:27:04.890 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:27:05.289 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:27:05.346 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:27:05.355 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:27:05.440 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 16:27:05.508 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 16:27:05.558 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 16:27:05.561 +02:00 [INF] Hosting environment: Development
2025-02-22 16:27:05.563 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 16:27:06.022 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 16:27:06.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 141.0044ms
2025-02-22 16:27:06.175 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 16:27:06.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 16:27:06.208 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 32.5815ms
2025-02-22 16:27:06.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.3221ms
2025-02-22 16:27:06.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 16:27:06.386 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.5131ms
2025-02-22 16:27:32.891 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5253/api/Claims/update - application/json 104
2025-02-22 16:27:32.902 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 16:27:32.911 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:27:32.942 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:27:32.960 +02:00 [INF] Route matched with {action = "UpdateUserClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserClaims(SchoolManagementSystem.Core.Features.Claims.Commands.Models.UpdateUserClaimsCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:27:33.042 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:27:33.060 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api) in 71.7479ms
2025-02-22 16:27:33.063 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:27:33.084 +02:00 [INF] HTTP PUT /api/Claims/update responded 400 in 171.8768 ms
2025-02-22 16:27:33.102 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5253/api/Claims/update - 400 null application/json; charset=utf-8 211.1709ms
2025-02-22 16:27:38.732 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5253/api/Claims/update - application/json 103
2025-02-22 16:27:38.742 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:27:38.748 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:27:38.755 +02:00 [INF] Route matched with {action = "UpdateUserClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserClaims(SchoolManagementSystem.Core.Features.Claims.Commands.Models.UpdateUserClaimsCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:27:38.803 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:27:38.816 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api) in 16.7412ms
2025-02-22 16:27:38.845 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:27:38.861 +02:00 [INF] HTTP PUT /api/Claims/update responded 400 in 119.7135 ms
2025-02-22 16:27:38.866 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5253/api/Claims/update - 400 null application/json; charset=utf-8 134.3601ms
2025-02-22 16:27:44.884 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5253/api/Claims/update - application/json 114
2025-02-22 16:27:44.891 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:27:44.895 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:27:44.900 +02:00 [INF] Route matched with {action = "UpdateUserClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserClaims(SchoolManagementSystem.Core.Features.Claims.Commands.Models.UpdateUserClaimsCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:27:45.259 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:27:45.270 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:27:45.279 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api) in 332.7035ms
2025-02-22 16:27:45.293 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:27:45.297 +02:00 [INF] HTTP PUT /api/Claims/update responded 400 in 406.8623 ms
2025-02-22 16:27:45.305 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5253/api/Claims/update - 400 null application/json; charset=utf-8 421.1146ms
2025-02-22 16:30:22.230 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5253/api/Claims/update - application/json 126
2025-02-22 16:30:22.238 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:30:22.239 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:30:22.243 +02:00 [INF] Route matched with {action = "UpdateUserClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserClaims(SchoolManagementSystem.Core.Features.Claims.Commands.Models.UpdateUserClaimsCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:30:22.322 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:30:22.471 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:30:22.497 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:30:22.502 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api) in 210.8569ms
2025-02-22 16:30:22.522 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.UpdateUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:30:22.539 +02:00 [INF] HTTP PUT /api/Claims/update responded 400 in 301.3753 ms
2025-02-22 16:30:22.556 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5253/api/Claims/update - 400 null application/json; charset=utf-8 326.1657ms
2025-02-22 16:30:48.179 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Claims/add - application/json 126
2025-02-22 16:30:48.185 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:30:48.188 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:30:48.202 +02:00 [INF] Route matched with {action = "AddClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.AddUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:30:48.234 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:30:48.353 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:30:48.541 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p21='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p22='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p33='?' (Size = 450), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = Int32), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [Token] = @p17, [TokenExpiryTime] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
UPDATE [Students] SET [ClassroomID] = @p23, [Image] = @p24, [ParentID] = @p25, [StudentAddress] = @p26, [StudentDateOfBirth] = @p27, [StudentFirstNameAr] = @p28, [StudentFirstNameEn] = @p29, [StudentGender] = @p30, [StudentLastNameAr] = @p31, [StudentLastNameEn] = @p32
OUTPUT 1
WHERE [Id] = @p33;
2025-02-22 16:30:48.620 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:30:48.624 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api) in 402.3003ms
2025-02-22 16:30:48.631 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:30:48.637 +02:00 [INF] HTTP POST /api/Claims/add responded 200 in 451.2965 ms
2025-02-22 16:30:48.639 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Claims/add - 200 null application/json; charset=utf-8 460.7372ms
2025-02-22 16:30:56.395 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims - null null
2025-02-22 16:30:56.401 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api)'
2025-02-22 16:30:56.407 +02:00 [INF] Route matched with {action = "GetUserRolesAndClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRolesAndClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:30:56.431 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 16:30:56.454 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Views.UserRolesClaimsView, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:30:56.497 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api) in 82.2691ms
2025-02-22 16:30:56.507 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api)'
2025-02-22 16:30:56.529 +02:00 [INF] HTTP GET /api/Claims/roles-claims responded 200 in 128.3600 ms
2025-02-22 16:30:56.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims - 200 null application/json; charset=utf-8 138.0769ms
2025-02-22 16:31:38.695 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Claims/add - application/json 128
2025-02-22 16:31:38.700 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:31:38.702 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:31:38.705 +02:00 [INF] Route matched with {action = "AddClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.AddUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:31:38.746 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:31:38.825 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:31:38.895 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p21='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p22='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p33='?' (Size = 450), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = Int32), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [Token] = @p17, [TokenExpiryTime] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
UPDATE [Students] SET [ClassroomID] = @p23, [Image] = @p24, [ParentID] = @p25, [StudentAddress] = @p26, [StudentDateOfBirth] = @p27, [StudentFirstNameAr] = @p28, [StudentFirstNameEn] = @p29, [StudentGender] = @p30, [StudentLastNameAr] = @p31, [StudentLastNameEn] = @p32
OUTPUT 1
WHERE [Id] = @p33;
2025-02-22 16:31:38.960 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:31:38.965 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api) in 227.2424ms
2025-02-22 16:31:38.976 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:31:39.005 +02:00 [INF] HTTP POST /api/Claims/add responded 200 in 305.6407 ms
2025-02-22 16:31:39.023 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Claims/add - 200 null application/json; charset=utf-8 328.664ms
2025-02-22 16:31:50.081 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Claims/add - application/json 126
2025-02-22 16:31:50.086 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:31:50.088 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:31:50.092 +02:00 [INF] Route matched with {action = "AddClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.AddUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:31:50.142 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:31:50.184 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:31:50.271 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p21='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p22='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p33='?' (Size = 450), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = Int32), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [Token] = @p17, [TokenExpiryTime] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
UPDATE [Students] SET [ClassroomID] = @p23, [Image] = @p24, [ParentID] = @p25, [StudentAddress] = @p26, [StudentDateOfBirth] = @p27, [StudentFirstNameAr] = @p28, [StudentFirstNameEn] = @p29, [StudentGender] = @p30, [StudentLastNameAr] = @p31, [StudentLastNameEn] = @p32
OUTPUT 1
WHERE [Id] = @p33;
2025-02-22 16:31:50.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:31:50.346 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api) in 229.1728ms
2025-02-22 16:31:50.361 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:31:50.379 +02:00 [INF] HTTP POST /api/Claims/add responded 200 in 293.5950 ms
2025-02-22 16:31:50.385 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Claims/add - 200 null application/json; charset=utf-8 303.8868ms
2025-02-22 16:31:58.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - null null
2025-02-22 16:31:58.517 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 16:31:58.525 +02:00 [INF] Route matched with {action = "GetGroupedUserRoleClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedUserRoleClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:31:58.570 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 16:31:58.610 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Views.UserRoleClaimGroupedDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:31:58.619 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api) in 59.239ms
2025-02-22 16:31:58.635 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 16:31:58.654 +02:00 [INF] HTTP GET /api/Claims/roles-claims-grouped responded 200 in 137.1385 ms
2025-02-22 16:31:58.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - 200 null application/json; charset=utf-8 149.3687ms
2025-02-22 16:35:04.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 16:35:04.380 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:35:04.397 +02:00 [INF] Route matched with {action = "GetUserClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserClaims(System.String) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:35:04.439 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:35:04.496 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:35:04.510 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.UserClaims, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 16:35:04.523 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api) in 93.7023ms
2025-02-22 16:35:04.527 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:35:04.543 +02:00 [INF] HTTP GET /api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 163.6878 ms
2025-02-22 16:35:04.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 189.8274ms
2025-02-22 16:35:25.260 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 104
2025-02-22 16:35:25.266 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:35:25.268 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:35:25.276 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:35:25.309 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:35:25.393 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:35:25.415 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-22 16:35:25.487 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 193.5765ms
2025-02-22 16:35:25.515 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:35:25.530 +02:00 [ERR] HTTP DELETE /api/Claims/delete responded 500 in 263.8449 ms
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 16:35:25.856 +02:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 16:35:26.098 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 500 null application/json 837.6222ms
2025-02-22 16:35:42.804 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 103
2025-02-22 16:35:42.810 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:35:42.812 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:35:42.817 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:35:42.865 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:35:42.908 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:35:42.919 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 61.4745ms
2025-02-22 16:35:42.926 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:35:42.942 +02:00 [INF] HTTP DELETE /api/Claims/delete responded 404 in 132.3591 ms
2025-02-22 16:35:42.964 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 404 null application/json; charset=utf-8 160.2139ms
2025-02-22 16:35:52.325 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 107
2025-02-22 16:35:52.331 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:35:52.333 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:35:52.340 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:35:52.405 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:35:52.461 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:35:52.474 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 72.29ms
2025-02-22 16:35:52.480 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:35:52.484 +02:00 [INF] HTTP DELETE /api/Claims/delete responded 404 in 153.2401 ms
2025-02-22 16:35:52.488 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 404 null application/json; charset=utf-8 163.5625ms
2025-02-22 16:36:01.355 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 108
2025-02-22 16:36:01.361 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:36:01.364 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:36:01.368 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:36:01.403 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:36:01.450 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-22 16:36:01.455 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:36:01.464 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 65.1858ms
2025-02-22 16:36:01.474 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:36:01.476 +02:00 [ERR] HTTP DELETE /api/Claims/delete responded 500 in 114.9382 ms
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 16:36:01.691 +02:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 16:36:01.889 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 500 null application/json 533.8341ms
2025-02-22 16:39:17.535 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 126
2025-02-22 16:39:17.541 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:39:17.543 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:39:17.553 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:39:17.613 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:39:17.700 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-22 16:39:17.702 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:39:17.725 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 121.4525ms
2025-02-22 16:39:17.795 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:39:17.804 +02:00 [ERR] HTTP DELETE /api/Claims/delete responded 500 in 262.8613 ms
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 16:39:18.091 +02:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 16:39:18.323 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 500 null application/json 788.1776ms
2025-02-22 16:40:07.153 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:40:07.196 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:40:07.199 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:40:07.863 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:40:07.964 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:40:07.971 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:40:08.114 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 16:40:08.316 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 16:40:08.395 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 16:40:08.399 +02:00 [INF] Hosting environment: Development
2025-02-22 16:40:08.402 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 16:40:08.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 16:40:09.034 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 377.1524ms
2025-02-22 16:40:09.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 16:40:09.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 16:40:09.093 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 14.5117ms
2025-02-22 16:40:09.130 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.642ms
2025-02-22 16:40:09.212 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 16:40:09.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.1897ms
2025-02-22 16:41:05.364 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 126
2025-02-22 16:41:05.388 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 16:41:05.398 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:41:05.500 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:41:05.521 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:41:19.739 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:41:40.371 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:41:57.822 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-22 16:41:58.546 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 53001.6562ms
2025-02-22 16:41:58.688 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:41:58.923 +02:00 [ERR] HTTP DELETE /api/Claims/delete responded 500 in 53524.9996 ms
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 16:41:59.188 +02:00 [ERR] Unhandled exception occurred.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.RemoveClaimsAsync(TUser user, IEnumerable`1 claims, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.RemoveClaimsAsync(TUser user, IEnumerable`1 claims)
   at SchoolManagementSystem.Services.ImpelmentationService.ClaimService.DeleteClaimAsync(AppUser user, ClaimDetails claim) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Services\ImpelmentationService\ClaimService.cs:line 53
   at SchoolManagementSystem.Core.Features.Claims.Commands.Handler.UserClaimsHandler.Handle(DeleteUserClaimCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Claims\Commands\Handler\UserClaimsHandler.cs:line 85
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim(DeleteUserClaimCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\ClaimsController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 16:41:59.318 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 500 null application/json 53954.7247ms
2025-02-22 16:45:12.505 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:45:12.579 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:45:12.584 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:45:13.315 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:45:13.418 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:45:13.425 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:45:13.618 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 16:45:13.847 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 16:45:13.936 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 16:45:13.946 +02:00 [INF] Hosting environment: Development
2025-02-22 16:45:13.948 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 16:45:14.611 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 16:45:14.986 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 389.8957ms
2025-02-22 16:45:15.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 16:45:15.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 16:45:15.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.5705ms
2025-02-22 16:45:15.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.8341ms
2025-02-22 16:45:15.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 16:45:15.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.9635ms
2025-02-22 16:45:30.733 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 113
2025-02-22 16:45:30.752 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 16:45:30.762 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:45:30.895 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:45:30.922 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:45:37.740 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:45:43.236 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:46:20.521 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__8__locals1_user_Id_0='?' (Size = 450), @__claim_Value_1='?' (Size = 4000), @__claim_Type_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[ClaimValue] = @__claim_Value_1 AND [a].[ClaimType] = @__claim_Type_2
2025-02-22 16:46:20.564 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:46:20.706 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUserClaims]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [AspNetUserClaims]
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 16:46:26.965 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:46:26.989 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 56050.3305ms
2025-02-22 16:46:27.005 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:46:27.022 +02:00 [INF] HTTP DELETE /api/Claims/delete responded 200 in 56259.7422 ms
2025-02-22 16:46:27.031 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 200 null application/json; charset=utf-8 56298.1821ms
2025-02-22 16:46:41.726 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 16:46:41.743 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:46:41.778 +02:00 [INF] Route matched with {action = "GetUserClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserClaims(System.String) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:46:41.855 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:46:41.878 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:46:41.904 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.UserClaims, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 16:46:41.940 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api) in 119.3455ms
2025-02-22 16:46:41.947 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:46:41.970 +02:00 [INF] HTTP GET /api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 229.8114 ms
2025-02-22 16:46:41.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 261.7914ms
2025-02-22 16:46:51.733 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - application/json 91
2025-02-22 16:46:51.741 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:46:51.746 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:46:51.751 +02:00 [INF] Route matched with {action = "DeleteClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.DeleteUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:46:54.454 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:46:54.473 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:46:54.492 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_user_Id_0='?' (Size = 450), @__claim_Value_1='?' (Size = 4000), @__claim_Type_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[ClaimValue] = @__claim_Value_1 AND [a].[ClaimType] = @__claim_Type_2
2025-02-22 16:46:54.524 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:46:54.602 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p19='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p20='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p31='?' (Size = 450), @p21='?' (DbType = Int32), @p22='?' (Size = 4000), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUserClaims]
OUTPUT 1
WHERE [Id] = @p0;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenExpiryTime] = @p13, [SecurityStamp] = @p14, [Token] = @p15, [TokenExpiryTime] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
OUTPUT 1
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
UPDATE [Students] SET [ClassroomID] = @p21, [Image] = @p22, [ParentID] = @p23, [StudentAddress] = @p24, [StudentDateOfBirth] = @p25, [StudentFirstNameAr] = @p26, [StudentFirstNameEn] = @p27, [StudentGender] = @p28, [StudentLastNameAr] = @p29, [StudentLastNameEn] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 16:46:54.685 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:46:54.690 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api) in 2880.3309ms
2025-02-22 16:46:54.694 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.DeleteClaim (SchoolManagementSystem.Api)'
2025-02-22 16:46:54.707 +02:00 [INF] HTTP DELETE /api/Claims/delete responded 200 in 2967.4311 ms
2025-02-22 16:46:54.712 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5253/api/Claims/delete - 200 null application/json; charset=utf-8 2978.4755ms
2025-02-22 16:47:00.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 16:47:00.928 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:47:00.931 +02:00 [INF] Route matched with {action = "GetUserClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserClaims(System.String) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:47:00.963 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:47:01.031 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:47:01.052 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.UserClaims, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 16:47:01.067 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api) in 111.517ms
2025-02-22 16:47:01.084 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserClaims (SchoolManagementSystem.Api)'
2025-02-22 16:47:01.101 +02:00 [INF] HTTP GET /api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 172.7982 ms
2025-02-22 16:47:01.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 194.4745ms
2025-02-22 16:48:23.787 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Claims/add - application/json 122
2025-02-22 16:48:23.802 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:48:23.806 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:48:23.859 +02:00 [INF] Route matched with {action = "AddClaim", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddClaim(SchoolManagementSystem.Core.Features.Claims.Commands.Models.AddUserClaimCommand) on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:48:23.963 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:48:23.995 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:48:24.035 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p21='?' (Size = 450), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p22='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p33='?' (Size = 450), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = Int32), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000), @p32='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [RefreshToken] = @p14, [RefreshTokenExpiryTime] = @p15, [SecurityStamp] = @p16, [Token] = @p17, [TokenExpiryTime] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
UPDATE [Students] SET [ClassroomID] = @p23, [Image] = @p24, [ParentID] = @p25, [StudentAddress] = @p26, [StudentDateOfBirth] = @p27, [StudentFirstNameAr] = @p28, [StudentFirstNameEn] = @p29, [StudentGender] = @p30, [StudentLastNameAr] = @p31, [StudentLastNameEn] = @p32
OUTPUT 1
WHERE [Id] = @p33;
2025-02-22 16:48:24.067 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:48:24.073 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api) in 167.8187ms
2025-02-22 16:48:24.076 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.AddClaim (SchoolManagementSystem.Api)'
2025-02-22 16:48:24.079 +02:00 [INF] HTTP POST /api/Claims/add responded 200 in 277.2248 ms
2025-02-22 16:48:24.081 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Claims/add - 200 null application/json; charset=utf-8 294.558ms
2025-02-22 16:48:31.198 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims - null null
2025-02-22 16:48:31.204 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api)'
2025-02-22 16:48:31.211 +02:00 [INF] Route matched with {action = "GetUserRolesAndClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRolesAndClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 16:48:31.274 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 16:48:31.304 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Views.UserRolesClaimsView, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:48:31.335 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api) in 85.8185ms
2025-02-22 16:48:31.339 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api)'
2025-02-22 16:48:31.346 +02:00 [INF] HTTP GET /api/Claims/roles-claims responded 200 in 141.9276 ms
2025-02-22 16:48:31.366 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims - 200 null application/json; charset=utf-8 167.6481ms
2025-02-22 16:49:14.908 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:49:14.944 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:49:14.948 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 16:49:15.275 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:49:15.334 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:49:15.340 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 16:49:15.424 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 16:49:15.478 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 16:49:15.525 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 16:49:15.529 +02:00 [INF] Hosting environment: Development
2025-02-22 16:49:15.531 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 16:49:16.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 16:49:16.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 229.898ms
2025-02-22 16:49:16.391 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 16:49:16.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.5438ms
2025-02-22 16:49:16.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 16:49:16.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7386ms
2025-02-22 16:49:16.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 16:49:16.604 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.8916ms
2025-02-22 16:49:30.850 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 71
2025-02-22 16:49:30.864 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 16:49:30.879 +02:00 [INF] CORS policy execution successful.
2025-02-22 16:49:30.906 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 16:49:30.942 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 16:49:31.075 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 16:49:31.290 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 16:49:31.309 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 16:49:31.399 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 16:49:31.553 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 16:49:31.683 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 16:49:31.715 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 16:49:31.759 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 801.8863ms
2025-02-22 16:49:31.766 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 16:49:31.771 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 890.8157 ms
2025-02-22 16:49:31.781 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 930.6517ms
2025-02-22 16:52:34.313 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/all - null null
2025-02-22 16:52:34.335 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 16:52:34.352 +02:00 [INF] Route matched with {action = "GetAllAttendances", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAttendances() on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 16:52:34.527 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
2025-02-22 16:52:34.557 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AttendanceDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:52:34.591 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api) in 226.746ms
2025-02-22 16:52:34.604 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 16:52:34.624 +02:00 [INF] HTTP GET /api/Attendance/all responded 200 in 291.2853 ms
2025-02-22 16:52:34.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/all - 200 null application/json; charset=utf-8 329.8354ms
2025-02-22 16:52:47.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/23456/attendance-summary - null null
2025-02-22 16:52:47.086 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 16:52:47.096 +02:00 [INF] Route matched with {action = "GetAttendanceSummary", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttendanceSummary(Int32) on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 16:52:47.165 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 16:52:47.176 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AttendanceSummaryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 16:52:47.186 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api) in 66.962ms
2025-02-22 16:52:47.202 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 16:52:47.220 +02:00 [INF] HTTP GET /api/Attendance/23456/attendance-summary responded 404 in 138.2481 ms
2025-02-22 16:52:47.239 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/23456/attendance-summary - 404 null application/json; charset=utf-8 166.7381ms
2025-02-22 16:52:53.541 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/1/attendance-summary - null null
2025-02-22 16:52:53.549 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 16:52:53.554 +02:00 [INF] Route matched with {action = "GetAttendanceSummary", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttendanceSummary(Int32) on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 16:52:53.603 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 16:52:53.655 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AttendanceSummaryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 16:52:53.697 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api) in 101.6762ms
2025-02-22 16:52:53.718 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 16:52:53.739 +02:00 [INF] HTTP GET /api/Attendance/1/attendance-summary responded 404 in 190.9374 ms
2025-02-22 16:52:53.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/1/attendance-summary - 404 null application/json; charset=utf-8 210.3074ms
2025-02-22 16:52:58.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/2/attendance-summary - null null
2025-02-22 16:52:58.418 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 16:52:58.422 +02:00 [INF] Route matched with {action = "GetAttendanceSummary", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttendanceSummary(Int32) on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 16:52:58.449 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 16:52:58.505 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__classroomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
WHERE [a].[ClassroomID] = @__classroomId_0
2025-02-22 16:52:58.526 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AttendanceSummaryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 16:52:58.536 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api) in 105.3452ms
2025-02-22 16:52:58.554 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 16:52:58.570 +02:00 [INF] HTTP GET /api/Attendance/2/attendance-summary responded 200 in 151.6727 ms
2025-02-22 16:52:58.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/2/attendance-summary - 200 null application/json; charset=utf-8 178.9815ms
2025-02-22 16:53:10.891 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/3456 - null null
2025-02-22 16:53:10.898 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 16:53:10.912 +02:00 [INF] Route matched with {action = "GetBorrowedBooksByStudent", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowedBooksByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 16:53:10.971 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:53:10.996 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:53:11.007 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api) in 53.3642ms
2025-02-22 16:53:11.039 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 16:53:11.056 +02:00 [INF] HTTP GET /api/BorrowedBooks/by-student/3456 responded 404 in 158.8831 ms
2025-02-22 16:53:11.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/3456 - 404 null application/json; charset=utf-8 169.7985ms
2025-02-22 16:53:18.565 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 16:53:18.578 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 16:53:18.581 +02:00 [INF] Route matched with {action = "GetBorrowedBooksByStudent", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowedBooksByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 16:53:18.624 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 16:53:18.678 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BorrowID], [b].[BorrowDate], [b].[LibraryID], [b].[ReturnDate], [b].[StudentID]
FROM [BorrowedBooks] AS [b]
WHERE [b].[StudentID] = @__studentId_0
2025-02-22 16:53:18.720 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 16:53:18.731 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api) in 111.8983ms
2025-02-22 16:53:18.749 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 16:53:18.773 +02:00 [INF] HTTP GET /api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 199.6805 ms
2025-02-22 16:53:18.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 231.1232ms
2025-02-22 16:54:27.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 16:54:27.475 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 356.0549ms
2025-02-22 16:54:27.488 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/swagger-ui.css - null null
2025-02-22 16:54:27.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/swagger-ui-bundle.js - null null
2025-02-22 16:54:27.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/swagger-ui-standalone-preset.js - null null
2025-02-22 16:54:27.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 16:54:27.511 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-02-22 16:54:27.514 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-02-22 16:54:27.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 35.5238ms
2025-02-22 16:54:27.532 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-02-22 16:54:27.544 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/swagger-ui.css - 200 152034 text/css 56.2059ms
2025-02-22 16:54:27.560 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 67.7645ms
2025-02-22 16:54:27.607 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 115.4862ms
2025-02-22 16:54:27.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 16:54:27.754 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.0753ms
2025-02-22 16:54:27.870 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 16:54:27.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/favicon-32x32.png - null null
2025-02-22 16:54:27.914 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-02-22 16:54:27.917 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/favicon-32x32.png - 200 628 image/png 9.213ms
2025-02-22 16:54:27.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.2376ms
2025-02-22 17:06:10.658 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/count/student - null null
2025-02-22 17:06:10.665 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 17:06:10.678 +02:00 [INF] Route matched with {action = "GetUserCountByRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCountByRole(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 17:06:10.745 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUserRoles] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Id] = [a].[RoleId] AND [a0].[Name] = @__roleName_0)
2025-02-22 17:06:10.754 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 17:06:10.763 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api) in 74.6681ms
2025-02-22 17:06:10.769 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 17:06:10.772 +02:00 [INF] HTTP GET /api/Roles/count/student responded 200 in 107.4307 ms
2025-02-22 17:06:10.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/count/student - 200 null application/json; charset=utf-8 116.3908ms
2025-02-22 17:10:46.409 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:10:46.462 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:10:46.465 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:10:46.873 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:10:46.941 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:10:46.946 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:10:47.046 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 17:10:47.111 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 17:10:47.164 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 17:10:47.167 +02:00 [INF] Hosting environment: Development
2025-02-22 17:10:47.170 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 17:10:47.225 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:10:47.422 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 197.9232ms
2025-02-22 17:10:47.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:10:47.433 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:10:47.460 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 26.4383ms
2025-02-22 17:10:47.486 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.9448ms
2025-02-22 17:10:47.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:10:47.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.6425ms
2025-02-22 17:11:11.956 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:11:12.003 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:11:12.007 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:11:12.454 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:11:12.520 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:11:12.525 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:11:12.627 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 17:11:12.694 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 17:11:12.746 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 17:11:12.749 +02:00 [INF] Hosting environment: Development
2025-02-22 17:11:12.752 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 17:11:12.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:11:13.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 199.1621ms
2025-02-22 17:11:13.007 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:11:13.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:11:13.058 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 38.2325ms
2025-02-22 17:11:13.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.7166ms
2025-02-22 17:11:13.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:11:13.225 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 15.8535ms
2025-02-22 17:11:13.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:11:13.305 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:11:13.311 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 41.128ms
2025-02-22 17:11:13.338 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.3402ms
2025-02-22 17:11:13.406 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:11:13.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:11:13.527 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.2128ms
2025-02-22 17:11:13.556 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.1774ms
2025-02-22 17:13:41.209 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:13:41.248 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:13:41.252 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:13:41.765 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:13:41.846 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:13:41.853 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:13:41.958 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 17:13:42.039 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 17:13:42.098 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 17:13:42.102 +02:00 [INF] Hosting environment: Development
2025-02-22 17:13:42.104 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 17:13:42.266 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:13:42.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 171.5022ms
2025-02-22 17:13:42.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:13:42.447 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:13:42.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.6298ms
2025-02-22 17:13:42.497 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4508ms
2025-02-22 17:13:42.687 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:13:42.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.8839ms
2025-02-22 17:14:20.745 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:14:20.791 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:14:20.796 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:14:21.312 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:14:21.417 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:14:21.422 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:14:21.563 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 17:14:21.645 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 17:14:21.705 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 17:14:21.710 +02:00 [INF] Hosting environment: Development
2025-02-22 17:14:21.715 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 17:14:21.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:14:22.032 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 196.49ms
2025-02-22 17:14:22.036 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:14:22.048 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:14:22.076 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 26.9515ms
2025-02-22 17:14:22.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.2089ms
2025-02-22 17:14:22.394 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:14:22.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.2447ms
2025-02-22 17:14:32.124 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:14:32.171 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:14:32.174 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:14:32.599 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:14:32.684 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:14:32.690 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:14:32.803 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 17:14:32.875 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 17:14:32.936 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 17:14:32.940 +02:00 [INF] Hosting environment: Development
2025-02-22 17:14:32.942 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 17:14:32.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:14:33.173 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 209.3382ms
2025-02-22 17:14:33.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:14:33.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:14:33.215 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 31.1516ms
2025-02-22 17:14:33.236 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.0342ms
2025-02-22 17:14:33.408 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:14:33.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.3586ms
2025-02-22 17:15:15.285 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:15:15.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 14.0308ms
2025-02-22 17:15:15.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:15:15.327 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:15:15.354 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 27.6419ms
2025-02-22 17:15:15.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.4509ms
2025-02-22 17:15:15.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:15:15.567 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.8092ms
2025-02-22 17:18:52.497 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:18:52.536 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:18:52.540 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:18:52.913 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:18:52.982 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:18:52.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:18:53.078 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 17:18:53.176 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 17:18:53.253 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 17:18:53.255 +02:00 [INF] Hosting environment: Development
2025-02-22 17:18:53.257 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 17:18:53.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:18:53.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 189.1971ms
2025-02-22 17:18:53.573 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:18:53.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:18:53.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.0678ms
2025-02-22 17:18:53.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.2464ms
2025-02-22 17:18:53.714 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:18:53.767 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.7734ms
2025-02-22 17:19:21.153 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 17:19:21.165 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 17:19:21.172 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:19:21.203 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:19:21.225 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:19:21.396 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:19:21.592 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:19:21.616 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:19:21.691 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:19:21.817 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:19:22.009 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:19:22.084 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:19:22.122 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 863.1913ms
2025-02-22 17:19:22.127 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:19:22.136 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 964.7336 ms
2025-02-22 17:19:22.154 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1001.1306ms
2025-02-22 17:19:32.535 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:19:32.553 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:19:32.561 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:19:32.567 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 20.3395 ms
2025-02-22 17:19:32.585 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 49.7133ms
2025-02-22 17:19:34.624 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:19:34.633 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:19:34.641 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:19:34.668 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 39.1014 ms
2025-02-22 17:19:34.692 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 67.8743ms
2025-02-22 17:19:39.261 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:19:39.303 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:19:31 PM', Current time (UTC): '2/22/2025 3:19:39 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:19:39.367 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:19:31 PM', Current time (UTC): '2/22/2025 3:19:39 PM'.
2025-02-22 17:19:39.373 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:19:39.381 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:19:39.398 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 130.4093 ms
2025-02-22 17:19:39.413 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 151.6845ms
2025-02-22 17:19:41.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:19:41.556 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:19:31 PM', Current time (UTC): '2/22/2025 3:19:41 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:19:41.571 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:19:31 PM', Current time (UTC): '2/22/2025 3:19:41 PM'.
2025-02-22 17:19:41.592 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:19:41.611 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:19:41.615 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 59.7546 ms
2025-02-22 17:19:41.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 73.3911ms
2025-02-22 17:20:05.758 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:20:05.823 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:20:05.830 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 17:20:06.368 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:20:06.441 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:20:06.450 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 17:20:06.561 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 17:20:06.641 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 17:20:06.711 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 17:20:06.715 +02:00 [INF] Hosting environment: Development
2025-02-22 17:20:06.721 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 17:20:06.825 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:20:07.032 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 208.4212ms
2025-02-22 17:20:07.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:20:07.048 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:20:07.083 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 34.8478ms
2025-02-22 17:20:07.103 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.3068ms
2025-02-22 17:20:07.194 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:20:07.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.0738ms
2025-02-22 17:20:59.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:20:59.468 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 26.1947ms
2025-02-22 17:20:59.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:20:59.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 27.5617ms
2025-02-22 17:20:59.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:20:59.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.9731ms
2025-02-22 17:20:59.840 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:20:59.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.0718ms
2025-02-22 17:22:15.389 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 55
2025-02-22 17:22:15.400 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 17:22:15.406 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:22:15.439 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:22:15.477 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:22:15.676 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:22:15.703 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:22:15.731 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 202.8377ms
2025-02-22 17:22:15.736 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:22:15.747 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 341.9204 ms
2025-02-22 17:22:15.761 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 371.1553ms
2025-02-22 17:22:34.465 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 53
2025-02-22 17:22:34.478 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:22:34.487 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:22:34.526 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:22:34.574 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:22:34.634 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:22:34.654 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 101.0147ms
2025-02-22 17:22:34.673 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:22:34.708 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 230.7975 ms
2025-02-22 17:22:34.727 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 261.9595ms
2025-02-22 17:22:55.340 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 17:22:55.346 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:22:55.350 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:22:55.353 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:22:55.402 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:22:55.654 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:22:55.674 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:22:55.719 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:22:55.846 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:22:55.944 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:22:56.012 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:22:56.022 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 634.27ms
2025-02-22 17:22:56.030 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:22:56.038 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 692.0555 ms
2025-02-22 17:22:56.067 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 727.1732ms
2025-02-22 17:23:04.260 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:23:04.276 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:23:04.286 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:23:04.308 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 42.2513 ms
2025-02-22 17:23:04.328 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 67.9517ms
2025-02-22 17:23:10.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:23:10.699 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:23:10.709 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:23:10.914 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:23:10.927 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 17:23:10.934 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 17:23:10.965 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:23:11.023 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:23:11.038 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 322.8055ms
2025-02-22 17:23:11.082 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:23:11.110 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 462.6711 ms
2025-02-22 17:23:11.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 474.7536ms
2025-02-22 17:23:13.087 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:23:13.093 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:23:13.098 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:23:13.133 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:23:13.149 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:23:13.186 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:23:13.207 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 79.3026ms
2025-02-22 17:23:13.232 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:23:13.249 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 157.1489 ms
2025-02-22 17:23:13.254 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 167.8427ms
2025-02-22 17:23:14.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:23:14.168 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:23:14.178 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:23:14.231 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:23:14.250 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:23:14.270 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:23:14.290 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 61.5829ms
2025-02-22 17:23:14.317 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:23:14.332 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 165.2598 ms
2025-02-22 17:23:14.344 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 185.2342ms
2025-02-22 17:23:15.079 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:23:15.087 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:23:15.157 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:15 PM'.
2025-02-22 17:23:15.175 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:23:15.181 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:23:15.183 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 98.2289 ms
2025-02-22 17:23:15.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 118.4994ms
2025-02-22 17:23:15.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:23:15.917 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:23:15.937 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:15 PM'.
2025-02-22 17:23:15.973 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:23:15.977 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:23:15.979 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 62.7412 ms
2025-02-22 17:23:15.986 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 74.1649ms
2025-02-22 17:23:48.049 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 17:23:48.055 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:23:48.059 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:48 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:23:48.183 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:48 PM'.
2025-02-22 17:23:48.204 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:23:48.222 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:23:48.269 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:23:48.436 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:23:48.454 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:23:48.486 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:23:48.577 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:23:48.647 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:23:48.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:23:48.720 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 461.5789ms
2025-02-22 17:23:48.736 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:23:48.758 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 703.2415 ms
2025-02-22 17:23:48.785 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 735.6037ms
2025-02-22 17:23:56.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:23:56.968 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:56 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:23:57.064 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:23:15 PM', Current time (UTC): '2/22/2025 3:23:56 PM'.
2025-02-22 17:23:57.069 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:23:57.104 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:23:57.113 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 145.3373 ms
2025-02-22 17:23:57.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 162.1903ms
2025-02-22 17:24:05.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:24:05.329 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:24:05.333 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:24:05.353 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:24:05.382 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:24:05.468 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:24:05.504 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 154.1902ms
2025-02-22 17:24:05.521 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:24:05.538 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 210.0023 ms
2025-02-22 17:24:05.550 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 233.0366ms
2025-02-22 17:24:07.365 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:24:07.372 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:24:07.377 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:24:07.397 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:24:07.430 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:24:07.447 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:24:07.460 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 65.0704ms
2025-02-22 17:24:07.478 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:24:07.485 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 114.0220 ms
2025-02-22 17:24:07.504 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 139.1083ms
2025-02-22 17:24:08.619 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:24:08.630 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:24:08 PM', Current time (UTC): '2/22/2025 3:24:08 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:24:08.664 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:24:08 PM', Current time (UTC): '2/22/2025 3:24:08 PM'.
2025-02-22 17:24:08.671 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:24:08.682 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:24:08.684 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 54.0640 ms
2025-02-22 17:24:08.696 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 76.5107ms
2025-02-22 17:25:01.085 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 17:25:01.094 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:25:01.097 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:25:01.104 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:25:01.213 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:25:01.448 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:25:01.466 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:25:01.498 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:25:01.549 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:25:01.601 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:25:01.634 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:25:01.648 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 444.1106ms
2025-02-22 17:25:01.665 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:25:01.679 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 584.8593 ms
2025-02-22 17:25:01.683 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 598.172ms
2025-02-22 17:25:09.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:25:09.671 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:25:09.676 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:25:09.689 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 19.0553 ms
2025-02-22 17:25:09.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 36.2822ms
2025-02-22 17:25:15.960 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:25:15.965 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:15.969 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:25:16.047 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:25:16.111 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:25:16.185 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:25:16.219 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 178.8326ms
2025-02-22 17:25:16.259 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:16.288 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 322.7027 ms
2025-02-22 17:25:16.314 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 354.2728ms
2025-02-22 17:25:17.882 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:25:17.892 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:17.896 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:25:17.935 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:25:17.967 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:25:17.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:25:18.012 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 80.63ms
2025-02-22 17:25:18.029 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:18.045 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 153.4526 ms
2025-02-22 17:25:18.049 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 167.2551ms
2025-02-22 17:25:18.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:25:18.994 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:18.999 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:25:19.025 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:25:19.065 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:25:19.096 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:25:19.100 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 80.2489ms
2025-02-22 17:25:19.113 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:19.126 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 132.4399 ms
2025-02-22 17:25:19.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 148.2133ms
2025-02-22 17:25:20.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:25:20.101 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:20.106 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:25:20.118 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:25:20.153 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:25:20.177 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:25:20.191 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 75.6116ms
2025-02-22 17:25:20.218 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:25:20.234 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 133.9025 ms
2025-02-22 17:25:20.248 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 153.4718ms
2025-02-22 17:25:21.375 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:25:21.380 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:25:21 PM', Current time (UTC): '2/22/2025 3:25:21 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:25:21.451 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:25:21 PM', Current time (UTC): '2/22/2025 3:25:21 PM'.
2025-02-22 17:25:21.481 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:25:21.496 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:25:21.498 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 118.2195 ms
2025-02-22 17:25:21.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 134.4563ms
2025-02-22 17:25:45.513 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 17:25:45.521 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:25:45.533 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:25:21 PM', Current time (UTC): '2/22/2025 3:25:45 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:25:45.697 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:25:21 PM', Current time (UTC): '2/22/2025 3:25:45 PM'.
2025-02-22 17:25:45.714 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 17:25:45.735 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:25:45.852 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 17:25:45.951 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 17:25:45.986 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 17:25:46.023 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:25:46.095 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:25:46.128 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:25:46.177 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 17:25:46.198 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 17:25:46.237 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:25:46.248 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 480.1309ms
2025-02-22 17:25:46.255 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 17:25:46.278 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 756.8047 ms
2025-02-22 17:25:46.282 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 768.9228ms
2025-02-22 17:25:54.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:25:54.579 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:25:21 PM', Current time (UTC): '2/22/2025 3:25:54 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:25:54.670 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:25:21 PM', Current time (UTC): '2/22/2025 3:25:54 PM'.
2025-02-22 17:25:54.690 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 17:25:54.705 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 17:25:54.714 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 135.5367 ms
2025-02-22 17:25:54.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 146.5761ms
2025-02-22 17:26:03.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 17:26:03.089 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:26:03.093 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:26:03.118 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 17:26:03.143 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 17:26:03.213 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:26:03.234 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 134.9665ms
2025-02-22 17:26:03.259 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 17:26:03.281 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 194.0597 ms
2025-02-22 17:26:03.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 216.0589ms
2025-02-22 17:28:59.921 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 107
2025-02-22 17:28:59.929 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:28:59.935 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:27:46 PM', Current time (UTC): '2/22/2025 3:28:59 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:29:00.020 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:27:46 PM', Current time (UTC): '2/22/2025 3:28:59 PM'.
2025-02-22 17:29:00.046 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 17:29:00.095 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:29:00.128 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Entities.Identity.AppUser, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:29:00.151 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 28.195ms
2025-02-22 17:29:00.157 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 17:29:00.175 +02:00 [INF] HTTP POST /api/Account/change-password responded 401 in 245.8348 ms
2025-02-22 17:29:00.188 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 401 null application/json; charset=utf-8 267.5352ms
2025-02-22 17:29:13.245 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 64
2025-02-22 17:29:13.254 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:29:13.256 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:27:46 PM', Current time (UTC): '2/22/2025 3:29:13 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:29:13.350 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:27:46 PM', Current time (UTC): '2/22/2025 3:29:13 PM'.
2025-02-22 17:29:13.370 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:29:13.388 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:29:13.408 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:29:13.644 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:29:13.676 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:29:13.721 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:29:13.857 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 17:29:13.890 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:29:13.902 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:29:13.906 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 502.3222ms
2025-02-22 17:29:13.912 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:29:13.929 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 675.7559 ms
2025-02-22 17:29:13.937 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 691.6263ms
2025-02-22 17:29:29.388 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 107
2025-02-22 17:29:29.396 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:29:29.399 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 17:29:29.408 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:29:29.511 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 17:29:29.810 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:29:29.840 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 17:29:29.916 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 17:29:29.937 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 448.1825ms
2025-02-22 17:29:29.949 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 17:29:29.957 +02:00 [INF] HTTP POST /api/Account/change-password responded 200 in 560.9097 ms
2025-02-22 17:29:29.963 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 200 null application/json; charset=utf-8 574.2051ms
2025-02-22 17:29:44.251 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 64
2025-02-22 17:29:44.255 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:29:44.257 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:29:44 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:29:44.357 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:29:44 PM'.
2025-02-22 17:29:44.369 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:29:44.377 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:29:44.414 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:29:44.534 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:29:44.538 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 131.1216ms
2025-02-22 17:29:44.543 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:29:44.554 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 298.9904 ms
2025-02-22 17:29:44.559 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 308.1272ms
2025-02-22 17:29:51.859 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 66
2025-02-22 17:29:51.868 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:29:51.870 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:29:51 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:29:51.974 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:29:51 PM'.
2025-02-22 17:29:52.002 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:29:52.030 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:29:52.063 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:29:52.269 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:29:52.293 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:29:52.314 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:29:52.391 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 17:29:52.471 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:29:52.520 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:29:52.543 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 484.0383ms
2025-02-22 17:29:52.574 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:29:52.605 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 736.7799 ms
2025-02-22 17:29:52.621 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 762.0521ms
2025-02-22 17:33:35.919 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 43
2025-02-22 17:33:35.927 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:33:35.930 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:33:35 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:33:36.032 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:33:35 PM'.
2025-02-22 17:33:36.063 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 17:33:36.076 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:33:36.129 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:33:38.794 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 17:33:38.798 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 2686.4426ms
2025-02-22 17:33:38.805 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 17:33:38.829 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 2902.2789 ms
2025-02-22 17:33:38.835 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 2916.2898ms
2025-02-22 17:34:28.447 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - application/json 365
2025-02-22 17:34:28.453 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:34:28.456 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:34:28 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:34:28.599 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:34:28 PM'.
2025-02-22 17:34:28.626 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 17:34:28.657 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ResetPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:34:28.695 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:34:28.761 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:34:28.928 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:34:29.008 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 17:34:29.046 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 17:34:29.056 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api) in 378.3698ms
2025-02-22 17:34:29.059 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 17:34:29.061 +02:00 [INF] HTTP POST /api/Account/reset-password responded 200 in 608.6333 ms
2025-02-22 17:34:29.067 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - 200 null application/json; charset=utf-8 620.1341ms
2025-02-22 17:34:38.848 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 66
2025-02-22 17:34:38.857 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:34:38.860 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:34:38 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:34:38.963 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:34:38 PM'.
2025-02-22 17:34:39.002 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:34:39.012 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:34:39.029 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:34:39.209 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:34:39.215 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 192.1945ms
2025-02-22 17:34:39.223 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:34:39.226 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 368.4714 ms
2025-02-22 17:34:39.235 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 387.5961ms
2025-02-22 17:34:45.940 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 64
2025-02-22 17:34:45.947 +02:00 [INF] CORS policy execution successful.
2025-02-22 17:34:45.950 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:34:45 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:34:46.061 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:34:45 PM'.
2025-02-22 17:34:46.066 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:34:46.088 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:34:46.121 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:34:46.293 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:34:46.321 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:34:46.372 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:34:46.448 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 17:34:46.511 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:34:46.546 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 17:34:46.561 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 446.596ms
2025-02-22 17:34:46.579 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 17:34:46.603 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 655.7282 ms
2025-02-22 17:34:46.621 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 681.1212ms
2025-02-22 17:35:38.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:35:38.277 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:35:38 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:35:38.459 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:35:38 PM'.
2025-02-22 17:35:38.504 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:35:38.543 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:35:38.622 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:35:38.653 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:35:38.656 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 88.9704ms
2025-02-22 17:35:38.686 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:35:38.693 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 417.4458 ms
2025-02-22 17:35:38.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 432.0783ms
2025-02-22 17:35:48.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:35:48.922 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:35:48.926 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:35:48.999 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:35:49.020 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:35:49.037 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 42.0943ms
2025-02-22 17:35:49.062 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:35:49.087 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 164.7021 ms
2025-02-22 17:35:49.100 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 193.551ms
2025-02-22 17:42:18.106 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQefZ7IVxovBBaCuB4icLUuVwavX6IOrnjZFWeVSaMR_YIHuYke7hZo7AZYLsOs5WTHyzCXlZLk9GNChioe8TvdnZtzwa-4hQqQGl36SZicIySv_TS12gWIiWyERS02bUqZf1h3gMqH_tyNmlKe50E16XNUPbk9rtGAGEiwV9Tcwfi6rD5o_qVPH8CA57Oda-fX0LseAP5oSoTsCPQjD7Z5xVzytwE-EC5Y0VklH9ukx3yg1e_oIC4oEUksxnzhCyC2Bu86dOR3ZEFSPzLlKPZkAE7aeeyuJXOu_7r6VZm9cw2IJhgw-w0nunUMcWRQYPt-w&code=4%2F0ASVgi3KRcxcznBiogoqJFHoJWMEqDIKUeYbPQdJSREQVhUO1tmsBZ8kp43_Cce5foJxjIg&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=consent - null null
2025-02-22 17:42:19.626 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-02-22 17:42:19.631 +02:00 [INF] HTTP GET /signin-google responded 302 in 1476.7437 ms
2025-02-22 17:42:19.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQefZ7IVxovBBaCuB4icLUuVwavX6IOrnjZFWeVSaMR_YIHuYke7hZo7AZYLsOs5WTHyzCXlZLk9GNChioe8TvdnZtzwa-4hQqQGl36SZicIySv_TS12gWIiWyERS02bUqZf1h3gMqH_tyNmlKe50E16XNUPbk9rtGAGEiwV9Tcwfi6rD5o_qVPH8CA57Oda-fX0LseAP5oSoTsCPQjD7Z5xVzytwE-EC5Y0VklH9ukx3yg1e_oIC4oEUksxnzhCyC2Bu86dOR3ZEFSPzLlKPZkAE7aeeyuJXOu_7r6VZm9cw2IJhgw-w0nunUMcWRQYPt-w&code=4%2F0ASVgi3KRcxcznBiogoqJFHoJWMEqDIKUeYbPQdJSREQVhUO1tmsBZ8kp43_Cce5foJxjIg&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=consent - 302 0 null 1531.5809ms
2025-02-22 17:42:19.656 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 17:42:19.661 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 17:42:19.677 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:42:19.707 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:42:19.725 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:42:19.767 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-22 17:42:19.819 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2025-02-22 17:42:19.869 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:42:19.915 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p22='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p23='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [Token] = @p18, [TokenExpiryTime] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-02-22 17:42:19.937 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:42:19.960 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:42:19.979 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:42:20.048 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:42:20.091 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:42:20.131 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 17:42:20.138 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 447.7011ms
2025-02-22 17:42:20.163 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 17:42:20.208 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 547.1859 ms
2025-02-22 17:42:20.215 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 558.7253ms
2025-02-22 17:42:20.361 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/favicon.ico - null null
2025-02-22 17:42:20.379 +02:00 [INF] HTTP GET /favicon.ico responded 404 in 8.9489 ms
2025-02-22 17:42:20.385 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/favicon.ico - 404 0 null 24.0895ms
2025-02-22 17:42:20.401 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5253/favicon.ico, Response status code: 404
2025-02-22 17:44:41.689 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/signin-google?error=access_denied&state=CfDJ8HIq4qz2bxNFpYrJMFKyQefZ7IVxovBBaCuB4icLUuVwavX6IOrnjZFWeVSaMR_YIHuYke7hZo7AZYLsOs5WTHyzCXlZLk9GNChioe8TvdnZtzwa-4hQqQGl36SZicIySv_TS12gWIiWyERS02bUqZf1h3gMqH_tyNmlKe50E16XNUPbk9rtGAGEiwV9Tcwfi6rD5o_qVPH8CA57Oda-fX0LseAP5oSoTsCPQjD7Z5xVzytwE-EC5Y0VklH9ukx3yg1e_oIC4oEUksxnzhCyC2Bu86dOR3ZEFSPzLlKPZkAE7aeeyuJXOu_7r6VZm9cw2IJhgw-w0nunUMcWRQYPt-w - null null
2025-02-22 17:44:41.718 +02:00 [WRN] '.AspNetCore.Correlation.PYL1snGFmHET86D9z0K_9WggpNqCLXalBm-wW8Wdzdw' cookie not found.
2025-02-22 17:44:41.722 +02:00 [INF] Error from RemoteAuthentication: Correlation failed..
2025-02-22 17:44:41.740 +02:00 [ERR] HTTP GET /signin-google responded 500 in 22.7072 ms
Microsoft.AspNetCore.Authentication.AuthenticationFailureException: An error was encountered while handling the remote login.
 ---> Microsoft.AspNetCore.Authentication.AuthenticationFailureException: Correlation failed.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 17:44:41.805 +02:00 [ERR] Unhandled exception occurred.
Microsoft.AspNetCore.Authentication.AuthenticationFailureException: An error was encountered while handling the remote login.
 ---> Microsoft.AspNetCore.Authentication.AuthenticationFailureException: Correlation failed.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 17:44:41.881 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/signin-google?error=access_denied&state=CfDJ8HIq4qz2bxNFpYrJMFKyQefZ7IVxovBBaCuB4icLUuVwavX6IOrnjZFWeVSaMR_YIHuYke7hZo7AZYLsOs5WTHyzCXlZLk9GNChioe8TvdnZtzwa-4hQqQGl36SZicIySv_TS12gWIiWyERS02bUqZf1h3gMqH_tyNmlKe50E16XNUPbk9rtGAGEiwV9Tcwfi6rD5o_qVPH8CA57Oda-fX0LseAP5oSoTsCPQjD7Z5xVzytwE-EC5Y0VklH9ukx3yg1e_oIC4oEUksxnzhCyC2Bu86dOR3ZEFSPzLlKPZkAE7aeeyuJXOu_7r6VZm9cw2IJhgw-w0nunUMcWRQYPt-w - 500 null application/json 192.2872ms
2025-02-22 17:45:01.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:45:01.973 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:45:01 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 17:45:02.081 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 3:29:33 PM', Current time (UTC): '2/22/2025 3:45:01 PM'.
2025-02-22 17:45:02.096 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:45:02.121 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:45:02.156 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:45:02.172 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:45:02.182 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 27.8984ms
2025-02-22 17:45:02.198 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:45:02.207 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 235.3038 ms
2025-02-22 17:45:02.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 256.9377ms
2025-02-22 17:45:08.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:45:08.821 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:45:08.826 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:45:08.885 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:45:08.889 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:45:08.932 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 47.255ms
2025-02-22 17:45:08.959 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:45:08.997 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 176.3651 ms
2025-02-22 17:45:09.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 206.2991ms
2025-02-22 17:45:17.573 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQeen6KlBQO2CHndaFRu9FQQyAUPiKpzu4cEeWKUup8mtAeU0X_1czj88ywMwyGmJSs23XZKcwZUuUcXyhreKBNErWk9kUWagGLgasF4aMWTpO7Z4YiCQYwCyH7S4XVCjDW63-VSTUtI5Gi27gnhZ5vb5VeF1YYTFlLYroa2JrT6KM8PeH9rw27dXPGyu6CfUkt6Uj_gCha3tqmhS412a5iaI16_E7Z1T88CC_XBmKfvhp5UKA5MhKT7EC_cy825r_NHhZ2i9aJ6WjmaAOa4DSu1SXejONEaCm37gjy6l5Lpliv80X3aWk8J426EkvkvDlBA&code=4%2F0ASVgi3JiiuhCUvnKjOLYtpHAeVh-Ms3HIvKobxor7LbHt761W1KUkZRNbzanfIQC9rv1gQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none - null null
2025-02-22 17:45:18.537 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-02-22 17:45:18.545 +02:00 [INF] HTTP GET /signin-google responded 302 in 958.7069 ms
2025-02-22 17:45:18.550 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQeen6KlBQO2CHndaFRu9FQQyAUPiKpzu4cEeWKUup8mtAeU0X_1czj88ywMwyGmJSs23XZKcwZUuUcXyhreKBNErWk9kUWagGLgasF4aMWTpO7Z4YiCQYwCyH7S4XVCjDW63-VSTUtI5Gi27gnhZ5vb5VeF1YYTFlLYroa2JrT6KM8PeH9rw27dXPGyu6CfUkt6Uj_gCha3tqmhS412a5iaI16_E7Z1T88CC_XBmKfvhp5UKA5MhKT7EC_cy825r_NHhZ2i9aJ6WjmaAOa4DSu1SXejONEaCm37gjy6l5Lpliv80X3aWk8J426EkvkvDlBA&code=4%2F0ASVgi3JiiuhCUvnKjOLYtpHAeVh-Ms3HIvKobxor7LbHt761W1KUkZRNbzanfIQC9rv1gQ&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=1&prompt=none - 302 0 null 976.9668ms
2025-02-22 17:45:18.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 17:45:18.592 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 17:45:18.603 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:45:18.640 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:45:18.681 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:45:18.734 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-22 17:45:18.791 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2025-02-22 17:45:18.834 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:45:18.914 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p22='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p23='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [Token] = @p18, [TokenExpiryTime] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-02-22 17:45:18.970 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:45:18.989 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:45:19.023 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:45:19.091 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:45:19.162 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:45:19.203 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 17:45:19.208 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 576.7512ms
2025-02-22 17:45:19.233 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 17:45:19.239 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 646.6235 ms
2025-02-22 17:45:19.267 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 691.5999ms
2025-02-22 17:47:07.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:47:07.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 9.5205ms
2025-02-22 17:47:07.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:47:07.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.8335ms
2025-02-22 17:47:07.110 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:47:07.122 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.4756ms
2025-02-22 17:47:07.351 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:47:07.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.3693ms
2025-02-22 17:49:23.093 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 17:49:23.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 11.0053ms
2025-02-22 17:49:23.131 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 17:49:23.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.4247ms
2025-02-22 17:49:23.195 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 17:49:23.210 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.8675ms
2025-02-22 17:49:23.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 17:49:23.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.8166ms
2025-02-22 17:51:20.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:51:20.122 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:51:20.126 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:51:20.166 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:51:20.172 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:51:20.201 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 36.1964ms
2025-02-22 17:51:20.228 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:51:20.255 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 132.9257 ms
2025-02-22 17:51:20.260 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 143.927ms
2025-02-22 17:51:49.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:51:49.252 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:51:49.257 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:51:49.284 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:51:49.289 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:51:49.312 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 30.3739ms
2025-02-22 17:51:49.351 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:51:49.386 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 134.3107 ms
2025-02-22 17:51:49.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 172.2975ms
2025-02-22 17:52:17.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:52:17.479 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:52:17.484 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:52:17.490 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:52:17.503 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:52:17.505 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 15.7431ms
2025-02-22 17:52:17.529 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:52:17.581 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 102.7228 ms
2025-02-22 17:52:17.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 125.8684ms
2025-02-22 17:52:23.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 17:52:23.667 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:52:23.670 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:52:23.701 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 17:52:23.716 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 17:52:23.763 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 63.1788ms
2025-02-22 17:52:23.856 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 17:52:23.865 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 198.4187 ms
2025-02-22 17:52:23.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 231.7691ms
2025-02-22 17:52:31.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQecjVX6hr-Y49NWHf7KdZFlEG4DUsvQDz6O50uLaw87IjGawDAPCxqcj7n5SiijPw5fBdN0AsUG_t4xIdhCsbwgAaifjJzGn1uYxG8zaoCY1KBDxYbQxkji-q-L3zIPZQGBDyTetKJ5A5rB_weotHm-iBe_vWeso-29sDJpJ59qWJjD1zuxMOaHkRkpurv8wcXQTEtdKip16WyVlRhsmVCk3rzLfLHjEYtlyd38ICPsdVGLWHkTBACbu-6wK7fSlQZyKplUUfevkEN-zlNOaBXXBPPv-Rz_E5iQE3FIeV6hZQtqZsq5Zi_y_PYWTngh-qYg&code=4%2F0ASVgi3JkirVyXSq1xn1GEbHBmsGjob9GI_cSe21vsgD9psbpTc9Ow4rzy_2r5oYcuiR3_w&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none - null null
2025-02-22 17:52:33.867 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-02-22 17:52:33.873 +02:00 [INF] HTTP GET /signin-google responded 302 in 2151.2099 ms
2025-02-22 17:52:33.879 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQecjVX6hr-Y49NWHf7KdZFlEG4DUsvQDz6O50uLaw87IjGawDAPCxqcj7n5SiijPw5fBdN0AsUG_t4xIdhCsbwgAaifjJzGn1uYxG8zaoCY1KBDxYbQxkji-q-L3zIPZQGBDyTetKJ5A5rB_weotHm-iBe_vWeso-29sDJpJ59qWJjD1zuxMOaHkRkpurv8wcXQTEtdKip16WyVlRhsmVCk3rzLfLHjEYtlyd38ICPsdVGLWHkTBACbu-6wK7fSlQZyKplUUfevkEN-zlNOaBXXBPPv-Rz_E5iQE3FIeV6hZQtqZsq5Zi_y_PYWTngh-qYg&code=4%2F0ASVgi3JkirVyXSq1xn1GEbHBmsGjob9GI_cSe21vsgD9psbpTc9Ow4rzy_2r5oYcuiR3_w&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=1&prompt=none - 302 0 null 2165.5998ms
2025-02-22 17:52:33.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 17:52:33.903 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 17:52:33.934 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 17:52:34.048 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 17:52:34.092 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:52:34.153 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-22 17:52:34.205 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2025-02-22 17:52:34.218 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:52:34.302 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p22='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p23='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [Token] = @p18, [TokenExpiryTime] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-02-22 17:52:34.385 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 17:52:34.413 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 17:52:34.452 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 17:52:34.503 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 17:52:34.552 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 17:52:34.578 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 17:52:34.609 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 598.9115ms
2025-02-22 17:52:34.633 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 17:52:34.681 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 777.7375 ms
2025-02-22 17:52:34.725 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 828.7435ms
2025-02-22 18:58:34.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 18:58:34.030 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 18:58:34.033 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 18:58:34.037 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 18:58:34.041 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 18:58:34.043 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 7.4838ms
2025-02-22 18:58:34.047 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 18:58:34.049 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 18.6874 ms
2025-02-22 18:58:34.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 25.8172ms
2025-02-22 18:59:16.100 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 499
2025-02-22 18:59:16.111 +02:00 [INF] CORS policy execution successful.
2025-02-22 18:59:16.114 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:16.129 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 18:59:16.335 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 18:59:16.371 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 18:59:16.404 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 18:59:16.421 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 190.6046ms
2025-02-22 18:59:16.449 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:16.459 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 347.8119 ms
2025-02-22 18:59:16.470 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 369.7861ms
2025-02-22 18:59:26.561 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 498
2025-02-22 18:59:26.572 +02:00 [INF] CORS policy execution successful.
2025-02-22 18:59:26.575 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:26.584 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 18:59:26.681 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 18:59:26.699 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 18:59:26.718 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 48.1675ms
2025-02-22 18:59:26.739 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:26.748 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 176.8718 ms
2025-02-22 18:59:26.761 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 199.8727ms
2025-02-22 18:59:33.753 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 490
2025-02-22 18:59:33.761 +02:00 [INF] CORS policy execution successful.
2025-02-22 18:59:33.764 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:33.767 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 18:59:33.823 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 18:59:33.856 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 39.6249ms
2025-02-22 18:59:33.863 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:33.891 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 130.4279 ms
2025-02-22 18:59:33.912 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 158.9633ms
2025-02-22 18:59:46.755 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 496
2025-02-22 18:59:46.766 +02:00 [INF] CORS policy execution successful.
2025-02-22 18:59:46.769 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:46.782 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 18:59:46.923 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 18:59:46.992 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 18:59:47.054 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 18:59:47.088 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 18:59:47.303 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 18:59:47.520 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 18:59:47.570 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 18:59:47.632 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 18:59:47.644 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 18:59:47.682 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 18:59:47.740 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 18:59:50.113 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 18:59:50.125 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 3235.8297ms
2025-02-22 18:59:50.134 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 18:59:50.150 +02:00 [INF] HTTP POST /api/Account/register/student responded 200 in 3384.5061 ms
2025-02-22 18:59:50.161 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 200 null application/json; charset=utf-8 3405.7703ms
2025-02-22 19:00:05.257 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/confirm-email?userId=1775c94a-fb72-4e86-8059-8d330d124962&token=CfDJ8HIq4qz2bxNFpYrJMFKyQef8lBSlHv3vEBzH3iHncDsIroHEpi%2FOtluBD2%2BVYDqvumLkXIXlogNttkbPXCpCSFAuNjVe8nq7LPA1RSGyrJFbgxIfIJhUfipVxPBxWaOWPW33gjHtANCOBEyaqpo2%2B%2BnvjB2cBZ1iio62gaqBt%2BH9pC5YadXV178JbV1kktc9mR8Qx5e0EU3uU7o0THDNgbIQeXbH5WVA5PsK38s59Q0v7Mqav9Cv2zh6wfmJFLxc0g%3D%3D - null null
2025-02-22 19:00:05.342 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api)'
2025-02-22 19:00:05.360 +02:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 19:00:05.432 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:00:05.496 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 19:00:05.589 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 19:00:05.687 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Entities.Identity.AppUser, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 19:00:05.709 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api) in 305.8739ms
2025-02-22 19:00:05.740 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api)'
2025-02-22 19:00:05.774 +02:00 [INF] HTTP GET /api/Account/confirm-email responded 200 in 432.3679 ms
2025-02-22 19:00:05.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/confirm-email?userId=1775c94a-fb72-4e86-8059-8d330d124962&token=CfDJ8HIq4qz2bxNFpYrJMFKyQef8lBSlHv3vEBzH3iHncDsIroHEpi%2FOtluBD2%2BVYDqvumLkXIXlogNttkbPXCpCSFAuNjVe8nq7LPA1RSGyrJFbgxIfIJhUfipVxPBxWaOWPW33gjHtANCOBEyaqpo2%2B%2BnvjB2cBZ1iio62gaqBt%2BH9pC5YadXV178JbV1kktc9mR8Qx5e0EU3uU7o0THDNgbIQeXbH5WVA5PsK38s59Q0v7Mqav9Cv2zh6wfmJFLxc0g%3D%3D - 200 null application/json; charset=utf-8 554.3784ms
2025-02-22 19:03:34.345 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/all - null null
2025-02-22 19:03:34.354 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 19:03:34.373 +02:00 [INF] Route matched with {action = "GetAllAssignments", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:03:34.460 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
2025-02-22 19:03:34.519 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:03:34.548 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api) in 139.6279ms
2025-02-22 19:03:34.567 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 19:03:34.585 +02:00 [INF] HTTP GET /api/Assignment/all responded 200 in 231.1352 ms
2025-02-22 19:03:34.597 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/all - 200 null application/json; charset=utf-8 251.8526ms
2025-02-22 19:03:46.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/34234 - null null
2025-02-22 19:03:46.488 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:03:46.502 +02:00 [INF] Route matched with {action = "GetAssignmentsByCourse", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsByCourse(Int32) on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:03:46.572 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__id_0
2025-02-22 19:03:46.613 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:03:46.640 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api) in 94.2623ms
2025-02-22 19:03:46.655 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:03:46.678 +02:00 [INF] HTTP GET /api/Assignment/by-course/34234 responded 404 in 190.4605 ms
2025-02-22 19:03:46.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/34234 - 404 null application/json; charset=utf-8 220.6602ms
2025-02-22 19:03:51.158 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/2 - null null
2025-02-22 19:03:51.167 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:03:51.176 +02:00 [INF] Route matched with {action = "GetAssignmentsByCourse", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsByCourse(Int32) on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:03:51.248 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__id_0
2025-02-22 19:03:51.290 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
WHERE [a].[CourseID] = @__courseId_0
2025-02-22 19:03:51.325 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:03:51.337 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api) in 92.8966ms
2025-02-22 19:03:51.361 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:03:51.387 +02:00 [INF] HTTP GET /api/Assignment/by-course/2 responded 200 in 220.1131 ms
2025-02-22 19:03:51.400 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/2 - 200 null application/json; charset=utf-8 241.8194ms
2025-02-22 19:04:04.038 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Assignment/add - application/json 84
2025-02-22 19:04:04.047 +02:00 [INF] CORS policy execution successful.
2025-02-22 19:04:04.050 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.AddAssignment (SchoolManagementSystem.Api)'
2025-02-22 19:04:04.066 +02:00 [INF] Route matched with {action = "AddAssignment", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAssignment(SchoolManagementSystem.Core.Features.Assignments.Commands.Models.AddAssignmentCommand) on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:04:04.188 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 19:04:04.198 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.AddAssignment (SchoolManagementSystem.Api) in 65.1086ms
2025-02-22 19:04:04.203 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.AddAssignment (SchoolManagementSystem.Api)'
2025-02-22 19:04:04.208 +02:00 [INF] HTTP POST /api/Assignment/add responded 201 in 161.2772 ms
2025-02-22 19:04:04.220 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Assignment/add - 201 null application/json; charset=utf-8 181.5325ms
2025-02-22 19:04:17.456 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/3/attendance-summary - null null
2025-02-22 19:04:17.464 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 19:04:17.474 +02:00 [INF] Route matched with {action = "GetAttendanceSummary", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttendanceSummary(Int32) on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 19:04:17.526 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 19:04:17.618 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__classroomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
WHERE [a].[ClassroomID] = @__classroomId_0
2025-02-22 19:04:17.645 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AttendanceSummaryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 19:04:17.663 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api) in 154.5562ms
2025-02-22 19:04:17.682 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 19:04:17.708 +02:00 [INF] HTTP GET /api/Attendance/3/attendance-summary responded 200 in 244.2387 ms
2025-02-22 19:04:17.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/3/attendance-summary - 200 null application/json; charset=utf-8 258.5505ms
2025-02-22 19:05:00.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/all - null null
2025-02-22 19:05:00.775 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 19:05:00.780 +02:00 [INF] Route matched with {action = "GetAllAssignments", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:05:00.810 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
2025-02-22 19:05:00.840 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:05:00.933 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api) in 142.3596ms
2025-02-22 19:05:00.968 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 19:05:00.994 +02:00 [INF] HTTP GET /api/Assignment/all responded 200 in 218.8979 ms
2025-02-22 19:05:01.019 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/all - 200 null application/json; charset=utf-8 249.1113ms
2025-02-22 19:05:10.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/222 - null null
2025-02-22 19:05:10.821 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:05:10.824 +02:00 [INF] Route matched with {action = "GetAssignmentsByCourse", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsByCourse(Int32) on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:05:10.847 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__id_0
2025-02-22 19:05:10.942 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:05:10.959 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api) in 117.8135ms
2025-02-22 19:05:10.977 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:05:10.996 +02:00 [INF] HTTP GET /api/Assignment/by-course/222 responded 404 in 175.1812 ms
2025-02-22 19:05:11.008 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/222 - 404 null application/json; charset=utf-8 191.4748ms
2025-02-22 19:05:16.182 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/2 - null null
2025-02-22 19:05:16.188 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:05:16.192 +02:00 [INF] Route matched with {action = "GetAssignmentsByCourse", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsByCourse(Int32) on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:05:16.217 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__id_0
2025-02-22 19:05:16.322 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
WHERE [a].[CourseID] = @__courseId_0
2025-02-22 19:05:16.370 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:05:16.406 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api) in 191.2645ms
2025-02-22 19:05:16.422 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:05:16.441 +02:00 [INF] HTTP GET /api/Assignment/by-course/2 responded 200 in 253.0015 ms
2025-02-22 19:05:16.449 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/2 - 200 null application/json; charset=utf-8 266.5508ms
2025-02-22 19:05:27.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/3/attendance-summary - null null
2025-02-22 19:05:27.839 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 19:05:27.843 +02:00 [INF] Route matched with {action = "GetAttendanceSummary", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttendanceSummary(Int32) on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 19:05:27.866 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 19:05:27.972 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__classroomId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
WHERE [a].[ClassroomID] = @__classroomId_0
2025-02-22 19:05:28.007 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AttendanceSummaryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 19:05:28.018 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api) in 158.1039ms
2025-02-22 19:05:28.041 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAttendanceSummary (SchoolManagementSystem.Api)'
2025-02-22 19:05:28.048 +02:00 [INF] HTTP GET /api/Attendance/3/attendance-summary responded 200 in 209.3026 ms
2025-02-22 19:05:28.062 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/3/attendance-summary - 200 null application/json; charset=utf-8 233.0435ms
2025-02-22 19:05:43.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 19:05:43.578 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:05:43.590 +02:00 [INF] Route matched with {action = "GetBorrowedBooksByStudent", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowedBooksByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 19:05:43.697 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:05:43.734 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BorrowID], [b].[BorrowDate], [b].[LibraryID], [b].[ReturnDate], [b].[StudentID]
FROM [BorrowedBooks] AS [b]
WHERE [b].[StudentID] = @__studentId_0
2025-02-22 19:05:43.776 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:05:43.808 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api) in 146.3193ms
2025-02-22 19:05:43.820 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:05:43.840 +02:00 [INF] HTTP GET /api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 261.8832 ms
2025-02-22 19:05:43.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 294.0485ms
2025-02-22 19:05:49.542 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1 - null null
2025-02-22 19:05:49.555 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:05:49.560 +02:00 [INF] Route matched with {action = "GetBorrowedBooksByStudent", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowedBooksByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 19:05:49.632 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:05:49.692 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:05:49.713 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api) in 85.5851ms
2025-02-22 19:05:49.725 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:05:49.741 +02:00 [INF] HTTP GET /api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1 responded 404 in 186.2573 ms
2025-02-22 19:05:49.754 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1 - 404 null application/json; charset=utf-8 212.2634ms
2025-02-22 19:05:58.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims - null null
2025-02-22 19:05:58.381 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api)'
2025-02-22 19:05:58.393 +02:00 [INF] Route matched with {action = "GetUserRolesAndClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRolesAndClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 19:05:58.443 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 19:05:58.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Views.UserRolesClaimsView, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:05:58.513 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api) in 90.3397ms
2025-02-22 19:05:58.548 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetUserRolesAndClaims (SchoolManagementSystem.Api)'
2025-02-22 19:05:58.567 +02:00 [INF] HTTP GET /api/Claims/roles-claims responded 200 in 186.4287 ms
2025-02-22 19:05:58.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims - 200 null application/json; charset=utf-8 199.7992ms
2025-02-22 19:06:07.864 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - null null
2025-02-22 19:06:07.872 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 19:06:07.881 +02:00 [INF] Route matched with {action = "GetGroupedUserRoleClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedUserRoleClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 19:06:07.939 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 19:06:08.000 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Views.UserRoleClaimGroupedDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:06:08.009 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api) in 79.3089ms
2025-02-22 19:06:08.022 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 19:06:08.049 +02:00 [INF] HTTP GET /api/Claims/roles-claims-grouped responded 200 in 176.7024 ms
2025-02-22 19:06:08.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - 200 null application/json; charset=utf-8 201.0652ms
2025-02-22 19:09:44.776 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/all - null null
2025-02-22 19:09:44.784 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 19:09:44.788 +02:00 [INF] Route matched with {action = "GetAllAssignments", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:09:44.861 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
2025-02-22 19:09:44.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:09:44.945 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api) in 100.2928ms
2025-02-22 19:09:44.974 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 19:09:44.981 +02:00 [INF] HTTP GET /api/Assignment/all responded 200 in 197.5751 ms
2025-02-22 19:09:44.996 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/all - 200 null application/json; charset=utf-8 220.1582ms
2025-02-22 19:09:52.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/2222 - null null
2025-02-22 19:09:52.319 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:09:52.328 +02:00 [INF] Route matched with {action = "GetAssignmentsByCourse", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsByCourse(Int32) on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:09:52.411 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__id_0
2025-02-22 19:09:52.472 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:09:52.516 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api) in 108.6459ms
2025-02-22 19:09:52.533 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:09:52.562 +02:00 [INF] HTTP GET /api/Assignment/by-course/2222 responded 404 in 243.1578 ms
2025-02-22 19:09:52.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/2222 - 404 null application/json; charset=utf-8 256.3032ms
2025-02-22 19:09:59.712 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/3 - null null
2025-02-22 19:09:59.720 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:09:59.725 +02:00 [INF] Route matched with {action = "GetAssignmentsByCourse", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsByCourse(Int32) on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 19:09:59.839 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__id_0
2025-02-22 19:09:59.885 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
WHERE [a].[CourseID] = @__courseId_0
2025-02-22 19:09:59.928 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:09:59.954 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api) in 120.4077ms
2025-02-22 19:09:59.985 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAssignmentsByCourse (SchoolManagementSystem.Api)'
2025-02-22 19:10:00.010 +02:00 [INF] HTTP GET /api/Assignment/by-course/3 responded 200 in 290.3535 ms
2025-02-22 19:10:00.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/by-course/3 - 200 null application/json; charset=utf-8 329.644ms
2025-02-22 19:10:22.627 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Attendance/add - application/json 95
2025-02-22 19:10:22.634 +02:00 [INF] CORS policy execution successful.
2025-02-22 19:10:22.640 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.AddAttendance (SchoolManagementSystem.Api)'
2025-02-22 19:10:22.652 +02:00 [INF] Route matched with {action = "AddAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAttendance(SchoolManagementSystem.Core.Features.Attendances.Commands.Models.AddAttendanceCommand) on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 19:10:22.767 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:10:22.773 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.AddAttendance (SchoolManagementSystem.Api) in 35.0388ms
2025-02-22 19:10:22.793 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.AddAttendance (SchoolManagementSystem.Api)'
2025-02-22 19:10:22.838 +02:00 [INF] HTTP POST /api/Attendance/add responded 400 in 204.5141 ms
2025-02-22 19:10:22.853 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Attendance/add - 400 null application/json; charset=utf-8 226.19ms
2025-02-22 19:10:34.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1 - null null
2025-02-22 19:10:34.096 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:10:34.107 +02:00 [INF] Route matched with {action = "GetBorrowedBooksByStudent", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowedBooksByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 19:10:34.202 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:10:34.258 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:10:34.294 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api) in 102.8977ms
2025-02-22 19:10:34.310 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:10:34.343 +02:00 [INF] HTTP GET /api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1 responded 404 in 247.2222 ms
2025-02-22 19:10:34.350 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1 - 404 null application/json; charset=utf-8 263.6594ms
2025-02-22 19:10:38.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 19:10:38.983 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:10:39.000 +02:00 [INF] Route matched with {action = "GetBorrowedBooksByStudent", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowedBooksByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 19:10:39.075 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:10:39.135 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BorrowID], [b].[BorrowDate], [b].[LibraryID], [b].[ReturnDate], [b].[StudentID]
FROM [BorrowedBooks] AS [b]
WHERE [b].[StudentID] = @__studentId_0
2025-02-22 19:10:39.185 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:10:39.207 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api) in 134.4288ms
2025-02-22 19:10:39.243 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:10:39.271 +02:00 [INF] HTTP GET /api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 288.1297 ms
2025-02-22 19:10:39.288 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 315.8753ms
2025-02-22 19:10:44.538 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-144vdcv0c594ae1c - null null
2025-02-22 19:10:44.548 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:10:44.607 +02:00 [INF] Route matched with {action = "GetBorrowedBooksByStudent", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBorrowedBooksByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 19:10:44.685 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:10:44.757 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:10:44.769 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api) in 86.7005ms
2025-02-22 19:10:44.812 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetBorrowedBooksByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:10:44.831 +02:00 [INF] HTTP GET /api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-144vdcv0c594ae1c responded 404 in 282.8611 ms
2025-02-22 19:10:44.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/by-student/34fa3d05-aa66-4526-9c62-144vdcv0c594ae1c - 404 null application/json; charset=utf-8 324.5153ms
2025-02-22 19:10:49.914 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - null null
2025-02-22 19:10:49.925 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 19:10:49.928 +02:00 [INF] Route matched with {action = "GetGroupedUserRoleClaims", controller = "Claims"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedUserRoleClaims() on controller SchoolManagementSystem.Api.Controllers.ClaimsController (SchoolManagementSystem.Api).
2025-02-22 19:10:49.957 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ClaimType], [u].[ClaimValue], [u].[RoleName], [u].[UserId], [u].[UserName]
FROM [UserRolesClaimsView] AS [u]
2025-02-22 19:10:49.998 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Views.UserRoleClaimGroupedDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:10:50.084 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api) in 139.697ms
2025-02-22 19:10:50.099 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClaimsController.GetGroupedUserRoleClaims (SchoolManagementSystem.Api)'
2025-02-22 19:10:50.114 +02:00 [INF] HTTP GET /api/Claims/roles-claims-grouped responded 200 in 189.1776 ms
2025-02-22 19:10:50.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Claims/roles-claims-grouped - 200 null application/json; charset=utf-8 219.9594ms
2025-02-22 19:11:14.109 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Course/2/students - null null
2025-02-22 19:11:14.117 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.CourseController.GetStudentsInCourse (SchoolManagementSystem.Api)'
2025-02-22 19:11:14.177 +02:00 [INF] Route matched with {action = "GetStudentsInCourse", controller = "Course"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsInCourse(Int32) on controller SchoolManagementSystem.Api.Controllers.CourseController (SchoolManagementSystem.Api).
2025-02-22 19:11:14.254 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[CourseID] = @__id_0
2025-02-22 19:11:14.369 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[SecurityStamp], [t].[Token], [t].[TokenExpiryTime], [t].[TwoFactorEnabled], [t].[UserName], [t].[ClassroomID], [t].[Image], [t].[ParentID], [t].[StudentAddress], [t].[StudentDateOfBirth], [t].[StudentFirstNameAr], [t].[StudentFirstNameEn], [t].[StudentGender], [t].[StudentLastNameAr], [t].[StudentLastNameEn]
FROM [Courses] AS [c]
INNER JOIN [Enrollments] AS [e] ON [c].[CourseID] = [e].[CourseID]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
    FROM [AspNetUsers] AS [a]
    INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
) AS [t] ON [e].[StudentID] = [t].[Id]
WHERE [c].[CourseID] = @__courseId_0
2025-02-22 19:11:14.409 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:11:14.423 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.CourseController.GetStudentsInCourse (SchoolManagementSystem.Api) in 183.9427ms
2025-02-22 19:11:14.438 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.CourseController.GetStudentsInCourse (SchoolManagementSystem.Api)'
2025-02-22 19:11:14.448 +02:00 [INF] HTTP GET /api/Course/2/students responded 200 in 331.3997 ms
2025-02-22 19:11:14.464 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Course/2/students - 200 null application/json; charset=utf-8 354.64ms
2025-02-22 19:11:39.387 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Department/2/teachers - null null
2025-02-22 19:11:39.392 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetTeachersByDepartment (SchoolManagementSystem.Api)'
2025-02-22 19:11:39.406 +02:00 [INF] Route matched with {action = "GetTeachersByDepartment", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachersByDepartment(Int32) on controller SchoolManagementSystem.Api.Controllers.DepartmentController (SchoolManagementSystem.Api).
2025-02-22 19:11:39.499 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 19:11:39.555 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__departmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [t].[DepartmentID] = @__departmentId_0
2025-02-22 19:11:39.644 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.TeacherDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:11:39.657 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.DepartmentController.GetTeachersByDepartment (SchoolManagementSystem.Api) in 184.3695ms
2025-02-22 19:11:39.671 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetTeachersByDepartment (SchoolManagementSystem.Api)'
2025-02-22 19:11:39.689 +02:00 [INF] HTTP GET /api/Department/2/teachers responded 200 in 297.0380 ms
2025-02-22 19:11:39.699 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Department/2/teachers - 200 null application/json; charset=utf-8 311.5204ms
2025-02-22 19:11:49.540 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Department/2/courses - null null
2025-02-22 19:11:49.551 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetCoursesByDepartment (SchoolManagementSystem.Api)'
2025-02-22 19:11:49.569 +02:00 [INF] Route matched with {action = "GetCoursesByDepartment", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByDepartment(Int32) on controller SchoolManagementSystem.Api.Controllers.DepartmentController (SchoolManagementSystem.Api).
2025-02-22 19:11:49.656 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 19:11:49.737 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__departmentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
WHERE [c].[DepartmentID] = @__departmentId_0
2025-02-22 19:11:49.788 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.CourseDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:11:49.810 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.DepartmentController.GetCoursesByDepartment (SchoolManagementSystem.Api) in 164.4443ms
2025-02-22 19:11:49.820 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetCoursesByDepartment (SchoolManagementSystem.Api)'
2025-02-22 19:11:49.840 +02:00 [INF] HTTP GET /api/Department/2/courses responded 200 in 289.7547 ms
2025-02-22 19:11:49.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Department/2/courses - 200 null application/json; charset=utf-8 323.0648ms
2025-02-22 19:12:14.833 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamResult/get/student-exams/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 19:12:14.839 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetExamResultsByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:12:14.854 +02:00 [INF] Route matched with {action = "GetExamResultsByStudent", controller = "ExamResult"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamResultsByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.ExamResultController (SchoolManagementSystem.Api).
2025-02-22 19:12:14.928 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:12:14.970 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__studentID_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamResultID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamResults] AS [e]
WHERE [e].[StudentID] = @__studentID_0
2025-02-22 19:12:15.027 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamResultDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:12:15.062 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamResultController.GetExamResultsByStudent (SchoolManagementSystem.Api) in 153.3063ms
2025-02-22 19:12:15.072 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetExamResultsByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:12:15.088 +02:00 [INF] HTTP GET /api/ExamResult/get/student-exams/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 249.4997 ms
2025-02-22 19:12:15.099 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamResult/get/student-exams/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 266.0243ms
2025-02-22 19:12:24.941 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamScore/student/34fa3d05-aa66-4526-9c62-1440c594ae1c - null null
2025-02-22 19:12:24.949 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:12:24.960 +02:00 [INF] Route matched with {action = "GetExamScoresByStudent", controller = "ExamScore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamScoresByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.ExamScoreController (SchoolManagementSystem.Api).
2025-02-22 19:12:25.032 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 19:12:25.108 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamScoreID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamScores] AS [e]
WHERE [e].[StudentID] = @__studentId_0
2025-02-22 19:12:25.174 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamScoreDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 19:12:25.208 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api) in 188.2951ms
2025-02-22 19:12:25.215 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api)'
2025-02-22 19:12:25.231 +02:00 [INF] HTTP GET /api/ExamScore/student/34fa3d05-aa66-4526-9c62-1440c594ae1c responded 200 in 281.5671 ms
2025-02-22 19:12:25.248 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamScore/student/34fa3d05-aa66-4526-9c62-1440c594ae1c - 200 null application/json; charset=utf-8 306.9434ms
2025-02-22 20:01:14.952 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 20:01:15.001 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 20:01:15.005 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 20:01:15.492 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 20:01:15.553 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 20:01:15.560 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 20:01:15.658 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 20:01:15.721 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 20:01:15.774 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 20:01:15.779 +02:00 [INF] Hosting environment: Development
2025-02-22 20:01:15.782 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 20:01:15.954 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 20:01:16.091 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 137.7237ms
2025-02-22 20:01:16.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 20:01:16.104 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 20:01:16.137 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 32.7262ms
2025-02-22 20:01:16.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.325ms
2025-02-22 20:01:16.357 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 20:01:16.423 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.4112ms
2025-02-22 20:01:28.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:01:28.850 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 20:01:28.881 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:01:28.907 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:01:28.913 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 56.3438 ms
2025-02-22 20:01:28.928 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 401 0 null 90.1244ms
2025-02-22 20:01:48.985 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 60
2025-02-22 20:01:48.996 +02:00 [INF] CORS policy execution successful.
2025-02-22 20:01:49.009 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:01:49.087 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 20:01:49.379 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 20:01:49.613 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:01:49.642 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 472.8143ms
2025-02-22 20:01:49.659 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:01:49.689 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 694.6578 ms
2025-02-22 20:01:49.702 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 716.6911ms
2025-02-22 20:01:57.516 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 62
2025-02-22 20:01:57.527 +02:00 [INF] CORS policy execution successful.
2025-02-22 20:01:57.531 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:01:57.538 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 20:01:57.641 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 20:01:57.861 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 20:01:57.888 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 20:01:57.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 20:01:58.174 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 20:01:58.273 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 20:01:58.293 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:01:58.302 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 682.7887ms
2025-02-22 20:01:58.317 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:01:58.323 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 796.7777 ms
2025-02-22 20:01:58.341 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 825.3392ms
2025-02-22 20:02:12.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:02:13.024 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:02:13.035 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-22 20:02:13.049 +02:00 [INF] HTTP GET /api/Students/all responded 403 in 66.5614 ms
2025-02-22 20:02:13.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 403 0 null 75.6172ms
2025-02-22 20:03:25.366 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:03:25.375 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:03:25.388 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:03:25.439 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 65.7574 ms
2025-02-22 20:03:25.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 401 0 null 105.4029ms
2025-02-22 20:03:36.650 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 62
2025-02-22 20:03:36.659 +02:00 [INF] CORS policy execution successful.
2025-02-22 20:03:36.663 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:03:36.667 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 20:03:36.759 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 20:03:37.036 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 20:03:37.080 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 20:03:37.145 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 20:03:37.449 +02:00 [INF] Executed DbCommand (160ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 20:03:37.518 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 20:03:37.592 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:03:37.611 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 889.531ms
2025-02-22 20:03:37.621 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:03:37.644 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 985.5864 ms
2025-02-22 20:03:37.651 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1000.6151ms
2025-02-22 20:03:50.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:03:50.952 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:03:50.956 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-22 20:03:50.969 +02:00 [INF] HTTP GET /api/Students/all responded 403 in 18.7045 ms
2025-02-22 20:03:50.985 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 403 0 null 39.1451ms
2025-02-22 20:04:03.329 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 63
2025-02-22 20:04:03.337 +02:00 [INF] CORS policy execution successful.
2025-02-22 20:04:03.344 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:03:57 PM', Current time (UTC): '2/22/2025 6:04:03 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:04:03.467 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:03:57 PM', Current time (UTC): '2/22/2025 6:04:03 PM'.
2025-02-22 20:04:03.483 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:04:03.499 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 20:04:03.538 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 20:04:03.823 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:04:03.834 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 304.2486ms
2025-02-22 20:04:03.841 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:04:03.860 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 522.9728 ms
2025-02-22 20:04:03.874 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 544.745ms
2025-02-22 20:04:11.635 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 20:04:11.642 +02:00 [INF] CORS policy execution successful.
2025-02-22 20:04:11.646 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:03:57 PM', Current time (UTC): '2/22/2025 6:04:11 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:04:11.801 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:03:57 PM', Current time (UTC): '2/22/2025 6:04:11 PM'.
2025-02-22 20:04:11.819 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:04:11.845 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 20:04:11.908 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 20:04:12.136 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 20:04:12.171 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 20:04:12.255 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 20:04:12.350 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 20:04:12.404 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 20:04:12.422 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:04:12.435 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 531.0012ms
2025-02-22 20:04:12.452 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:04:12.498 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 855.6093 ms
2025-02-22 20:04:12.504 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 869.0614ms
2025-02-22 20:04:24.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:04:25.004 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:04:25.014 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:04:25.412 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 20:04:25.646 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:04:25.654 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 621.2367ms
2025-02-22 20:04:25.659 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:04:25.695 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 693.2082 ms
2025-02-22 20:04:25.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 703.1919ms
2025-02-22 20:06:51.091 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - null null
2025-02-22 20:06:51.102 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:06:51 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:06:51.223 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:06:51 PM'.
2025-02-22 20:06:51.261 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:06:51.308 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:06:51.516 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-22 20:06:51.563 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 20:06:51.599 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:06:51.647 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 283.4028ms
2025-02-22 20:06:51.656 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:06:51.706 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 605.1907 ms
2025-02-22 20:06:51.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - 200 null application/json; charset=utf-8 623.6678ms
2025-02-22 20:07:00.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?Search=%D8%B1%D8%A7%D9%85%D9%8A - null null
2025-02-22 20:07:00.287 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:00 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:07:00.477 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:00 PM'.
2025-02-22 20:07:00.507 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:00.531 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:07:00.651 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__search_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE ([s].[StudentFirstNameAr] IS NOT NULL AND [s].[StudentFirstNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentFirstNameEn] IS NOT NULL AND [s].[StudentFirstNameEn] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameAr] IS NOT NULL AND [s].[StudentLastNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameEn] IS NOT NULL AND [s].[StudentLastNameEn] LIKE @__search_0_contains ESCAPE N'\')
2025-02-22 20:07:00.684 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 20:07:00.692 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 20:07:00.735 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__search_0_contains='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE ([s].[StudentFirstNameAr] IS NOT NULL AND [s].[StudentFirstNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentFirstNameEn] IS NOT NULL AND [s].[StudentFirstNameEn] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameAr] IS NOT NULL AND [s].[StudentLastNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameEn] IS NOT NULL AND [s].[StudentLastNameEn] LIKE @__search_0_contains ESCAPE N'\')
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-02-22 20:07:00.783 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:07:00.810 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 213.2392ms
2025-02-22 20:07:00.834 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:00.860 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 573.3163 ms
2025-02-22 20:07:00.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?Search=%D8%B1%D8%A7%D9%85%D9%8A - 200 null application/json; charset=utf-8 602.0603ms
2025-02-22 20:07:11.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=3 - null null
2025-02-22 20:07:11.589 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:11 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:07:11.733 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:11 PM'.
2025-02-22 20:07:11.754 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:11.795 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:07:11.864 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-22 20:07:11.898 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 20:07:11.948 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:07:11.965 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 126.1972ms
2025-02-22 20:07:11.976 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:11.993 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 405.2016 ms
2025-02-22 20:07:12.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=3 - 200 null application/json; charset=utf-8 433.582ms
2025-02-22 20:07:19.490 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=1 - null null
2025-02-22 20:07:19.527 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:19 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:07:19.636 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:19 PM'.
2025-02-22 20:07:19.652 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:19.689 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:07:19.730 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-22 20:07:19.759 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 20:07:19.810 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:07:19.860 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 133.1198ms
2025-02-22 20:07:19.883 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:19.905 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 379.2903 ms
2025-02-22 20:07:19.942 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=1 - 200 null application/json; charset=utf-8 452.0138ms
2025-02-22 20:07:29.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - null null
2025-02-22 20:07:29.928 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:29 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:07:30.011 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:29 PM'.
2025-02-22 20:07:30.079 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:30.096 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:07:30.141 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-22 20:07:30.161 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [s].[StudentFirstNameAr], [s].[StudentFirstNameEn]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 20:07:30.205 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:07:30.228 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 99.7367ms
2025-02-22 20:07:30.247 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:30.286 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 358.9827 ms
2025-02-22 20:07:30.294 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - 200 null application/json; charset=utf-8 373.7288ms
2025-02-22 20:07:39.990 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=3 - null null
2025-02-22 20:07:39.999 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:39 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:07:40.008 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:07:39 PM'.
2025-02-22 20:07:40.031 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:40.054 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:07:40.147 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-22 20:07:40.194 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [s].[StudentFirstNameAr] DESC, [s].[StudentFirstNameEn] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 20:07:40.228 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:07:40.267 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 125.5646ms
2025-02-22 20:07:40.289 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-22 20:07:40.298 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 300.7201 ms
2025-02-22 20:07:40.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=3 - 200 null application/json; charset=utf-8 315.5646ms
2025-02-22 20:08:02.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:08:02.269 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:08:02.275 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:08:02.352 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 84.8527 ms
2025-02-22 20:08:02.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 401 0 null 122.0394ms
2025-02-22 20:08:12.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:08:12.469 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:08:12.472 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:08:12.476 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 6.7863 ms
2025-02-22 20:08:12.480 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 401 0 null 19.1532ms
2025-02-22 20:08:38.129 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:08:38.136 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:08:38.138 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:08:38.142 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 6.0880 ms
2025-02-22 20:08:38.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 401 0 null 19.8969ms
2025-02-22 20:10:31.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:10:31.801 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:10:31.804 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:10:31.830 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 29.2654 ms
2025-02-22 20:10:31.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 401 0 null 83.0882ms
2025-02-22 20:13:15.987 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:13:15.998 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:13:16.004 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:13:16.018 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 20.3787 ms
2025-02-22 20:13:16.073 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 401 0 null 86.2113ms
2025-02-22 20:13:24.928 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 20:13:24.934 +02:00 [INF] CORS policy execution successful.
2025-02-22 20:13:24.938 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:13:24 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 20:13:25.076 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2/22/2025 6:04:32 PM', Current time (UTC): '2/22/2025 6:13:24 PM'.
2025-02-22 20:13:25.091 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:13:25.094 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 20:13:25.163 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 20:13:25.366 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 20:13:25.387 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 20:13:25.431 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 20:13:25.614 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 20:13:25.688 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 20:13:25.716 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 20:13:25.738 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 599.0651ms
2025-02-22 20:13:25.762 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 20:13:25.788 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 853.5301 ms
2025-02-22 20:13:25.799 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 871.3705ms
2025-02-22 20:13:37.239 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:13:37.246 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:13:37.249 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:13:37.262 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 16.0737 ms
2025-02-22 20:13:37.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 401 0 null 27.866ms
2025-02-22 20:13:44.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:13:44.927 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:13:44.930 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:13:45.007 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 20:13:45.110 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:13:45.116 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 135.4018ms
2025-02-22 20:13:45.129 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:13:45.158 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 231.6837 ms
2025-02-22 20:13:45.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 253.671ms
2025-02-22 20:13:51.959 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:13:51.968 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 20:13:51.971 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 20:13:51.975 +02:00 [INF] HTTP GET /api/Students/all responded 401 in 7.3256 ms
2025-02-22 20:13:51.985 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 401 0 null 25.9886ms
2025-02-22 20:14:22.811 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 20:14:22.875 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 20:14:22.878 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 20:14:23.283 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 20:14:23.341 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 20:14:23.348 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 20:14:23.440 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 20:14:23.511 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 20:14:23.566 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 20:14:23.570 +02:00 [INF] Hosting environment: Development
2025-02-22 20:14:23.572 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 20:14:23.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 20:14:23.756 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 172.5165ms
2025-02-22 20:14:23.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 20:14:23.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.2509ms
2025-02-22 20:14:23.826 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 20:14:23.871 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.1313ms
2025-02-22 20:14:24.093 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 20:14:24.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.2377ms
2025-02-22 20:14:42.651 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:14:42.664 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 20:14:43.846 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:14:43.866 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:14:44.287 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 20:14:44.502 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:14:44.523 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 630.9187ms
2025-02-22 20:14:44.528 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:14:44.563 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 1883.1979 ms
2025-02-22 20:14:44.586 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 1934.7541ms
2025-02-22 20:14:50.015 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:14:50.036 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:14:50.042 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:14:50.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 20:14:50.283 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:14:50.289 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 167.4917ms
2025-02-22 20:14:50.311 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:14:50.355 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 321.1474 ms
2025-02-22 20:14:50.367 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 200 null application/json; charset=utf-8 352.3587ms
2025-02-22 20:15:09.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 20:15:09.426 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:15:09.431 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:15:09.490 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 20:15:09.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:15:09.624 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 162.6267ms
2025-02-22 20:15:09.628 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:15:09.632 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 213.7246 ms
2025-02-22 20:15:09.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 232.4318ms
2025-02-22 20:15:32.332 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/S - null null
2025-02-22 20:15:32.337 +02:00 [INF] HTTP GET /api/S responded 404 in 0.1902 ms
2025-02-22 20:15:32.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/S - 404 0 null 9.5752ms
2025-02-22 20:15:32.350 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5253/api/S, Response status code: 404
2025-02-22 20:16:45.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-22 20:16:45.600 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:16:45.622 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:16:45.713 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 20:16:45.873 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:16:45.913 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 230.6597ms
2025-02-22 20:16:45.930 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:16:45.946 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 347.0185 ms
2025-02-22 20:16:45.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 200 null application/json; charset=utf-8 391.7129ms
2025-02-22 20:16:57.984 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=ar-EG - null null
2025-02-22 20:16:57.992 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:16:58.005 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:16:58.130 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 20:16:58.210 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:16:58.226 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 125.3447ms
2025-02-22 20:16:58.267 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 20:16:58.293 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 301.2718 ms
2025-02-22 20:16:58.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=ar-EG - 200 null application/json; charset=utf-8 338.5575ms
2025-02-22 20:17:19.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/34fa3d05-aa66-4526-9c62-1440c594ae1c/exam-results - null null
2025-02-22 20:17:19.019 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentExamResults (SchoolManagementSystem.Api)'
2025-02-22 20:17:19.091 +02:00 [INF] Route matched with {action = "GetStudentExamResults", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentExamResults(System.String) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 20:17:19.190 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 20:17:19.257 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamResultID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamResults] AS [e]
WHERE [e].[StudentID] = @__studentId_0
2025-02-22 20:17:19.332 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamResultDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:17:19.361 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentExamResults (SchoolManagementSystem.Api) in 233.017ms
2025-02-22 20:17:19.393 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentExamResults (SchoolManagementSystem.Api)'
2025-02-22 20:17:19.419 +02:00 [INF] HTTP GET /api/Students/34fa3d05-aa66-4526-9c62-1440c594ae1c/exam-results responded 200 in 400.3832 ms
2025-02-22 20:17:19.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/34fa3d05-aa66-4526-9c62-1440c594ae1c/exam-results - 200 null application/json; charset=utf-8 453.5456ms
2025-02-22 20:17:35.474 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Teachers/7eb5ef56-8293-43b0-bff2-b815ccb38be0/classrooms - null null
2025-02-22 20:17:35.483 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetClassroomsByTeacher (SchoolManagementSystem.Api)'
2025-02-22 20:17:35.523 +02:00 [INF] Route matched with {action = "GetClassroomsByTeacher", controller = "Teachers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassroomsByTeacher(System.String) on controller SchoolManagementSystem.Api.Controllers.TeachersController (SchoolManagementSystem.Api).
2025-02-22 20:17:35.653 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 20:17:35.681 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__teacherId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[TeacherID] = @__teacherId_0
2025-02-22 20:17:35.696 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ClassroomDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:17:35.705 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.TeachersController.GetClassroomsByTeacher (SchoolManagementSystem.Api) in 114.7013ms
2025-02-22 20:17:35.711 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetClassroomsByTeacher (SchoolManagementSystem.Api)'
2025-02-22 20:17:35.733 +02:00 [INF] HTTP GET /api/Teachers/7eb5ef56-8293-43b0-bff2-b815ccb38be0/classrooms responded 200 in 249.9774 ms
2025-02-22 20:17:35.754 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Teachers/7eb5ef56-8293-43b0-bff2-b815ccb38be0/classrooms - 200 null application/json; charset=utf-8 280.0891ms
2025-02-22 20:17:43.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Teachers/7eb5ef56-8293-43b0-bff2-b815ccb38be0/courses - null null
2025-02-22 20:17:43.425 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetCoursesByTeacher (SchoolManagementSystem.Api)'
2025-02-22 20:17:43.483 +02:00 [INF] Route matched with {action = "GetCoursesByTeacher", controller = "Teachers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesByTeacher(System.String) on controller SchoolManagementSystem.Api.Controllers.TeachersController (SchoolManagementSystem.Api).
2025-02-22 20:17:43.560 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 20:17:43.660 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__teacherId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [TeacherCourses] AS [t]
INNER JOIN [Courses] AS [c] ON [t].[CourseID] = [c].[CourseID]
WHERE [t].[TeacherID] = @__teacherId_0
2025-02-22 20:17:43.705 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.CourseDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 20:17:43.735 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.TeachersController.GetCoursesByTeacher (SchoolManagementSystem.Api) in 190.5412ms
2025-02-22 20:17:43.740 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetCoursesByTeacher (SchoolManagementSystem.Api)'
2025-02-22 20:17:43.753 +02:00 [INF] HTTP GET /api/Teachers/7eb5ef56-8293-43b0-bff2-b815ccb38be0/courses responded 200 in 328.8933 ms
2025-02-22 20:17:43.762 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Teachers/7eb5ef56-8293-43b0-bff2-b815ccb38be0/courses - 200 null application/json; charset=utf-8 348.9866ms
