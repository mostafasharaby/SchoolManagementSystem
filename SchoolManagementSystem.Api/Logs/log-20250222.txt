2025-02-22 00:01:28.926 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 450
2025-02-22 00:01:28.992 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:01:29.010 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:01:29.097 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:01:29.116 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:01:31.768 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:01:32.681 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:01:44.916 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 15771.7433ms
2025-02-22 00:01:45.025 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:01:45.184 +02:00 [ERR] HTTP POST /api/Account/register/student responded 500 in 16173.4325 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 30
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 157
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent(RegisterStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 00:01:45.385 +02:00 [ERR] Unhandled exception occurred.
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 30
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 157
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent(RegisterStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 00:01:45.715 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 500 null application/json 16788.4657ms
2025-02-22 00:03:22.495 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:03:31.382 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:03:31.390 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:03:31.971 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:03:32.057 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:03:32.064 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:03:32.222 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:03:32.409 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:03:32.477 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:03:32.487 +02:00 [INF] Hosting environment: Development
2025-02-22 00:03:32.490 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:03:33.064 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:03:33.360 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 306.3597ms
2025-02-22 00:03:33.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:03:33.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:03:33.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 19.8993ms
2025-02-22 00:03:33.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.9423ms
2025-02-22 00:03:33.511 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:03:33.606 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.5583ms
2025-02-22 00:03:55.354 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 450
2025-02-22 00:03:55.372 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:03:55.396 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:03:55.501 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:03:55.527 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:03:59.312 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:04:00.002 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:07:10.710 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:07:10.758 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:07:10.763 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:07:11.341 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:07:11.419 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:07:11.428 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:07:11.577 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:07:11.741 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:07:11.816 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:07:11.825 +02:00 [INF] Hosting environment: Development
2025-02-22 00:07:11.827 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:07:12.392 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:07:12.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 399.6511ms
2025-02-22 00:07:12.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:07:12.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:07:12.838 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 18.8899ms
2025-02-22 00:07:12.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.0009ms
2025-02-22 00:07:12.960 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:07:13.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.8372ms
2025-02-22 00:07:24.631 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 450
2025-02-22 00:07:24.659 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:07:24.678 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:07:24.823 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:07:24.848 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:07:27.357 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:07:27.736 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:07:45.729 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:07:46.908 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:07:50.203 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:07:50.462 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 00:07:54.538 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:07:54.562 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:07:54.585 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:07:54.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:07:54.683 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 00:07:59.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:07:59.559 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 34654.7976ms
2025-02-22 00:07:59.564 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:07:59.595 +02:00 [INF] HTTP POST /api/Account/register/student responded 200 in 34919.3776 ms
2025-02-22 00:07:59.605 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 200 null application/json; charset=utf-8 34974.0953ms
2025-02-22 00:09:13.917 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 402
2025-02-22 00:09:13.936 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:09:13.941 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:09:13.987 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:09:17.039 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 00:09:25.430 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:09:26.637 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:09:27.819 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:09:28.096 +02:00 [ERR] Failed executing DbCommand (193ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 00:09:28.497 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 00:09:29.487 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 15460.9155ms
2025-02-22 00:09:29.658 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:09:29.875 +02:00 [ERR] HTTP POST /api/Account/register/teacher responded 500 in 15939.2334 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 38
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterTeacherCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 171
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher(RegisterTeacherCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-22 00:09:30.370 +02:00 [ERR] Unhandled exception occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Teachers_TeacherTypes_TeacherTypeID". The conflict occurred in database "School_Management_System", table "dbo.TeacherTypes", column 'TeacherTypeID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c9bad7b-17eb-4bed-aff7-ba5625f51c6b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Helpers.UserRegistrationHelper.RegisterUserAsync(AppUser user, String password, String role) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Helpers\IUserRegistrationHelper.cs:line 38
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterTeacherCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 171
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher(RegisterTeacherCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-22 00:09:30.718 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 500 null application/json 16801.0235ms
2025-02-22 00:11:24.650 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:11:59.175 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:11:59.181 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:11:59.736 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:11:59.809 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:11:59.817 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:12:00.021 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:12:00.217 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:12:00.300 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:12:00.342 +02:00 [INF] Hosting environment: Development
2025-02-22 00:12:00.355 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:12:00.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:12:00.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 292.5794ms
2025-02-22 00:12:00.914 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:12:00.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.5166ms
2025-02-22 00:12:00.961 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:12:01.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.494ms
2025-02-22 00:12:01.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:12:01.136 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.2685ms
2025-02-22 00:12:27.785 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 402
2025-02-22 00:12:27.817 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:12:27.830 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:12:27.926 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:12:27.961 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:12:30.203 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 00:12:35.681 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:12:36.793 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:12:39.932 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:12:40.139 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 00:12:43.641 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:12:43.682 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:12:43.698 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:12:43.746 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:12:43.799 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 00:12:49.157 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:12:49.180 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 21207.7066ms
2025-02-22 00:12:49.184 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 00:12:49.204 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 21371.1652 ms
2025-02-22 00:12:49.213 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 21427.86ms
2025-02-22 00:15:10.125 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/admin - application/json 119
2025-02-22 00:15:10.139 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:15:10.149 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-22 00:15:10.199 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:15:10.330 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:21:13.395 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:13.466 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:13.470 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:14.172 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:14.245 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:14.251 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:14.455 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:21:14.680 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:21:14.752 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:21:14.764 +02:00 [INF] Hosting environment: Development
2025-02-22 00:21:14.767 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:21:15.230 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:21:15.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 434.0114ms
2025-02-22 00:21:15.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:21:15.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:21:15.712 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.9066ms
2025-02-22 00:21:15.760 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.0904ms
2025-02-22 00:21:15.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:21:16.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.7851ms
2025-02-22 00:21:36.710 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:36.759 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:36.764 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:37.078 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:37.136 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:37.142 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:37.231 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:21:37.301 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:21:37.345 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:21:37.349 +02:00 [INF] Hosting environment: Development
2025-02-22 00:21:37.352 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:21:37.539 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:21:37.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 184.4488ms
2025-02-22 00:21:37.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:21:37.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.5025ms
2025-02-22 00:21:37.786 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:21:37.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.3174ms
2025-02-22 00:21:37.876 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:21:37.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.5935ms
2025-02-22 00:21:50.450 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:50.487 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:50.491 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:21:51.038 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:51.111 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:51.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:21:51.273 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:21:51.477 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:21:51.589 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:21:51.594 +02:00 [INF] Hosting environment: Development
2025-02-22 00:21:51.597 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:21:51.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:21:52.251 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 461.327ms
2025-02-22 00:21:52.297 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:21:52.297 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:21:52.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 22.5069ms
2025-02-22 00:21:52.352 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.2367ms
2025-02-22 00:21:52.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:21:52.509 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.3291ms
2025-02-22 00:26:01.670 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:26:01.710 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:26:01.713 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:26:02.082 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:26:02.136 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:26:02.140 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:26:02.226 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:26:02.285 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:26:02.328 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:26:02.331 +02:00 [INF] Hosting environment: Development
2025-02-22 00:26:02.333 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:26:02.723 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:26:02.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 249.9426ms
2025-02-22 00:26:02.984 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:26:02.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.5873ms
2025-02-22 00:26:03.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:26:03.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.155ms
2025-02-22 00:26:03.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:26:03.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.2353ms
2025-02-22 00:28:08.042 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:28:08.081 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:28:08.087 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:28:08.718 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:28:08.803 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:28:08.808 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:28:08.948 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:28:09.122 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:28:09.181 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:28:09.194 +02:00 [INF] Hosting environment: Development
2025-02-22 00:28:09.197 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:28:09.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:28:10.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 395.2831ms
2025-02-22 00:28:10.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:28:10.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:28:10.107 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.3904ms
2025-02-22 00:28:10.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0931ms
2025-02-22 00:28:10.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:28:10.333 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.0481ms
2025-02-22 00:28:34.719 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/admin - application/json 119
2025-02-22 00:28:34.743 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:28:34.767 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:28:34.860 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-22 00:28:34.883 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterAdminCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:28:45.808 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:28:47.102 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:28:48.251 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:28:48.474 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-22 00:28:54.887 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:28:54.930 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:28:54.944 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:28:54.969 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:28:55.318 +02:00 [INF] Executed DbCommand (314ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-02-22 00:29:01.944 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:29:01.965 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 27069.1118ms
2025-02-22 00:29:01.973 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-22 00:29:01.977 +02:00 [INF] HTTP POST /api/Account/register/admin responded 200 in 27210.4165 ms
2025-02-22 00:29:01.985 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/admin - 200 null application/json; charset=utf-8 27266.7402ms
2025-02-22 00:30:31.963 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/51481a63-6b80-4761-bc69-ccda991c4556 - null null
2025-02-22 00:30:31.994 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 00:30:32.007 +02:00 [INF] Route matched with {action = "GetUserRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRoles(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 00:30:32.059 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 00:30:32.109 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 00:30:32.172 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__roles_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [AspNetRoles] AS [a]
WHERE [a].[Name] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__roles_0) WITH ([value] nvarchar(256) '$') AS [r]
)
2025-02-22 00:30:32.182 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.UserRoles, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 00:30:32.187 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api) in 176.3974ms
2025-02-22 00:30:32.191 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 00:30:32.193 +02:00 [INF] HTTP GET /api/Roles/GetUserRoles/51481a63-6b80-4761-bc69-ccda991c4556 responded 200 in 209.1422 ms
2025-02-22 00:30:32.201 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/51481a63-6b80-4761-bc69-ccda991c4556 - 200 null application/json; charset=utf-8 238.1006ms
2025-02-22 00:30:53.224 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/count/admin - null null
2025-02-22 00:30:53.236 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 00:30:53.247 +02:00 [INF] Route matched with {action = "GetUserCountByRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCountByRole(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 00:30:53.287 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUserRoles] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Id] = [a].[RoleId] AND [a0].[Name] = @__roleName_0)
2025-02-22 00:30:53.300 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:30:53.310 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api) in 56.9784ms
2025-02-22 00:30:53.313 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 00:30:53.316 +02:00 [INF] HTTP GET /api/Roles/count/admin responded 200 in 83.5837 ms
2025-02-22 00:30:53.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/count/admin - 200 null application/json; charset=utf-8 95.7992ms
2025-02-22 00:31:17.744 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:31:17.787 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:31:17.790 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:31:18.126 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:31:18.182 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:31:18.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:31:18.264 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:31:18.317 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:31:18.356 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:31:18.359 +02:00 [INF] Hosting environment: Development
2025-02-22 00:31:18.361 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:31:18.871 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:31:19.029 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 159.3857ms
2025-02-22 00:31:19.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:31:19.058 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.4159ms
2025-02-22 00:31:19.069 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:31:19.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.8245ms
2025-02-22 00:31:19.191 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:31:19.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.7728ms
2025-02-22 00:32:31.650 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 468
2025-02-22 00:32:31.674 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 00:32:31.685 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:32:31.715 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:31.734 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:32:31.984 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:32:32.000 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:32:32.020 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 276.0109ms
2025-02-22 00:32:32.024 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:32.031 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 344.1610 ms
2025-02-22 00:32:32.041 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 390.5462ms
2025-02-22 00:32:41.919 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 468
2025-02-22 00:32:41.930 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:32:41.934 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:41.936 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:32:41.967 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:32:42.017 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:32:42.070 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:32:42.104 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:32:42.225 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:32:42.508 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 00:32:42.545 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:32:42.560 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 00:32:42.569 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 00:32:42.583 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:32:42.620 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 00:32:42.648 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:32:42.654 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 710.8741ms
2025-02-22 00:32:42.659 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:42.661 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 731.5597 ms
2025-02-22 00:32:42.663 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 744.602ms
2025-02-22 00:32:54.905 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 460
2025-02-22 00:32:54.912 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:32:54.917 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:54.921 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:32:54.958 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:32:54.966 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:32:54.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:32:54.985 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:32:54.987 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 57.8153ms
2025-02-22 00:32:54.990 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:32:54.995 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 83.0154 ms
2025-02-22 00:32:54.997 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 91.9409ms
2025-02-22 00:33:04.144 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 453
2025-02-22 00:33:04.150 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:33:04.151 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:33:04.153 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:33:04.161 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:33:04.168 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:33:04.176 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:33:04.186 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:33:04.188 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 29.4724ms
2025-02-22 00:33:04.192 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:33:04.194 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 44.6452 ms
2025-02-22 00:33:04.197 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 52.3421ms
2025-02-22 00:34:30.835 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 458
2025-02-22 00:34:30.842 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:34:30.844 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:30.845 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:34:30.857 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:34:30.865 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:34:30.869 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 17.4769ms
2025-02-22 00:34:30.872 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:30.876 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 33.9871 ms
2025-02-22 00:34:30.878 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 43.0924ms
2025-02-22 00:34:36.368 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 458
2025-02-22 00:34:36.376 +02:00 [INF] CORS policy execution successful.
2025-02-22 00:34:36.378 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:36.380 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 00:34:36.394 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 00:34:36.404 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 00:34:36.420 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 00:34:36.439 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 00:34:36.452 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 00:34:36.455 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 65.2464ms
2025-02-22 00:34:36.459 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 00:34:36.462 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 86.6817 ms
2025-02-22 00:34:36.466 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 97.62ms
2025-02-22 00:52:05.169 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:05.215 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:05.218 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:05.619 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:05.703 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:05.709 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:05.862 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:52:05.929 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:52:05.979 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:52:05.984 +02:00 [INF] Hosting environment: Development
2025-02-22 00:52:05.987 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:52:06.029 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:52:06.182 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 152.9374ms
2025-02-22 00:52:06.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:52:06.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:52:06.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.2639ms
2025-02-22 00:52:06.236 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.847ms
2025-02-22 00:52:06.304 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:52:06.385 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.6343ms
2025-02-22 00:52:16.192 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:16.226 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:16.231 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:16.604 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:16.687 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:16.696 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:16.799 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:52:16.865 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:52:16.921 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:52:16.924 +02:00 [INF] Hosting environment: Development
2025-02-22 00:52:16.926 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:52:17.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:52:17.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 158.5732ms
2025-02-22 00:52:17.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:52:17.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:52:17.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 17.8893ms
2025-02-22 00:52:17.243 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.4857ms
2025-02-22 00:52:17.303 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:52:17.366 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.9142ms
2025-02-22 00:52:44.315 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:44.360 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:44.363 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:52:44.733 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:44.793 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:44.800 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:52:44.940 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:52:45.025 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:52:45.085 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:52:45.109 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:52:45.112 +02:00 [INF] Hosting environment: Development
2025-02-22 00:52:45.115 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:52:45.248 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 163.0449ms
2025-02-22 00:52:45.263 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:52:45.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:52:45.301 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.4429ms
2025-02-22 00:52:45.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.7685ms
2025-02-22 00:52:45.357 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:52:45.422 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6086ms
2025-02-22 00:55:51.224 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:51.266 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:51.270 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:51.833 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:51.933 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:51.942 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:52.069 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:55:52.182 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:55:52.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:55:52.250 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:55:52.252 +02:00 [INF] Hosting environment: Development
2025-02-22 00:55:52.254 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:55:52.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 190.6779ms
2025-02-22 00:55:52.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:55:52.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:55:52.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.1181ms
2025-02-22 00:55:52.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.847ms
2025-02-22 00:55:52.605 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:55:52.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.4195ms
2025-02-22 00:55:58.548 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:58.583 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:58.587 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:55:59.008 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:59.070 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:59.076 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:55:59.183 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:55:59.256 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:55:59.310 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:55:59.314 +02:00 [INF] Hosting environment: Development
2025-02-22 00:55:59.316 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:55:59.335 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:55:59.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 148.0323ms
2025-02-22 00:55:59.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:55:59.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:55:59.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.4685ms
2025-02-22 00:55:59.536 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.466ms
2025-02-22 00:55:59.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:55:59.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.2524ms
2025-02-22 00:56:10.966 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:11.008 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:11.011 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:11.473 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:11.574 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:11.581 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:11.708 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:11.783 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:11.867 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:11.870 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:11.872 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:11.910 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:12.106 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 198.8396ms
2025-02-22 00:56:12.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:12.121 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:12.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.6397ms
2025-02-22 00:56:12.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.0263ms
2025-02-22 00:56:12.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:12.334 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.3863ms
2025-02-22 00:56:21.019 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:21.065 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:21.069 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:21.468 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:21.528 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:21.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:21.616 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:21.679 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:21.727 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:21.730 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:21.733 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:21.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:22.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 175.2261ms
2025-02-22 00:56:22.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:22.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:22.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.9283ms
2025-02-22 00:56:22.095 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.6665ms
2025-02-22 00:56:22.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:22.224 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.0157ms
2025-02-22 00:56:28.289 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:28.327 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:28.330 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:28.740 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:28.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:28.837 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:28.942 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:29.001 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:29.047 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:29.052 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:29.054 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:29.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:29.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 161.2079ms
2025-02-22 00:56:29.254 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:29.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:29.263 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.042ms
2025-02-22 00:56:29.294 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0685ms
2025-02-22 00:56:29.349 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:29.407 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.2532ms
2025-02-22 00:56:33.027 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:33.069 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:33.074 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:33.460 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:33.533 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:33.541 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:33.657 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:33.738 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:33.818 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:33.822 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:33.824 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:33.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:34.068 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 194.6539ms
2025-02-22 00:56:34.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:34.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:34.089 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.6142ms
2025-02-22 00:56:34.117 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.2945ms
2025-02-22 00:56:34.185 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:34.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.8248ms
2025-02-22 00:56:44.186 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:44.247 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:44.252 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:56:44.704 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:44.775 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:44.783 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:56:44.906 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:56:44.993 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:56:45.054 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:56:45.057 +02:00 [INF] Hosting environment: Development
2025-02-22 00:56:45.059 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:56:45.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:56:45.229 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 171.6211ms
2025-02-22 00:56:45.239 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:56:45.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:56:45.254 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.7341ms
2025-02-22 00:56:45.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.691ms
2025-02-22 00:56:45.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:56:45.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.8794ms
2025-02-22 00:57:08.960 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:57:09.009 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:57:09.013 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 00:57:09.407 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:57:09.481 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:57:09.486 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 00:57:09.603 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 00:57:09.667 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 00:57:09.719 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 00:57:09.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 00:57:09.722 +02:00 [INF] Hosting environment: Development
2025-02-22 00:57:09.727 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 00:57:09.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 158.2505ms
2025-02-22 00:57:09.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 00:57:09.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5239ms
2025-02-22 00:57:09.931 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 00:57:09.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.6694ms
2025-02-22 00:57:10.070 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 00:57:10.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.6676ms
2025-02-22 01:02:38.480 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:02:38.524 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:02:38.528 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:02:38.946 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:02:39.029 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:02:39.034 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:02:39.148 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:02:39.263 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:02:39.343 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:02:39.345 +02:00 [INF] Hosting environment: Development
2025-02-22 01:02:39.347 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:02:39.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:02:39.628 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 185.0947ms
2025-02-22 01:02:39.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:02:39.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:02:39.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.7649ms
2025-02-22 01:02:39.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.3698ms
2025-02-22 01:02:39.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:02:40.006 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.264ms
2025-02-22 01:02:58.350 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 453
2025-02-22 01:02:58.362 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:02:58.373 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:02:58.403 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:02:58.423 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:02:58.506 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:02:58.524 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 89.765ms
2025-02-22 01:02:58.529 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:02:58.533 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 159.9269 ms
2025-02-22 01:02:58.537 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 187.0957ms
2025-02-22 01:03:03.908 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 451
2025-02-22 01:03:03.921 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:03:03.924 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:03:03.929 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:03:03.941 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:03:03.944 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 7.9008ms
2025-02-22 01:03:03.947 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:03:03.949 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 28.5076 ms
2025-02-22 01:03:03.952 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 44.4233ms
2025-02-22 01:03:36.150 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 397
2025-02-22 01:03:36.156 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:03:36.161 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:03:36.169 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:03:36.210 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:03:36.215 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 34.3244ms
2025-02-22 01:03:36.218 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:03:36.219 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 400 in 63.7112 ms
2025-02-22 01:03:36.223 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 400 null application/json; charset=utf-8 72.9901ms
2025-02-22 01:04:18.953 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:04:19.007 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:04:19.011 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:04:19.432 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:04:19.496 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:04:19.501 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:04:19.596 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:04:19.666 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:04:19.724 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:04:19.728 +02:00 [INF] Hosting environment: Development
2025-02-22 01:04:19.730 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:04:19.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:04:19.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 160.5293ms
2025-02-22 01:04:20.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:04:20.163 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:04:20.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.6734ms
2025-02-22 01:04:20.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.8738ms
2025-02-22 01:04:20.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:04:20.315 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.4316ms
2025-02-22 01:04:25.068 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 397
2025-02-22 01:04:25.081 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:04:25.093 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:04:25.123 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:04:25.144 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:04:25.237 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:04:25.255 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 99.6871ms
2025-02-22 01:04:25.259 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 01:04:25.263 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 400 in 169.1095 ms
2025-02-22 01:04:25.265 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 400 null application/json; charset=utf-8 197.0997ms
2025-02-22 01:15:20.887 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - null null
2025-02-22 01:15:20.900 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:15:20.908 +02:00 [INF] Route matched with {action = "GetUserById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:15:21.125 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:15:21.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:15:21.176 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api) in 259.5617ms
2025-02-22 01:15:21.181 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:15:21.184 +02:00 [INF] HTTP GET /api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a responded 200 in 285.2571 ms
2025-02-22 01:15:21.192 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - 200 null application/json; charset=utf-8 304.896ms
2025-02-22 01:15:49.001 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 61
2025-02-22 01:15:49.008 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:15:49.012 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:15:49.021 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:15:49.074 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:15:49.285 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 01:15:49.306 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 01:15:49.383 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:15:49.487 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 01:15:49.506 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:15:49.520 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 488.5842ms
2025-02-22 01:15:49.522 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:15:49.526 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 518.2216 ms
2025-02-22 01:15:49.529 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 528.1556ms
2025-02-22 01:16:11.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - null null
2025-02-22 01:16:11.854 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:11.857 +02:00 [INF] Route matched with {action = "GetUserById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:16:11.872 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:16:11.883 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:16:11.886 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api) in 22.7151ms
2025-02-22 01:16:11.888 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:11.890 +02:00 [INF] HTTP GET /api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a responded 200 in 73.8923 ms
2025-02-22 01:16:11.893 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - 200 null application/json; charset=utf-8 82.3037ms
2025-02-22 01:16:14.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - null null
2025-02-22 01:16:14.958 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:14.960 +02:00 [INF] Route matched with {action = "GetUserById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserById(System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:16:14.982 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:16:14.994 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:16:14.996 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api) in 29.6352ms
2025-02-22 01:16:14.999 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUserById (SchoolManagementSystem.Api)'
2025-02-22 01:16:15.001 +02:00 [INF] HTTP GET /api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a responded 200 in 44.8429 ms
2025-02-22 01:16:15.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/6c6af930-f3d3-4eb5-b58e-9473eabb206a - 200 null application/json; charset=utf-8 53.4703ms
2025-02-22 01:19:28.784 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 464
2025-02-22 01:19:28.790 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:19:28.792 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:28.804 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:19:28.848 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 01:19:28.859 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:19:28.863 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 53.9513ms
2025-02-22 01:19:28.866 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:28.869 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 78.7991 ms
2025-02-22 01:19:28.872 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 87.6366ms
2025-02-22 01:19:37.019 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 464
2025-02-22 01:19:37.025 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:19:37.027 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:37.029 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:19:37.047 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 01:19:37.085 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 01:19:37.094 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:19:37.096 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 63.8116ms
2025-02-22 01:19:37.100 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:37.102 +02:00 [INF] HTTP POST /api/Account/register/student responded 400 in 77.4332 ms
2025-02-22 01:19:37.105 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 400 null application/json; charset=utf-8 85.6551ms
2025-02-22 01:19:41.844 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 462
2025-02-22 01:19:41.851 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:19:41.853 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:41.855 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:19:41.879 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 01:19:41.889 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 01:19:41.918 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:19:41.930 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:19:42.040 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:19:42.149 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 01:19:42.178 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 01:19:42.193 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 01:19:42.203 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 01:19:42.220 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 01:19:42.248 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 01:19:46.343 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 01:19:46.355 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 4496.3575ms
2025-02-22 01:19:46.359 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 01:19:46.361 +02:00 [INF] HTTP POST /api/Account/register/student responded 200 in 4510.4280 ms
2025-02-22 01:19:46.363 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 200 null application/json; charset=utf-8 4519.3303ms
2025-02-22 01:29:50.626 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:29:50.669 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:29:50.672 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:29:51.083 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:29:51.145 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:29:51.150 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:29:51.269 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:29:51.344 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:29:51.400 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:29:51.405 +02:00 [INF] Hosting environment: Development
2025-02-22 01:29:51.408 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:29:51.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:29:51.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 160.665ms
2025-02-22 01:29:51.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:29:51.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:29:51.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.051ms
2025-02-22 01:29:51.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.7033ms
2025-02-22 01:29:51.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:29:52.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.2412ms
2025-02-22 01:30:42.121 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:30:42.175 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:30:42.179 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:30:42.665 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:30:42.735 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:30:42.742 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:30:42.845 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:30:42.915 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:30:42.972 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:30:42.975 +02:00 [INF] Hosting environment: Development
2025-02-22 01:30:42.979 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:30:42.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:30:43.156 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 158.8632ms
2025-02-22 01:30:43.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:30:43.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.0412ms
2025-02-22 01:30:43.187 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:30:43.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4099ms
2025-02-22 01:30:43.304 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:30:43.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.0388ms
2025-02-22 01:51:42.700 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:51:42.742 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:51:42.747 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:51:43.321 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:51:43.395 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:51:43.401 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:51:43.553 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:51:43.729 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:51:43.827 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:51:43.830 +02:00 [INF] Hosting environment: Development
2025-02-22 01:51:43.832 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:51:44.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:51:44.438 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 420.6952ms
2025-02-22 01:51:44.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:51:44.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:51:44.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.7765ms
2025-02-22 01:51:44.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.3193ms
2025-02-22 01:51:44.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:51:44.721 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.5318ms
2025-02-22 01:52:56.038 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:52:56.081 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:52:56.085 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:52:56.658 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:52:56.731 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:52:56.738 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:52:56.887 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:52:57.066 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:52:57.164 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:52:57.167 +02:00 [INF] Hosting environment: Development
2025-02-22 01:52:57.170 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:52:57.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:52:57.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 320.322ms
2025-02-22 01:52:57.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:52:57.743 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.0616ms
2025-02-22 01:52:57.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:52:57.810 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.049ms
2025-02-22 01:52:57.864 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:52:57.961 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.7048ms
2025-02-22 01:53:11.452 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 01:53:11.471 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:53:11.483 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:53:11.619 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:53:11.651 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:53:11.968 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:53:12.284 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 01:53:12.315 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 01:53:12.717 +02:00 [ERR] Failed executing DbCommand (187ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 01:53:12.720 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:53:13.137 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1465.0647ms
2025-02-22 01:53:13.143 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:53:13.144 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8c1d0312-420b-42ec-912f-878b74fb6e99
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8c1d0312-420b-42ec-912f-878b74fb6e99
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 01:53:13.150 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1666.8078 ms
2025-02-22 01:53:13.646 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 2193.9877ms
2025-02-22 01:53:30.018 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 01:53:30.108 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:53:30.123 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:53:30.245 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 01:53:30.263 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:53:30.267 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:53:30.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 01:53:30.357 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:53:30.396 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 250.1705ms
2025-02-22 01:53:30.404 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:53:30.437 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 400.9578 ms
2025-02-22 01:53:30.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 423.6691ms
2025-02-22 01:54:53.372 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:54:53.450 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:54:53.454 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:54:54.100 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:54:54.183 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:54:54.189 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:54:54.332 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:54:54.543 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:54:54.636 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:54:54.640 +02:00 [INF] Hosting environment: Development
2025-02-22 01:54:54.644 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:54:54.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:54:55.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 308.7361ms
2025-02-22 01:54:55.155 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:54:55.155 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:54:55.165 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.0458ms
2025-02-22 01:54:55.241 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.0333ms
2025-02-22 01:54:55.291 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:54:55.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.0265ms
2025-02-22 01:55:03.749 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 01:55:03.766 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 01:55:03.779 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:55:03.903 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:55:03.927 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:55:04.251 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 01:55:04.600 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 01:55:04.625 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 01:55:05.022 +02:00 [ERR] Failed executing DbCommand (188ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 01:55:05.024 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:55:05.444 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1494.7749ms
2025-02-22 01:55:05.447 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 01:55:05.456 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1675.3224 ms
2025-02-22 01:55:05.459 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-22 01:55:05.472 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1722.9424ms
2025-02-22 01:55:31.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 01:55:31.905 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:55:31.919 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:55:32.044 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 01:55:32.061 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:55:32.065 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 01:55:32.091 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 01:55:32.146 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 01:55:32.165 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 218.3869ms
2025-02-22 01:55:32.177 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 01:55:32.194 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 354.5463 ms
2025-02-22 01:55:32.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 379.6325ms
2025-02-22 01:55:34.474 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 01:55:34.598 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:55:34 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 01:55:34.623 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:55:34 '.
2025-02-22 01:55:34.631 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 01:55:34.647 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 01:55:34.654 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 172.6411 ms
2025-02-22 01:55:34.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 201.7743ms
2025-02-22 01:56:09.682 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 01:56:09.690 +02:00 [INF] CORS policy execution successful.
2025-02-22 01:56:09.776 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:56:09 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 01:56:09.795 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21/2/2025 11:55:34 ', Current time (UTC): '21/2/2025 11:56:09 '.
2025-02-22 01:56:09.816 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 01:56:09.851 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 01:56:43.139 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 01:56:45.237 +02:00 [ERR] Failed executing DbCommand (176ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 01:56:45.343 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ec071c96-c8b7-4f9a-8462-45e7485a0fd7
Error Number:208,State:1,Class:16
2025-02-22 01:57:59.292 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.328 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.328 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.590 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.591 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:57:59.591 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.104 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.138 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.138 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:58:21.321 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-22 01:58:21.336 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-22 01:58:21.338 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-22 01:58:21.338 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-22 01:58:21.357 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-22 01:58:21.369 +02:00 [INF] Applying migration '20250221235802_AddClassRefreshTokenToDataBaseInsteadOfAppUser'.
2025-02-22 01:58:21.475 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(max) NOT NULL,
    [ExpiryTime] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [IsUsed] bit NOT NULL,
    [ReplacedByToken] nvarchar(max) NULL,
    [AppUserId] nvarchar(450) NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id])
);
2025-02-22 01:58:21.476 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_AppUserId] ON [RefreshTokens] ([AppUserId]);
2025-02-22 01:58:21.479 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250221235802_AddClassRefreshTokenToDataBaseInsteadOfAppUser', N'8.0.12');
2025-02-22 01:59:55.482 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:59:55.535 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:59:55.540 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 01:59:56.103 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:59:56.176 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:59:56.183 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 01:59:56.322 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 01:59:56.501 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 01:59:56.573 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 01:59:56.582 +02:00 [INF] Hosting environment: Development
2025-02-22 01:59:56.586 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 01:59:56.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 01:59:57.410 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 511.2093ms
2025-02-22 01:59:57.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 01:59:57.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 01:59:57.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.3984ms
2025-02-22 01:59:57.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.3432ms
2025-02-22 01:59:57.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 01:59:57.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.6629ms
2025-02-22 02:00:11.423 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:00:11.440 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:00:11.452 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:00:11.585 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:00:11.619 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:11.960 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:00:12.257 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:00:12.286 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:00:12.502 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:00:12.555 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:12.589 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 956.9995ms
2025-02-22 02:00:12.596 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:00:12.604 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1151.3656 ms
2025-02-22 02:00:12.619 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1196.1231ms
2025-02-22 02:00:27.836 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:27.915 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:27.928 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:28.048 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:28.070 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:00:28.091 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:00:28.130 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:28.191 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:28.218 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 265.7699ms
2025-02-22 02:00:28.241 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:28.271 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 420.1865 ms
2025-02-22 02:00:28.276 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 439.4332ms
2025-02-22 02:00:29.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:29.514 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:29.520 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:29.562 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:29.579 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:29.597 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:29.606 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 56.6649ms
2025-02-22 02:00:29.621 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:29.633 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 124.8739 ms
2025-02-22 02:00:29.647 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 148.8988ms
2025-02-22 02:00:30.519 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:30.527 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:30.533 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:30.588 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:30.604 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:30.633 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:30.652 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 79.139ms
2025-02-22 02:00:30.669 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:30.681 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 154.9380 ms
2025-02-22 02:00:30.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 167.8848ms
2025-02-22 02:00:31.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:31.543 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:31.551 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:31.591 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:31.619 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:31.636 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:31.650 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 63.8ms
2025-02-22 02:00:31.663 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:31.683 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 140.6047 ms
2025-02-22 02:00:31.689 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 152.9878ms
2025-02-22 02:00:32.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:32.558 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:32.565 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:32.605 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:32.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:32.663 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:32.673 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 72.7284ms
2025-02-22 02:00:32.693 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:32.704 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 147.3117 ms
2025-02-22 02:00:32.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 169.3596ms
2025-02-22 02:00:33.548 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:33.556 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:33.566 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:33.625 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:33.652 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:33.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:33.704 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 83.1191ms
2025-02-22 02:00:33.718 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:33.733 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 177.4653 ms
2025-02-22 02:00:33.738 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 189.4252ms
2025-02-22 02:00:34.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:34.583 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:34.591 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:34.640 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:34.691 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:34.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:34.740 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 105.9851ms
2025-02-22 02:00:34.770 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:34.786 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 203.4125 ms
2025-02-22 02:00:34.792 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 215.218ms
2025-02-22 02:00:35.740 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:35.747 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:35.754 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:35.813 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:35.847 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:35.906 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:35.921 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 113.88ms
2025-02-22 02:00:35.936 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:35.951 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 204.4446 ms
2025-02-22 02:00:35.968 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 227.5362ms
2025-02-22 02:00:36.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:36.828 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:36.837 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:36.878 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:36.914 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:36.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:36.968 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 95.5047ms
2025-02-22 02:00:36.976 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:37.002 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 174.7990 ms
2025-02-22 02:00:37.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 186.765ms
2025-02-22 02:00:37.918 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:37.924 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:37.927 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:37.960 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:37.997 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:38.035 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:38.071 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 114.5796ms
2025-02-22 02:00:38.087 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:38.108 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 184.9923 ms
2025-02-22 02:00:38.130 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 211.492ms
2025-02-22 02:00:39.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:39.063 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:39.066 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:39.113 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:39.156 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:39.182 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:39.205 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 98.1413ms
2025-02-22 02:00:39.223 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:39.240 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 177.0503 ms
2025-02-22 02:00:39.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 205.0433ms
2025-02-22 02:00:40.024 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:40.029 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:40.032 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:40.093 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:40.124 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:40.185 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:40.200 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 113.7933ms
2025-02-22 02:00:40.217 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:40.233 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 204.2424 ms
2025-02-22 02:00:40.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 213.3316ms
2025-02-22 02:00:41.039 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:41.046 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:41.054 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:00:41.092 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:00:41.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:00:41.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:00:41.203 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 116.5339ms
2025-02-22 02:00:41.221 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:00:41.240 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 194.3752 ms
2025-02-22 02:00:41.255 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 216.3616ms
2025-02-22 02:00:42.176 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:00:42.299 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:00:42 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:00:42.349 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:00:42 '.
2025-02-22 02:00:42.357 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:00:42.377 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:00:42.379 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 196.4630 ms
2025-02-22 02:00:42.393 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 217.3093ms
2025-02-22 02:01:12.133 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:01:12.139 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:01:12.217 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:01:12 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:01:12.265 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:01:12 '.
2025-02-22 02:01:12.280 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:01:12.314 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:01:25.560 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:01:27.725 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:01:46.640 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:03:02.566 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:03:49.563 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:03:54.086 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:04:15.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:04:15.729 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 183364.0954ms
2025-02-22 02:04:15.733 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:04:15.743 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 183603.8571 ms
2025-02-22 02:04:15.770 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 183637.2295ms
2025-02-22 02:04:48.110 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:48.227 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:48 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:48.254 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:48 '.
2025-02-22 02:04:48.258 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:48.275 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:48.298 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 178.6783 ms
2025-02-22 02:04:48.325 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 213.8799ms
2025-02-22 02:04:49.407 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:49.496 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:49 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:49.544 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:04:49 '.
2025-02-22 02:04:49.563 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:49.583 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:49.600 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 186.1226 ms
2025-02-22 02:04:49.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 210.3873ms
2025-02-22 02:04:55.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:55.110 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:55 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:55.161 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:55 '.
2025-02-22 02:04:55.179 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:55.212 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:55.217 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 182.0575 ms
2025-02-22 02:04:55.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 206.474ms
2025-02-22 02:04:57.496 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:04:57.586 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:57 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:04:57.659 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:04:57 '.
2025-02-22 02:04:57.700 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:04:57.717 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:04:57.723 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 219.1973 ms
2025-02-22 02:04:57.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 247.9001ms
2025-02-22 02:05:23.400 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:05:23.488 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:23 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:05:23.497 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:23 '.
2025-02-22 02:05:23.507 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:05:23.522 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:05:23.544 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 128.3404 ms
2025-02-22 02:05:23.549 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 149.1111ms
2025-02-22 02:05:24.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:05:24.781 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:24 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:05:24.821 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:04:24 ', Current time (UTC): '22/2/2025 12:05:24 '.
2025-02-22 02:05:24.836 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:05:24.848 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:05:24.863 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 156.9381 ms
2025-02-22 02:05:24.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 173.5819ms
2025-02-22 02:07:38.411 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:07:38.506 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:07:38 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:07:38.605 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:00:42 ', Current time (UTC): '22/2/2025 12:07:38 '.
2025-02-22 02:07:38.624 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:07:38.659 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:07:38.680 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 252.3143 ms
2025-02-22 02:07:38.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 285.73ms
2025-02-22 02:08:10.212 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:08:10.258 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:08:10.261 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:08:10.615 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:08:10.675 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:08:10.680 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:08:10.773 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:08:10.838 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:08:10.883 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:08:10.886 +02:00 [INF] Hosting environment: Development
2025-02-22 02:08:10.889 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:08:11.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:08:11.275 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 179.8102ms
2025-02-22 02:08:11.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:08:11.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:08:11.314 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 22.6178ms
2025-02-22 02:08:11.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9817ms
2025-02-22 02:08:11.430 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:08:11.514 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.1611ms
2025-02-22 02:08:23.680 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:23.693 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:08:23.730 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:08:23.741 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:08:23.748 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 44.6720 ms
2025-02-22 02:08:23.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 72.3251ms
2025-02-22 02:08:34.288 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:08:34.299 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:08:34.311 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:08:34.347 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:34.635 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:08:34.836 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:08:34.881 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:08:35.118 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:08:35.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:35.225 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 816.8432ms
2025-02-22 02:08:35.244 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:08:35.259 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 960.7557 ms
2025-02-22 02:08:35.271 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 983.9529ms
2025-02-22 02:08:53.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:53.547 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:53.561 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:53.676 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:53.692 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:08:53.711 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:08:53.739 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:53.792 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:53.818 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 227.4266ms
2025-02-22 02:08:53.846 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:53.869 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 364.2270 ms
2025-02-22 02:08:53.887 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 391.9712ms
2025-02-22 02:08:56.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:56.603 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:56.609 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:56.679 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:56.713 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:56.747 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:56.765 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 90.7926ms
2025-02-22 02:08:56.784 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:56.818 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 217.6109 ms
2025-02-22 02:08:56.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 230.6473ms
2025-02-22 02:08:57.787 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:57.792 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:57.795 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:57.840 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:57.872 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:57.921 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:57.951 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 120.3042ms
2025-02-22 02:08:57.967 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:57.983 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 190.8368 ms
2025-02-22 02:08:57.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 199.8692ms
2025-02-22 02:08:59.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:08:59.034 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:59.044 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:08:59.105 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:08:59.122 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:08:59.186 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:08:59.203 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 100.5422ms
2025-02-22 02:08:59.220 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:08:59.236 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 202.9570 ms
2025-02-22 02:08:59.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 228.7702ms
2025-02-22 02:09:00.672 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:00.678 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:00.682 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:00.707 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:00.749 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:00.785 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:00.817 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 111.9236ms
2025-02-22 02:09:00.834 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:00.854 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 176.1902 ms
2025-02-22 02:09:00.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 202.0161ms
2025-02-22 02:09:01.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:01.953 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:01.960 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:02.006 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:02.036 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:02.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:02.098 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 95.0148ms
2025-02-22 02:09:02.107 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:02.134 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 181.3594 ms
2025-02-22 02:09:02.140 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 193.9417ms
2025-02-22 02:09:03.794 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:03.801 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:03.808 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:03.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:03.916 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:03.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:03.969 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.3971ms
2025-02-22 02:09:03.985 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:04.005 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 204.5821 ms
2025-02-22 02:09:04.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 234.2581ms
2025-02-22 02:09:05.087 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:05.095 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:05 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:09:05.203 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:05 '.
2025-02-22 02:09:05.218 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:09:05.242 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:09:05.258 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 165.4342 ms
2025-02-22 02:09:05.278 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 190.924ms
2025-02-22 02:09:32.010 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:09:32.016 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:09:32.019 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:32 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:09:32.115 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:09:04 ', Current time (UTC): '22/2/2025 12:09:32 '.
2025-02-22 02:09:32.143 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:09:32.157 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:32.254 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:09:32.283 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:09:32.350 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:09:32.401 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:09:32.478 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:09:32.546 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:09:32.603 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:32.618 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 414.4063ms
2025-02-22 02:09:32.635 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:09:32.657 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 640.7582 ms
2025-02-22 02:09:32.672 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 661.4838ms
2025-02-22 02:09:47.214 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:47.220 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:47.226 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:47.268 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:47.300 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:47.331 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:47.349 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 84.9725ms
2025-02-22 02:09:47.371 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:47.393 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 173.4191 ms
2025-02-22 02:09:47.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 203.483ms
2025-02-22 02:09:50.255 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:09:50.262 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:50.266 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:09:50.299 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:09:50.353 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:09:50.391 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:09:50.417 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 120.2324ms
2025-02-22 02:09:50.436 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:09:50.450 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 188.0912 ms
2025-02-22 02:09:50.467 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 211.7754ms
2025-02-22 02:10:12.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:12.942 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:12.945 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:13.011 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:13.051 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:13.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:13.102 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 95.8227ms
2025-02-22 02:10:13.130 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:13.152 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 210.4585 ms
2025-02-22 02:10:13.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 238.5381ms
2025-02-22 02:10:14.174 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:14.180 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:14.216 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:14.254 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:14.283 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:14.317 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:14.348 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.4184ms
2025-02-22 02:10:14.365 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:14.387 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 207.3724 ms
2025-02-22 02:10:14.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 229.6174ms
2025-02-22 02:10:15.307 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:15.315 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:15.318 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:15.351 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:15.383 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:15.433 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:15.464 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 114.8314ms
2025-02-22 02:10:15.482 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:15.498 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 183.8921 ms
2025-02-22 02:10:15.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 197.8847ms
2025-02-22 02:10:55.926 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:55.934 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:55.941 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:55.985 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:56.031 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:56.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:56.113 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 134.0238ms
2025-02-22 02:10:56.130 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:56.145 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 212.1141 ms
2025-02-22 02:10:56.150 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 223.64ms
2025-02-22 02:10:57.439 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:57.445 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:57.448 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:57.482 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:57.527 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:57.565 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:57.581 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 101.5379ms
2025-02-22 02:10:57.598 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:57.615 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 170.3786 ms
2025-02-22 02:10:57.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 193.3319ms
2025-02-22 02:10:58.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:10:58.574 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:58.582 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:10:58.628 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:10:58.671 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:10:58.714 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:10:58.730 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 104.5997ms
2025-02-22 02:10:58.748 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:10:58.763 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 189.6161 ms
2025-02-22 02:10:58.770 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 202.0431ms
2025-02-22 02:14:22.069 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:14:22.115 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:14:22.119 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:14:22.655 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:14:22.730 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:14:22.735 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:14:22.849 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:14:22.921 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:14:22.973 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:14:22.976 +02:00 [INF] Hosting environment: Development
2025-02-22 02:14:22.979 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:14:22.995 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:14:23.163 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 168.2593ms
2025-02-22 02:14:23.180 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:14:23.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 23.1965ms
2025-02-22 02:14:23.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:14:23.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.0535ms
2025-02-22 02:14:23.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:14:23.517 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.4695ms
2025-02-22 02:15:06.468 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:06.514 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:06.519 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:07.019 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:07.126 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:07.143 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:07.288 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:15:07.368 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:15:07.432 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:15:07.435 +02:00 [INF] Hosting environment: Development
2025-02-22 02:15:07.438 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:15:07.544 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:15:07.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 166.5115ms
2025-02-22 02:15:07.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:15:07.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:15:07.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 21.5463ms
2025-02-22 02:15:07.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.7465ms
2025-02-22 02:15:07.888 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:15:07.962 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.609ms
2025-02-22 02:15:57.628 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:57.670 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:57.675 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:15:58.058 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:58.154 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:58.162 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:15:58.291 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:15:58.361 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:15:58.422 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:15:58.426 +02:00 [INF] Hosting environment: Development
2025-02-22 02:15:58.429 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:15:58.486 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:15:58.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 178.7685ms
2025-02-22 02:15:58.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:15:58.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:15:58.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 23.3856ms
2025-02-22 02:15:58.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.275ms
2025-02-22 02:15:58.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:15:58.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.2709ms
2025-02-22 02:16:29.313 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:16:29.362 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:16:29.366 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:16:29.839 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:16:29.908 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:16:29.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:16:30.041 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:16:30.124 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:16:30.185 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:16:30.189 +02:00 [INF] Hosting environment: Development
2025-02-22 02:16:30.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:16:30.192 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:16:30.383 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 198.0159ms
2025-02-22 02:16:30.398 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:16:30.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:16:30.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 18.4985ms
2025-02-22 02:16:30.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.6296ms
2025-02-22 02:16:30.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:16:30.590 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.7246ms
2025-02-22 02:21:45.661 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:21:45.699 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:21:45.703 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:21:46.240 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:21:46.330 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:21:46.338 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:21:46.468 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:21:46.556 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:21:46.673 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:21:46.677 +02:00 [INF] Hosting environment: Development
2025-02-22 02:21:46.679 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:21:46.879 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:21:47.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 197.4577ms
2025-02-22 02:21:47.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:21:47.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:21:47.094 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.3925ms
2025-02-22 02:21:47.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.673ms
2025-02-22 02:21:47.415 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:21:47.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.2437ms
2025-02-22 02:22:11.687 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:22:11.731 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:22:11.736 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:22:12.304 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:22:12.411 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:22:12.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:22:12.523 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:22:12.595 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:22:12.646 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:22:12.649 +02:00 [INF] Hosting environment: Development
2025-02-22 02:22:12.651 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:22:13.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:22:13.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 212.6105ms
2025-02-22 02:22:13.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:22:13.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.0505ms
2025-02-22 02:22:13.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:22:13.521 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.4759ms
2025-02-22 02:22:13.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:22:13.859 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.925ms
2025-02-22 02:22:36.708 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:22:36.720 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:22:36.732 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:22:36.776 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:22:36.816 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:37.133 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:22:37.377 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:22:37.403 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:22:37.454 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:22:37.575 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:22:37.674 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:22:37.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:37.783 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 923.2843ms
2025-02-22 02:22:37.792 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:22:37.807 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1074.7021 ms
2025-02-22 02:22:37.832 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1123.8606ms
2025-02-22 02:22:50.441 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:50.491 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:50.501 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:50.597 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:50.611 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:22:50.615 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:22:50.640 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:50.682 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:50.702 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 177.4957ms
2025-02-22 02:22:50.724 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:50.760 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 308.6929 ms
2025-02-22 02:22:50.768 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 327.2741ms
2025-02-22 02:22:53.526 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:53.538 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:53.564 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:53.597 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:53.625 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:53.656 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:53.685 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 98.7082ms
2025-02-22 02:22:53.699 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:53.714 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 182.6105 ms
2025-02-22 02:22:53.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 192.8518ms
2025-02-22 02:22:55.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:55.116 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:55.119 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:55.169 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:55.203 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:55.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:55.269 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 114.7397ms
2025-02-22 02:22:55.285 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:55.302 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 188.6794 ms
2025-02-22 02:22:55.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 197.8865ms
2025-02-22 02:22:56.335 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:56.344 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:56.350 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:56.390 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:56.422 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:56.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:56.505 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 117.3065ms
2025-02-22 02:22:56.536 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:56.553 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 210.0715 ms
2025-02-22 02:22:56.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 222.6222ms
2025-02-22 02:22:57.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:57.475 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:57.482 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:57.521 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:57.557 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:57.604 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:57.620 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 101.4715ms
2025-02-22 02:22:57.636 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:57.655 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 181.3414 ms
2025-02-22 02:22:57.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 210.863ms
2025-02-22 02:22:58.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:22:58.669 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:58.672 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:22:58.708 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:22:58.748 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:22:58.780 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:22:58.796 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 90.2937ms
2025-02-22 02:22:58.813 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:22:58.827 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 159.1101 ms
2025-02-22 02:22:58.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 180.776ms
2025-02-22 02:23:00.113 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:00.119 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:00.122 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:00.152 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:00.188 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:00.227 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:00.252 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 101.6925ms
2025-02-22 02:23:00.268 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:00.286 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 167.5890 ms
2025-02-22 02:23:00.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 179.565ms
2025-02-22 02:23:01.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:01.576 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:01.579 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:01.615 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:01.645 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:01.687 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:01.704 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 91.2837ms
2025-02-22 02:23:01.736 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:01.757 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 180.8459 ms
2025-02-22 02:23:01.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 204.5585ms
2025-02-22 02:23:05.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:06.003 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:06.006 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:06.049 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:06.090 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:06.137 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:06.156 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 108.9934ms
2025-02-22 02:23:06.187 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:06.204 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 200.7586 ms
2025-02-22 02:23:06.208 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 211.3664ms
2025-02-22 02:23:07.463 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:07.470 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:07 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:23:07.552 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:07 '.
2025-02-22 02:23:07.570 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:23:07.587 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:23:07.591 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 123.1969 ms
2025-02-22 02:23:07.601 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 138.0237ms
2025-02-22 02:23:44.160 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:23:44.167 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:23:44.175 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:44 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:23:44.304 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:23:07 ', Current time (UTC): '22/2/2025 12:23:44 '.
2025-02-22 02:23:44.319 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:23:44.343 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:44.433 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:23:44.470 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:23:44.523 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:23:44.573 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:23:44.662 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:23:44.765 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:23:44.826 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:23:44.871 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:23:44.896 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:44.910 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 523.8224ms
2025-02-22 02:23:44.928 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:23:44.940 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 773.7747 ms
2025-02-22 02:23:44.946 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 786.0632ms
2025-02-22 02:23:57.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:23:57.516 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:57.521 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:23:57.566 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:23:57.694 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:23:57.702 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:23:57.712 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 150.0348ms
2025-02-22 02:23:57.735 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:23:57.774 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 257.9914 ms
2025-02-22 02:23:57.779 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 269.3426ms
2025-02-22 02:24:00.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:00.510 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:00.514 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:00.540 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:00.597 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:00.647 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:00.670 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 133.0127ms
2025-02-22 02:24:00.705 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:00.740 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 229.8690 ms
2025-02-22 02:24:00.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 240.5224ms
2025-02-22 02:24:01.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:01.941 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:01.944 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:01.974 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:02.033 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:02.087 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:02.119 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 147.1673ms
2025-02-22 02:24:02.133 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:02.152 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 212.0502 ms
2025-02-22 02:24:02.175 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 240.4876ms
2025-02-22 02:24:03.584 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:03.593 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:03.624 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:03.694 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:03.721 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:03.786 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:03.803 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 110.2032ms
2025-02-22 02:24:03.829 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:03.845 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 251.8871 ms
2025-02-22 02:24:03.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 279.2863ms
2025-02-22 02:24:05.390 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:24:05.397 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:05.405 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:05.449 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:24:05.510 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:24:05.546 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:05.567 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 119.2446ms
2025-02-22 02:24:05.583 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:24:05.606 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 209.1553 ms
2025-02-22 02:24:05.624 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 234.5568ms
2025-02-22 02:24:40.304 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 821
2025-02-22 02:24:40.309 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:24:40.312 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:24:40.320 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:24:40.373 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:24:40.400 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 29.9259ms
2025-02-22 02:24:40.437 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:24:40.464 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 400 in 154.4557 ms
2025-02-22 02:24:40.468 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 400 null application/json; charset=utf-8 164.6327ms
2025-02-22 02:26:25.862 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:25.911 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:25.914 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:26.461 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:26.521 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:26.526 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:26.619 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:26:26.679 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:26:26.738 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:26:26.741 +02:00 [INF] Hosting environment: Development
2025-02-22 02:26:26.744 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:26:26.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:26:26.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 155.1604ms
2025-02-22 02:26:26.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:26:26.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:26:26.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 22.8762ms
2025-02-22 02:26:26.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.0697ms
2025-02-22 02:26:27.091 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:26:27.159 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.7123ms
2025-02-22 02:26:41.905 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:41.962 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:41.968 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:26:42.685 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:42.758 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:42.765 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:26:42.940 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:26:43.151 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:26:43.243 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:26:43.248 +02:00 [INF] Hosting environment: Development
2025-02-22 02:26:43.251 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:26:43.421 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:26:43.815 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 405.6536ms
2025-02-22 02:26:43.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:26:43.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.0354ms
2025-02-22 02:26:43.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:26:43.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.1833ms
2025-02-22 02:26:44.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:26:44.135 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.7364ms
2025-02-22 02:27:53.716 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:27:53.734 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:27:53.756 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:27:53.864 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:27:53.895 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:27:54.274 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:27:54.589 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:27:54.616 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:27:54.682 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:27:54.894 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:27:54.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:27:55.024 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1110.9662ms
2025-02-22 02:27:55.032 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:27:55.040 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1284.7195 ms
2025-02-22 02:27:55.058 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1342.6108ms
2025-02-22 02:28:10.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:10.212 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:10.220 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:10.349 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:10.368 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:28:10.389 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:28:10.402 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:10.424 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:10.443 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 193.248ms
2025-02-22 02:28:10.461 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:10.487 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 333.6909 ms
2025-02-22 02:28:10.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 370.0255ms
2025-02-22 02:28:11.314 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:11.330 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:11.335 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:11.377 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:11.402 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:11.423 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:11.439 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 71.5776ms
2025-02-22 02:28:11.453 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:11.468 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 147.0048 ms
2025-02-22 02:28:11.475 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 161.5819ms
2025-02-22 02:28:14.133 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:14.141 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:14.148 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:14.208 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:14.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:14.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:14.308 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 118.9769ms
2025-02-22 02:28:14.326 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:14.341 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 202.0153 ms
2025-02-22 02:28:14.347 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 213.6485ms
2025-02-22 02:28:15.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:15.346 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:15.352 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:15.401 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:15.451 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:15.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:15.510 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 115.7929ms
2025-02-22 02:28:15.539 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:15.558 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 212.5352 ms
2025-02-22 02:28:15.563 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 226.6203ms
2025-02-22 02:28:19.319 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:19.324 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:19.327 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:21.052 +02:00 [INF] Executed DbCommand (1,680ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:21.063 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:21.084 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:21.101 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 1730.9149ms
2025-02-22 02:28:21.134 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:21.158 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 1834.5461 ms
2025-02-22 02:28:21.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 1856.6531ms
2025-02-22 02:28:22.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:22.276 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:22.284 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:22.335 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:22.375 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:22.408 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:22.425 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.5167ms
2025-02-22 02:28:22.441 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:22.457 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 181.1047 ms
2025-02-22 02:28:22.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 193.9509ms
2025-02-22 02:28:23.442 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:23.447 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:23.455 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:28:23.493 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:28:23.537 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:28:23.577 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:28:23.594 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 104.9538ms
2025-02-22 02:28:23.622 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:28:23.639 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 191.5425 ms
2025-02-22 02:28:23.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 201.0199ms
2025-02-22 02:28:24.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:28:24.612 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:24 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:28:24.684 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:24 '.
2025-02-22 02:28:24.698 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:28:24.720 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:28:24.723 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 218.8947 ms
2025-02-22 02:28:24.736 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 237.5196ms
2025-02-22 02:28:54.123 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:28:54.129 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:28:54.216 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:54 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:28:54.249 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:28:24 ', Current time (UTC): '22/2/2025 12:28:54 '.
2025-02-22 02:28:54.266 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:28:54.292 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:29:09.632 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:29:12.957 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:36:41.094 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:36:41.147 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:36:41.152 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:36:41.633 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:36:41.709 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:36:41.716 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:36:41.883 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:36:42.084 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:36:42.152 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:36:42.162 +02:00 [INF] Hosting environment: Development
2025-02-22 02:36:42.167 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:36:42.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:36:42.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 393.8617ms
2025-02-22 02:36:42.988 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:36:42.988 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:36:43.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.5855ms
2025-02-22 02:36:43.040 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.3462ms
2025-02-22 02:36:43.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:36:43.290 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.4241ms
2025-02-22 02:36:58.871 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 65
2025-02-22 02:36:58.891 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:36:58.902 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:36:59.046 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:36:59.076 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:36:59.438 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:36:59.715 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 02:36:59.743 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 02:36:59.809 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:36:59.973 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:37:00.134 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:37:00.188 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:00.239 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 1146.3531ms
2025-02-22 02:37:00.245 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 02:37:00.252 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 1348.5938 ms
2025-02-22 02:37:00.267 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 1395.772ms
2025-02-22 02:37:15.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:15.552 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:15.564 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:15.687 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:15.714 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:37:15.739 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-22 02:37:15.766 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:15.821 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:15.856 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 269.1302ms
2025-02-22 02:37:15.864 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:15.882 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 401.3581 ms
2025-02-22 02:37:15.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 432.5963ms
2025-02-22 02:37:17.762 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:17.778 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:17.783 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:17.833 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:17.859 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:17.892 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:17.901 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 81.6999ms
2025-02-22 02:37:17.916 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:17.933 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 164.9890 ms
2025-02-22 02:37:17.949 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 186.6377ms
2025-02-22 02:37:20.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:20.829 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:20.836 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:20.899 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:20.920 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:20.948 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:20.961 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 76.7305ms
2025-02-22 02:37:20.971 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:20.985 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 158.0419 ms
2025-02-22 02:37:20.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 172.0406ms
2025-02-22 02:37:24.223 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:24.231 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:24.240 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:24.288 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:24.337 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:24.372 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:24.393 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 108.8365ms
2025-02-22 02:37:24.420 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:24.442 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 210.8522 ms
2025-02-22 02:37:24.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 229.3956ms
2025-02-22 02:37:25.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:25.870 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:25.878 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:25.943 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:25.986 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:26.017 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:26.034 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 96.2577ms
2025-02-22 02:37:26.051 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:26.065 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 195.8090 ms
2025-02-22 02:37:26.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 208.2204ms
2025-02-22 02:37:28.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:28.828 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:28.834 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:37:28.903 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
2025-02-22 02:37:28.934 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email], [a].[PhoneNumber]
FROM [AspNetUsers] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-22 02:37:28.965 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.AppUserDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:37:28.981 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api) in 85.0291ms
2025-02-22 02:37:28.999 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GetUsers (SchoolManagementSystem.Api)'
2025-02-22 02:37:29.021 +02:00 [INF] HTTP GET /api/Account/Users responded 200 in 193.8284 ms
2025-02-22 02:37:29.039 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 200 null application/json; charset=utf-8 219.2305ms
2025-02-22 02:37:30.903 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Users - null null
2025-02-22 02:37:31.026 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:37:30 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:37:31.099 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:37:30 '.
2025-02-22 02:37:31.115 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-02-22 02:37:31.138 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-22 02:37:31.151 +02:00 [INF] HTTP GET /api/Account/Users responded 401 in 240.8304 ms
2025-02-22 02:37:31.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Users - 401 0 null 252.3827ms
2025-02-22 02:38:29.329 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - application/json 786
2025-02-22 02:38:29.350 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:38:29.426 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:38:29 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 02:38:29.455 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 12:37:29 ', Current time (UTC): '22/2/2025 12:38:29 '.
2025-02-22 02:38:29.488 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:38:29.534 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.RefreshTokenCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:38:33.754 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 02:38:33.798 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000), @__user_Id_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[AppUserId] = @__user_Id_1
2025-02-22 02:38:33.827 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsUsed] = @p0, [ReplacedByToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-02-22 02:38:33.858 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:38:33.941 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 02:38:34.004 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 02:38:34.041 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[AppUserId], [r].[ExpiryTime], [r].[IsRevoked], [r].[IsUsed], [r].[ReplacedByToken], [r].[Token]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0
2025-02-22 02:38:34.071 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-22 02:38:41.479 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 02:38:41.487 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api) in 11908.8994ms
2025-02-22 02:38:41.498 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RefreshToken (SchoolManagementSystem.Api)'
2025-02-22 02:38:41.518 +02:00 [INF] HTTP POST /api/Account/refresh-token responded 200 in 12168.6087 ms
2025-02-22 02:38:41.542 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/refresh-token - 200 null application/json; charset=utf-8 12213.1188ms
2025-02-22 02:45:46.103 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:45:46.143 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:45:46.149 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:45:46.693 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:45:46.765 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:45:46.772 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:45:46.902 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:45:47.016 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:45:47.117 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:45:47.119 +02:00 [INF] Hosting environment: Development
2025-02-22 02:45:47.121 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:45:47.226 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:45:47.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 195.9725ms
2025-02-22 02:45:47.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:45:47.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.7941ms
2025-02-22 02:45:47.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:45:47.504 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.3299ms
2025-02-22 02:45:47.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:45:47.702 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.7207ms
2025-02-22 02:46:29.625 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:46:29.675 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:46:29.678 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 02:46:30.122 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:46:30.201 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:46:30.208 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 02:46:30.321 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 02:46:30.391 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 02:46:30.447 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 02:46:30.451 +02:00 [INF] Hosting environment: Development
2025-02-22 02:46:30.454 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 02:46:30.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 02:46:30.731 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 161.7104ms
2025-02-22 02:46:30.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 02:46:30.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 02:46:30.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 34.5926ms
2025-02-22 02:46:30.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.9616ms
2025-02-22 02:46:30.894 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 02:46:30.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.3119ms
2025-02-22 02:53:17.991 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 410
2025-02-22 02:53:18.005 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 02:53:18.015 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:53:18.045 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:53:18.065 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:53:18.406 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 02:53:18.459 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:53:18.500 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:53:18.650 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:53:18.974 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 02:53:19.042 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:53:19.084 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 02:53:19.101 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:53:19.137 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:53:19.231 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 02:53:25.199 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:53:25.219 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 7099.6368ms
2025-02-22 02:53:25.238 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:53:25.273 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 7255.9182 ms
2025-02-22 02:53:25.288 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 7296.8951ms
2025-02-22 02:54:40.935 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 410
2025-02-22 02:54:40.947 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:54:40.954 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:54:41.001 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:54:41.057 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 02:54:41.073 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:54:41.109 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:54:41.258 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:54:41.297 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 02:54:41.341 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:54:41.365 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 02:54:41.417 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:54:41.469 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:54:41.544 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 02:54:46.642 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:54:46.651 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 5615.6824ms
2025-02-22 02:54:46.658 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:54:46.671 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 5725.2245 ms
2025-02-22 02:54:46.676 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 5741.0051ms
2025-02-22 02:55:44.340 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - application/json 407
2025-02-22 02:55:44.348 +02:00 [INF] CORS policy execution successful.
2025-02-22 02:55:44.353 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:55:44.359 +02:00 [INF] Route matched with {action = "RegisterTeacher", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterTeacher(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterTeacherCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 02:55:44.449 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
WHERE [d].[DepartmentID] = @__id_0
2025-02-22 02:55:44.506 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 02:55:44.578 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:55:44.735 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:55:44.761 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Teachers] ([Id], [DepartmentID], [TeacherAddress], [TeacherDateOfBirth], [TeacherEmail], [TeacherFirstName], [TeacherGender], [TeacherLastName], [TeacherPhoneNumber], [TeacherTypeID])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-02-22 02:55:44.831 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:55:44.859 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 02:55:44.890 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 02:55:44.922 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 02:55:45.019 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p31='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Teachers] SET [DepartmentID] = @p22, [TeacherAddress] = @p23, [TeacherDateOfBirth] = @p24, [TeacherEmail] = @p25, [TeacherFirstName] = @p26, [TeacherGender] = @p27, [TeacherLastName] = @p28, [TeacherPhoneNumber] = @p29, [TeacherTypeID] = @p30
OUTPUT 1
WHERE [Id] = @p31;
2025-02-22 02:55:53.591 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:55:53.598 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api) in 9183.2521ms
2025-02-22 02:55:53.607 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterTeacher (SchoolManagementSystem.Api)'
2025-02-22 02:55:53.625 +02:00 [INF] HTTP POST /api/Account/register/teacher responded 200 in 9277.4458 ms
2025-02-22 02:55:53.629 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/teacher - 200 null application/json; charset=utf-8 9288.7725ms
2025-02-22 02:59:25.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Library/books - null null
2025-02-22 02:59:25.684 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 02:59:25.706 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Library"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller SchoolManagementSystem.Api.Controllers.LibraryController (SchoolManagementSystem.Api).
2025-02-22 02:59:25.790 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LibraryID], [l].[Author], [l].[BookTitle], [l].[ISBN], [l].[Quantity]
FROM [Libraries] AS [l]
2025-02-22 02:59:25.808 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.LibraryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 02:59:25.832 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api) in 66.9252ms
2025-02-22 02:59:25.845 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 02:59:25.865 +02:00 [INF] HTTP GET /api/Library/books responded 200 in 180.9416 ms
2025-02-22 02:59:25.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Library/books - 200 null application/json; charset=utf-8 214.8026ms
2025-02-22 03:00:12.950 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Department/all - null null
2025-02-22 03:00:12.956 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:00:12.978 +02:00 [INF] Route matched with {action = "GetAllDepartments", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDepartments() on controller SchoolManagementSystem.Api.Controllers.DepartmentController (SchoolManagementSystem.Api).
2025-02-22 03:00:13.044 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
2025-02-22 03:00:13.069 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Entities.Department, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:00:13.105 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api) in 80.8914ms
2025-02-22 03:00:13.122 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:00:13.136 +02:00 [INF] HTTP GET /api/Department/all responded 200 in 179.6729 ms
2025-02-22 03:00:13.164 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Department/all - 200 null application/json; charset=utf-8 214.2467ms
2025-02-22 03:42:20.601 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/all - null null
2025-02-22 03:42:20.607 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:42:20.626 +02:00 [INF] Route matched with {action = "GetAllAssignments", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 03:42:20.684 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
2025-02-22 03:42:20.698 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:42:20.721 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api) in 65.8134ms
2025-02-22 03:42:20.738 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:42:20.757 +02:00 [INF] HTTP GET /api/Assignment/all responded 200 in 150.4011 ms
2025-02-22 03:42:20.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/all - 200 null application/json; charset=utf-8 172.9753ms
2025-02-22 03:43:30.277 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Assignment/all - null null
2025-02-22 03:43:30.285 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:43:30.317 +02:00 [INF] Route matched with {action = "GetAllAssignments", controller = "Assignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller SchoolManagementSystem.Api.Controllers.AssignmentController (SchoolManagementSystem.Api).
2025-02-22 03:43:30.357 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AssignmentID], [a].[AssignmentName], [a].[CourseID], [a].[DueDate]
FROM [Assignments] AS [a]
2025-02-22 03:43:30.392 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AssignmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:43:30.417 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api) in 63.5039ms
2025-02-22 03:43:30.431 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AssignmentController.GetAllAssignments (SchoolManagementSystem.Api)'
2025-02-22 03:43:30.448 +02:00 [INF] HTTP GET /api/Assignment/all responded 200 in 163.2097 ms
2025-02-22 03:43:30.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Assignment/all - 200 null application/json; charset=utf-8 175.6012ms
2025-02-22 03:43:35.866 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/all - null null
2025-02-22 03:43:35.875 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:43:35.885 +02:00 [INF] Route matched with {action = "GetAllAttendances", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAttendances() on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 03:43:35.949 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
2025-02-22 03:43:35.989 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AttendanceDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:43:36.008 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api) in 70.4074ms
2025-02-22 03:43:36.015 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:43:36.038 +02:00 [INF] HTTP GET /api/Attendance/all responded 200 in 162.9255 ms
2025-02-22 03:43:36.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/all - 200 null application/json; charset=utf-8 194.9908ms
2025-02-22 03:46:37.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Attendance/all - null null
2025-02-22 03:46:37.757 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:46:37.759 +02:00 [INF] Route matched with {action = "GetAllAttendances", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAttendances() on controller SchoolManagementSystem.Api.Controllers.AttendanceController (SchoolManagementSystem.Api).
2025-02-22 03:46:37.824 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AttendanceID], [a].[ClassroomID], [a].[Date], [a].[Status], [a].[StudentID]
FROM [Attendances] AS [a]
2025-02-22 03:46:37.869 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.AttendanceDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:46:37.879 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api) in 60.5997ms
2025-02-22 03:46:37.897 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AttendanceController.GetAllAttendances (SchoolManagementSystem.Api)'
2025-02-22 03:46:37.915 +02:00 [INF] HTTP GET /api/Attendance/all responded 200 in 158.1920 ms
2025-02-22 03:46:37.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Attendance/all - 200 null application/json; charset=utf-8 184.4607ms
2025-02-22 03:46:48.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - null null
2025-02-22 03:46:48.800 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:46:48.808 +02:00 [INF] Route matched with {action = "GetAllBorrowedBooks", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowedBooks() on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 03:46:48.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BorrowID], [b].[BorrowDate], [b].[LibraryID], [b].[ReturnDate], [b].[StudentID]
FROM [BorrowedBooks] AS [b]
2025-02-22 03:46:48.893 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:46:48.930 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api) in 98.5817ms
2025-02-22 03:46:48.946 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:46:48.979 +02:00 [INF] HTTP GET /api/BorrowedBooks/all responded 200 in 179.3820 ms
2025-02-22 03:46:48.983 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - 200 null application/json; charset=utf-8 188.5377ms
2025-02-22 03:53:36.947 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - null null
2025-02-22 03:53:36.955 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:53:36.962 +02:00 [INF] Route matched with {action = "GetAllBorrowedBooks", controller = "BorrowedBooks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBorrowedBooks() on controller SchoolManagementSystem.Api.Controllers.BorrowedBooksController (SchoolManagementSystem.Api).
2025-02-22 03:53:37.036 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BorrowID], [b].[BorrowDate], [b].[LibraryID], [b].[ReturnDate], [b].[StudentID]
FROM [BorrowedBooks] AS [b]
2025-02-22 03:53:37.072 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.BorrowedBookDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:53:37.111 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api) in 84.3351ms
2025-02-22 03:53:37.117 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.BorrowedBooksController.GetAllBorrowedBooks (SchoolManagementSystem.Api)'
2025-02-22 03:53:37.125 +02:00 [INF] HTTP GET /api/BorrowedBooks/all responded 200 in 170.3277 ms
2025-02-22 03:53:37.145 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/BorrowedBooks/all - 200 null application/json; charset=utf-8 198.6412ms
2025-02-22 03:53:45.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ClassRooms/all - null null
2025-02-22 03:53:45.077 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ClassRoomsController.GetAllClassrooms (SchoolManagementSystem.Api)'
2025-02-22 03:53:45.086 +02:00 [INF] Route matched with {action = "GetAllClassrooms", controller = "ClassRooms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClassrooms() on controller SchoolManagementSystem.Api.Controllers.ClassRoomsController (SchoolManagementSystem.Api).
2025-02-22 03:53:45.134 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
2025-02-22 03:53:45.192 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Entities.Classroom, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:53:45.212 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ClassRoomsController.GetAllClassrooms (SchoolManagementSystem.Api) in 91.6667ms
2025-02-22 03:53:45.231 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ClassRoomsController.GetAllClassrooms (SchoolManagementSystem.Api)'
2025-02-22 03:53:45.268 +02:00 [INF] HTTP GET /api/ClassRooms/all responded 200 in 190.5067 ms
2025-02-22 03:53:45.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ClassRooms/all - 200 null application/json; charset=utf-8 213.8015ms
2025-02-22 03:53:55.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Course/all - null null
2025-02-22 03:53:55.573 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.CourseController.GetAllCourses (SchoolManagementSystem.Api)'
2025-02-22 03:53:55.587 +02:00 [INF] Route matched with {action = "GetAllCourses", controller = "Course"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCourses() on controller SchoolManagementSystem.Api.Controllers.CourseController (SchoolManagementSystem.Api).
2025-02-22 03:53:55.647 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID]
FROM [Courses] AS [c]
2025-02-22 03:53:55.695 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.CourseDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:53:55.733 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.CourseController.GetAllCourses (SchoolManagementSystem.Api) in 94.7117ms
2025-02-22 03:53:55.742 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.CourseController.GetAllCourses (SchoolManagementSystem.Api)'
2025-02-22 03:53:55.764 +02:00 [INF] HTTP GET /api/Course/all responded 200 in 190.8353 ms
2025-02-22 03:53:55.771 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Course/all - 200 null application/json; charset=utf-8 204.1242ms
2025-02-22 03:54:01.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Department/all - null null
2025-02-22 03:54:01.314 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:54:01.322 +02:00 [INF] Route matched with {action = "GetAllDepartments", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDepartments() on controller SchoolManagementSystem.Api.Controllers.DepartmentController (SchoolManagementSystem.Api).
2025-02-22 03:54:01.368 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentID], [d].[DepartmentName]
FROM [Departments] AS [d]
2025-02-22 03:54:01.404 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.Entities.Department, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:54:01.438 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api) in 74.6122ms
2025-02-22 03:54:01.462 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.DepartmentController.GetAllDepartments (SchoolManagementSystem.Api)'
2025-02-22 03:54:01.479 +02:00 [INF] HTTP GET /api/Department/all responded 200 in 165.4565 ms
2025-02-22 03:54:01.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Department/all - 200 null application/json; charset=utf-8 177.675ms
2025-02-22 03:54:08.417 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - null null
2025-02-22 03:54:08.425 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:54:08.434 +02:00 [INF] Route matched with {action = "GetAllEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEnrollments() on controller SchoolManagementSystem.Api.Controllers.EnrollmentController (SchoolManagementSystem.Api).
2025-02-22 03:54:08.477 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EnrollmentID], [e].[CourseID], [e].[EnrollmentDate], [e].[StudentID]
FROM [Enrollments] AS [e]
2025-02-22 03:54:08.515 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.EnrollmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:54:08.536 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api) in 74.3452ms
2025-02-22 03:54:08.566 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:54:08.596 +02:00 [INF] HTTP GET /api/Enrollment/all responded 200 in 171.2233 ms
2025-02-22 03:54:08.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - 200 null application/json; charset=utf-8 185.0586ms
2025-02-22 03:55:10.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - null null
2025-02-22 03:55:10.052 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:55:10.061 +02:00 [INF] Route matched with {action = "GetAllEnrollments", controller = "Enrollment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllEnrollments() on controller SchoolManagementSystem.Api.Controllers.EnrollmentController (SchoolManagementSystem.Api).
2025-02-22 03:55:10.143 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EnrollmentID], [e].[CourseID], [e].[EnrollmentDate], [e].[StudentID]
FROM [Enrollments] AS [e]
2025-02-22 03:55:10.172 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.EnrollmentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:10.204 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api) in 67.8244ms
2025-02-22 03:55:10.223 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.EnrollmentController.GetAllEnrollments (SchoolManagementSystem.Api)'
2025-02-22 03:55:10.240 +02:00 [INF] HTTP GET /api/Enrollment/all responded 200 in 188.0974 ms
2025-02-22 03:55:10.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Enrollment/all - 200 null application/json; charset=utf-8 204.7165ms
2025-02-22 03:55:17.512 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Exam/all - null null
2025-02-22 03:55:17.516 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamController.GetAllExams (SchoolManagementSystem.Api)'
2025-02-22 03:55:17.526 +02:00 [INF] Route matched with {action = "GetAllExams", controller = "Exam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExams() on controller SchoolManagementSystem.Api.Controllers.ExamController (SchoolManagementSystem.Api).
2025-02-22 03:55:17.636 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamID], [e].[CourseID], [e].[Date], [e].[ExamName], [e].[ExamTypeID], [c].[CourseID], [c].[CourseName], [c].[DepartmentID], [c].[Description], [c].[TeacherID], [e0].[ExamTypeID], [e0].[TypeName]
FROM [Exams] AS [e]
INNER JOIN [Courses] AS [c] ON [e].[CourseID] = [c].[CourseID]
INNER JOIN [ExamTypes] AS [e0] ON [e].[ExamTypeID] = [e0].[ExamTypeID]
2025-02-22 03:55:17.674 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:17.681 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamController.GetAllExams (SchoolManagementSystem.Api) in 123.7403ms
2025-02-22 03:55:17.691 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamController.GetAllExams (SchoolManagementSystem.Api)'
2025-02-22 03:55:17.707 +02:00 [INF] HTTP GET /api/Exam/all responded 200 in 191.2288 ms
2025-02-22 03:55:17.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Exam/all - 200 null application/json; charset=utf-8 214.2291ms
2025-02-22 03:55:23.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - null null
2025-02-22 03:55:23.423 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 03:55:23.457 +02:00 [INF] Route matched with {action = "GetAllExamResults", controller = "ExamResult"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamResults() on controller SchoolManagementSystem.Api.Controllers.ExamResultController (SchoolManagementSystem.Api).
2025-02-22 03:55:23.486 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamResultID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamResults] AS [e]
2025-02-22 03:55:23.523 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamResultDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:23.559 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api) in 84.6315ms
2025-02-22 03:55:23.573 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 03:55:23.587 +02:00 [INF] HTTP GET /api/ExamResult/all responded 200 in 164.2579 ms
2025-02-22 03:55:23.604 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - 200 null application/json; charset=utf-8 189.9668ms
2025-02-22 03:55:29.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamScore/get/all - null null
2025-02-22 03:55:29.434 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetAllExamScores (SchoolManagementSystem.Api)'
2025-02-22 03:55:29.442 +02:00 [INF] Route matched with {action = "GetAllExamScores", controller = "ExamScore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamScores() on controller SchoolManagementSystem.Api.Controllers.ExamScoreController (SchoolManagementSystem.Api).
2025-02-22 03:55:29.507 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamScoreID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamScores] AS [e]
2025-02-22 03:55:29.542 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamScoreDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:29.571 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamScoreController.GetAllExamScores (SchoolManagementSystem.Api) in 73.7332ms
2025-02-22 03:55:29.597 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetAllExamScores (SchoolManagementSystem.Api)'
2025-02-22 03:55:29.634 +02:00 [INF] HTTP GET /api/ExamScore/get/all responded 200 in 200.0444 ms
2025-02-22 03:55:29.650 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamScore/get/all - 200 null application/json; charset=utf-8 221.5439ms
2025-02-22 03:55:34.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamType/all - null null
2025-02-22 03:55:34.751 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamTypeController.GetAllExamTypes (SchoolManagementSystem.Api)'
2025-02-22 03:55:34.782 +02:00 [INF] Route matched with {action = "GetAllExamTypes", controller = "ExamType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamTypes() on controller SchoolManagementSystem.Api.Controllers.ExamTypeController (SchoolManagementSystem.Api).
2025-02-22 03:55:34.831 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamTypeID], [e].[TypeName]
FROM [ExamTypes] AS [e]
2025-02-22 03:55:34.860 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamTypeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:34.892 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamTypeController.GetAllExamTypes (SchoolManagementSystem.Api) in 70.4457ms
2025-02-22 03:55:34.899 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamTypeController.GetAllExamTypes (SchoolManagementSystem.Api)'
2025-02-22 03:55:34.909 +02:00 [INF] HTTP GET /api/ExamType/all responded 200 in 157.8010 ms
2025-02-22 03:55:34.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamType/all - 200 null application/json; charset=utf-8 187.327ms
2025-02-22 03:55:43.182 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/all - null null
2025-02-22 03:55:43.191 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetAll (SchoolManagementSystem.Api)'
2025-02-22 03:55:43.242 +02:00 [INF] Route matched with {action = "GetAll", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 03:55:43.281 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeeID], [f].[Amount], [f].[DueDate], [f].[PaidDate], [f].[StudentID]
FROM [Fees] AS [f]
2025-02-22 03:55:43.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:55:43.343 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetAll (SchoolManagementSystem.Api) in 73.8306ms
2025-02-22 03:55:43.357 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetAll (SchoolManagementSystem.Api)'
2025-02-22 03:55:43.377 +02:00 [INF] HTTP GET /api/Fees/all responded 200 in 187.0202 ms
2025-02-22 03:55:43.402 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/all - 200 null application/json; charset=utf-8 219.7511ms
2025-02-22 03:56:29.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - null null
2025-02-22 03:56:29.649 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 03:56:29.692 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 03:56:29.746 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 03:56:29.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeeID], [f].[Amount], [f].[DueDate], [f].[PaidDate], [f].[StudentID]
FROM [Fees] AS [f]
WHERE [f].[StudentID] = @__studentId_0
2025-02-22 03:56:29.844 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:56:29.867 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 144.9496ms
2025-02-22 03:56:29.890 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 03:56:29.909 +02:00 [INF] HTTP GET /api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees responded 200 in 260.3124 ms
2025-02-22 03:56:29.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - 200 null application/json; charset=utf-8 291.6445ms
2025-02-22 03:56:36.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Library/books - null null
2025-02-22 03:56:36.617 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 03:56:36.625 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Library"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks() on controller SchoolManagementSystem.Api.Controllers.LibraryController (SchoolManagementSystem.Api).
2025-02-22 03:56:36.670 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LibraryID], [l].[Author], [l].[BookTitle], [l].[ISBN], [l].[Quantity]
FROM [Libraries] AS [l]
2025-02-22 03:56:36.714 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.LibraryDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:56:36.724 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api) in 57.9013ms
2025-02-22 03:56:36.735 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.LibraryController.GetAllBooks (SchoolManagementSystem.Api)'
2025-02-22 03:56:36.756 +02:00 [INF] HTTP GET /api/Library/books responded 200 in 139.0670 ms
2025-02-22 03:56:36.761 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Library/books - 200 null application/json; charset=utf-8 151.5474ms
2025-02-22 03:56:43.678 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Parent/2/students - null null
2025-02-22 03:56:43.685 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ParentController.GetStudentsByParent (SchoolManagementSystem.Api)'
2025-02-22 03:56:43.698 +02:00 [INF] Route matched with {action = "GetStudentsByParent", controller = "Parent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsByParent(Int32) on controller SchoolManagementSystem.Api.Controllers.ParentController (SchoolManagementSystem.Api).
2025-02-22 03:56:43.773 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 03:56:43.845 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__parentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [s].[ParentID] = @__parentId_0
2025-02-22 03:56:43.900 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:56:43.932 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ParentController.GetStudentsByParent (SchoolManagementSystem.Api) in 178.9111ms
2025-02-22 03:56:43.961 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ParentController.GetStudentsByParent (SchoolManagementSystem.Api)'
2025-02-22 03:56:43.992 +02:00 [INF] HTTP GET /api/Parent/2/students responded 200 in 307.8817 ms
2025-02-22 03:56:44.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Parent/2/students - 200 null application/json; charset=utf-8 332.4262ms
2025-02-22 03:57:01.780 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 03:57:01.788 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 03:57:01.825 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 03:57:01.931 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 03:57:01.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:57:02.003 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 128.3502ms
2025-02-22 03:57:02.026 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 03:57:02.057 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 269.4194 ms
2025-02-22 03:57:02.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 300.362ms
2025-02-22 03:57:20.087 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Teachers/all - null null
2025-02-22 03:57:20.101 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetAllTeachers (SchoolManagementSystem.Api)'
2025-02-22 03:57:20.115 +02:00 [INF] Route matched with {action = "GetAllTeachers", controller = "Teachers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTeachers() on controller SchoolManagementSystem.Api.Controllers.TeachersController (SchoolManagementSystem.Api).
2025-02-22 03:57:20.164 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
2025-02-22 03:57:20.227 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.TeacherDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 03:57:20.261 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.TeachersController.GetAllTeachers (SchoolManagementSystem.Api) in 115.4532ms
2025-02-22 03:57:20.275 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.TeachersController.GetAllTeachers (SchoolManagementSystem.Api)'
2025-02-22 03:57:20.307 +02:00 [INF] HTTP GET /api/Teachers/all responded 200 in 205.7899 ms
2025-02-22 03:57:20.323 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Teachers/all - 200 null application/json; charset=utf-8 236.246ms
2025-02-22 04:00:05.798 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:00:05.849 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:00:05.853 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:00:06.333 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:00:06.412 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:00:06.419 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:00:06.558 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:00:06.640 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:00:06.692 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:00:06.696 +02:00 [INF] Hosting environment: Development
2025-02-22 04:00:06.698 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:00:06.759 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:00:06.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 160.0812ms
2025-02-22 04:00:06.930 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:00:06.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:00:06.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 26.2504ms
2025-02-22 04:00:06.987 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.5045ms
2025-02-22 04:00:07.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:00:07.232 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.4435ms
2025-02-22 04:07:17.552 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:17.606 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:17.611 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:18.100 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:18.191 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:18.198 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:18.325 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:07:18.417 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:07:18.477 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:07:18.480 +02:00 [INF] Hosting environment: Development
2025-02-22 04:07:18.485 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:07:18.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:07:18.861 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 162.6016ms
2025-02-22 04:07:18.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:07:18.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:07:18.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 35.33ms
2025-02-22 04:07:18.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.2172ms
2025-02-22 04:07:19.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:07:19.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.1082ms
2025-02-22 04:07:30.976 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:31.021 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:31.024 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:07:31.473 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:31.545 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:31.552 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:07:31.652 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:07:31.730 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:07:31.781 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:07:31.786 +02:00 [INF] Hosting environment: Development
2025-02-22 04:07:31.788 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:07:31.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:07:32.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 187.8163ms
2025-02-22 04:07:32.130 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:07:32.134 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:07:32.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 20.6948ms
2025-02-22 04:07:32.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.5985ms
2025-02-22 04:07:32.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:07:32.374 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.5734ms
2025-02-22 04:07:46.460 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 04:07:46.475 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:07:46.519 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:07:46.555 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 04:07:46.947 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 04:07:47.251 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:07:47.275 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 670.4547ms
2025-02-22 04:07:47.281 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:07:47.288 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 799.3684 ms
2025-02-22 04:07:47.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 836.4874ms
2025-02-22 04:11:25.346 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:11:25.410 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:11:25.413 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:11:25.947 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:11:26.048 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:11:26.059 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:11:26.210 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:11:26.385 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:11:26.445 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:11:26.457 +02:00 [INF] Hosting environment: Development
2025-02-22 04:11:26.476 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:11:27.071 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:11:27.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 413.847ms
2025-02-22 04:11:27.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:11:27.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:11:27.533 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.2357ms
2025-02-22 04:11:27.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.4278ms
2025-02-22 04:11:27.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:11:27.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.7212ms
2025-02-22 04:12:23.266 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 04:12:23.305 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:12:23.432 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:12:23.454 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 04:12:49.316 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 04:13:44.627 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:13:44.654 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 81154.7341ms
2025-02-22 04:13:44.674 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:13:44.702 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 81380.6999 ms
2025-02-22 04:13:44.710 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 81445.0894ms
2025-02-22 04:32:19.381 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:32:19.426 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:32:19.432 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:32:19.811 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:32:19.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:32:19.884 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:32:19.997 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:32:20.066 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:32:20.125 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:32:20.127 +02:00 [INF] Hosting environment: Development
2025-02-22 04:32:20.129 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:32:20.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:32:20.860 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 186.758ms
2025-02-22 04:32:20.872 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:32:20.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.545ms
2025-02-22 04:32:20.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:32:20.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.0642ms
2025-02-22 04:32:21.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:32:21.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.3838ms
2025-02-22 04:32:30.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-22 04:32:30.991 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:32:31.036 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:32:31.061 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-22 04:32:31.422 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-22 04:32:31.632 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:32:31.653 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 561.8045ms
2025-02-22 04:32:31.663 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-22 04:32:31.682 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 678.0633 ms
2025-02-22 04:32:31.690 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 712.2781ms
2025-02-22 04:36:39.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/edfg/outstanding-fees - null null
2025-02-22 04:36:39.195 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:36:39.230 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 04:36:39.337 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:36:39.360 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:36:39.408 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 130.1139ms
2025-02-22 04:36:39.425 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:36:39.454 +02:00 [INF] HTTP GET /api/Fees/edfg/outstanding-fees responded 404 in 272.6596 ms
2025-02-22 04:36:39.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/edfg/outstanding-fees - 404 null application/json; charset=utf-8 289.6734ms
2025-02-22 04:36:54.207 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamScore/student/2345 - null null
2025-02-22 04:36:54.218 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api)'
2025-02-22 04:36:54.246 +02:00 [INF] Route matched with {action = "GetExamScoresByStudent", controller = "ExamScore"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetExamScoresByStudent(System.String) on controller SchoolManagementSystem.Api.Controllers.ExamScoreController (SchoolManagementSystem.Api).
2025-02-22 04:36:54.295 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:36:54.372 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamScoreDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:36:54.393 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api) in 106.8722ms
2025-02-22 04:36:54.421 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamScoreController.GetExamScoresByStudent (SchoolManagementSystem.Api)'
2025-02-22 04:36:54.442 +02:00 [INF] HTTP GET /api/ExamScore/student/2345 responded 400 in 227.7239 ms
2025-02-22 04:36:54.448 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamScore/student/2345 - 400 null application/json; charset=utf-8 241.1488ms
2025-02-22 04:37:43.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - null null
2025-02-22 04:37:43.892 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 04:37:43.900 +02:00 [INF] Route matched with {action = "GetAllExamResults", controller = "ExamResult"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllExamResults() on controller SchoolManagementSystem.Api.Controllers.ExamResultController (SchoolManagementSystem.Api).
2025-02-22 04:37:43.957 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ExamResultID], [e].[ExamID], [e].[Score], [e].[StudentID]
FROM [ExamResults] AS [e]
2025-02-22 04:37:44.011 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.ExamResultDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:37:44.032 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api) in 96.1423ms
2025-02-22 04:37:44.045 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.ExamResultController.GetAllExamResults (SchoolManagementSystem.Api)'
2025-02-22 04:37:44.061 +02:00 [INF] HTTP GET /api/ExamResult/all responded 200 in 169.8815 ms
2025-02-22 04:37:44.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/ExamResult/all - 200 null application/json; charset=utf-8 181.5022ms
2025-02-22 04:37:50.624 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:37:50.667 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:37:50.673 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:37:51.126 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:37:51.215 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:37:51.221 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:37:51.323 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:37:51.389 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:37:51.448 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:37:51.452 +02:00 [INF] Hosting environment: Development
2025-02-22 04:37:51.454 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:37:51.455 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:37:51.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 168.5487ms
2025-02-22 04:37:51.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:37:51.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:37:51.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 40.3318ms
2025-02-22 04:37:51.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.6806ms
2025-02-22 04:37:51.761 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:37:51.838 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.9928ms
2025-02-22 04:38:11.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/ccd05215-afd2-4777-836f-6f7ec5c4fdb2 - null null
2025-02-22 04:38:11.746 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 04:38:11.809 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 04:38:11.832 +02:00 [INF] Route matched with {action = "GetUserRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserRoles(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 04:38:12.006 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:38:12.240 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:38:12.317 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__roles_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [AspNetRoles] AS [a]
WHERE [a].[Name] IN (
    SELECT [r].[value]
    FROM OPENJSON(@__roles_0) WITH ([value] nvarchar(256) '$') AS [r]
)
2025-02-22 04:38:12.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.UserRoles, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 04:38:12.395 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api) in 523.6646ms
2025-02-22 04:38:12.399 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserRoles (SchoolManagementSystem.Api)'
2025-02-22 04:38:12.414 +02:00 [INF] HTTP GET /api/Roles/GetUserRoles/ccd05215-afd2-4777-836f-6f7ec5c4fdb2 responded 200 in 651.7311 ms
2025-02-22 04:38:12.430 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/GetUserRoles/ccd05215-afd2-4777-836f-6f7ec5c4fdb2 - 200 null application/json; charset=utf-8 699.5482ms
2025-02-22 04:38:23.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Roles/count/teacher - null null
2025-02-22 04:38:23.957 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 04:38:23.968 +02:00 [INF] Route matched with {action = "GetUserCountByRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCountByRole(System.String) on controller SchoolManagementSystem.Api.Controllers.RolesController (SchoolManagementSystem.Api).
2025-02-22 04:38:24.085 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__roleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUserRoles] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Id] = [a].[RoleId] AND [a0].[Name] = @__roleName_0)
2025-02-22 04:38:24.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:38:24.123 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api) in 96.3649ms
2025-02-22 04:38:24.135 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.RolesController.GetUserCountByRole (SchoolManagementSystem.Api)'
2025-02-22 04:38:24.166 +02:00 [INF] HTTP GET /api/Roles/count/teacher responded 200 in 210.7855 ms
2025-02-22 04:38:24.173 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Roles/count/teacher - 200 null application/json; charset=utf-8 227.9306ms
2025-02-22 04:39:02.390 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/ccd05215-afd2-4777-836f-6f7ec5c4fdb2/outstanding-fees - null null
2025-02-22 04:39:02.402 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:02.418 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 04:39:02.634 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:39:02.670 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:39:02.722 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 252.8775ms
2025-02-22 04:39:02.727 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:02.746 +02:00 [INF] HTTP GET /api/Fees/ccd05215-afd2-4777-836f-6f7ec5c4fdb2/outstanding-fees responded 404 in 348.4098 ms
2025-02-22 04:39:02.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/ccd05215-afd2-4777-836f-6f7ec5c4fdb2/outstanding-fees - 404 null application/json; charset=utf-8 378.8074ms
2025-02-22 04:39:33.375 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - null null
2025-02-22 04:39:33.385 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:33.396 +02:00 [INF] Route matched with {action = "GetOutstandingFees", controller = "Fees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOutstandingFees(System.String) on controller SchoolManagementSystem.Api.Controllers.FeesController (SchoolManagementSystem.Api).
2025-02-22 04:39:33.451 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 04:39:33.550 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__studentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[FeeID], [f].[Amount], [f].[DueDate], [f].[PaidDate], [f].[StudentID]
FROM [Fees] AS [f]
WHERE [f].[StudentID] = @__studentId_0
2025-02-22 04:39:33.602 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.FeeDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:39:33.610 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api) in 165.7916ms
2025-02-22 04:39:33.629 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.FeesController.GetOutstandingFees (SchoolManagementSystem.Api)'
2025-02-22 04:39:33.648 +02:00 [INF] HTTP GET /api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees responded 200 in 262.6702 ms
2025-02-22 04:39:33.654 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Fees/4b051eff-4cc5-41ec-a63a-524b56fc5b9e/outstanding-fees - 200 null application/json; charset=utf-8 278.6025ms
2025-02-22 04:40:35.212 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 04:40:35.219 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:35.232 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:40:35.268 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 04:40:35.289 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 04:40:35.293 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 47.9062ms
2025-02-22 04:40:35.324 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:35.345 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 125.8051 ms
2025-02-22 04:40:35.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 152.2269ms
2025-02-22 04:40:43.022 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - null null
2025-02-22 04:40:43.041 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:43.047 +02:00 [INF] Route matched with {action = "LoginWithGoogle", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithGoogle() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:40:43.112 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2025-02-22 04:40:43.139 +02:00 [INF] AuthenticationScheme: Google was challenged.
2025-02-22 04:40:43.153 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api) in 43.012ms
2025-02-22 04:40:43.174 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.LoginWithGoogle (SchoolManagementSystem.Api)'
2025-02-22 04:40:43.193 +02:00 [INF] HTTP GET /api/Account/login-With-Google responded 302 in 151.8137 ms
2025-02-22 04:40:43.200 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/login-With-Google - 302 0 null 178.6994ms
2025-02-22 04:40:57.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQeeAh8Xj2HJsZR2jPNo5K1jf1gtDjMbjJ5vuVb4_iumFwY-vGKeHMhjGah5aiFBsa_RszoQOiMHveEfypQfve9Zi4lq5MddlpuIx6IbQuEKQVzLiwHGFHYgA52vljg27TsenQwRmulpIugk9SX0gWc-owuFas9Q_yU0dLdsbR89jHSPRKKXofQNawcCPOcEbWStXfgT2MEyoKS27KKOd9HSrItPssWinXJ3YvyvA4Ai-Atg29IoNea1Slbxs0C-rXA0iuTEFWwSH_rih-nl2VjMW-osTkPhQ0eT4alcdoG2vdOw6uhGZlW5MjcxqYmSjt2Q&code=4%2F0ASVgi3JUb0T6Yx_36y8VGpu4YsePpUBmuN-24RGDt0fTrzExh8lfKHDKNeS8PSNPvjnjQA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none - null null
2025-02-22 04:41:03.970 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-02-22 04:41:03.974 +02:00 [INF] HTTP GET /signin-google responded 302 in 5972.5382 ms
2025-02-22 04:41:03.980 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/signin-google?state=CfDJ8HIq4qz2bxNFpYrJMFKyQeeAh8Xj2HJsZR2jPNo5K1jf1gtDjMbjJ5vuVb4_iumFwY-vGKeHMhjGah5aiFBsa_RszoQOiMHveEfypQfve9Zi4lq5MddlpuIx6IbQuEKQVzLiwHGFHYgA52vljg27TsenQwRmulpIugk9SX0gWc-owuFas9Q_yU0dLdsbR89jHSPRKKXofQNawcCPOcEbWStXfgT2MEyoKS27KKOd9HSrItPssWinXJ3YvyvA4Ai-Atg29IoNea1Slbxs0C-rXA0iuTEFWwSH_rih-nl2VjMW-osTkPhQ0eT4alcdoG2vdOw6uhGZlW5MjcxqYmSjt2Q&code=4%2F0ASVgi3JUb0T6Yx_36y8VGpu4YsePpUBmuN-24RGDt0fTrzExh8lfKHDKNeS8PSNPvjnjQA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&authuser=1&prompt=none - 302 0 null 5993.2805ms
2025-02-22 04:41:04.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 04:41:04.030 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:41:04.069 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:41:04.141 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:41:04.213 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:41:04.413 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-22 04:41:04.452 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2025-02-22 04:41:04.493 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:41:04.619 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p22='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p23='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiryTime] = @p16, [SecurityStamp] = @p17, [Token] = @p18, [TokenExpiryTime] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-02-22 04:41:04.649 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:41:04.668 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:41:04.693 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:41:04.740 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 04:41:04.832 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:41:04.865 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:41:04.870 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 759.7483ms
2025-02-22 04:41:04.883 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:41:04.926 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 895.3190 ms
2025-02-22 04:41:04.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 918.5099ms
2025-02-22 04:42:51.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 04:42:51.616 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:42:51.619 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:42:51.651 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:42:51.741 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:42:51.775 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:42:51.838 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:42:51.940 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 04:42:52.017 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:42:52.058 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:42:52.072 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 432.1744ms
2025-02-22 04:42:52.093 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:42:52.122 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 506.3124 ms
2025-02-22 04:42:52.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 516.5116ms
2025-02-22 04:43:33.865 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - null null
2025-02-22 04:43:33.874 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:43:33.880 +02:00 [INF] Route matched with {action = "GoogleLoginCallback", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLoginCallback() on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:43:33.944 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:43:34.045 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:43:34.073 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:43:34.124 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:43:34.239 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-02-22 04:43:34.332 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:43:34.408 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:43:34.422 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api) in 503.1635ms
2025-02-22 04:43:34.458 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.GoogleLoginCallback (SchoolManagementSystem.Api)'
2025-02-22 04:43:34.490 +02:00 [INF] HTTP GET /api/Account/Google-Login-Call-back responded 200 in 616.0833 ms
2025-02-22 04:43:34.508 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/Google-Login-Call-back - 200 null application/json; charset=utf-8 643.1551ms
2025-02-22 04:46:56.109 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 34
2025-02-22 04:46:56.118 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:46:56.124 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:46:56.169 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:46:56.244 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:46:56.328 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:46:56.335 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 116.7998ms
2025-02-22 04:46:56.341 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:46:56.365 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 400 in 248.3209 ms
2025-02-22 04:46:56.386 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 400 null application/json; charset=utf-8 275.9501ms
2025-02-22 04:47:55.763 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 33
2025-02-22 04:47:55.771 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:47:55.776 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:47:55.792 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:47:55.837 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:47:55.924 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:47:55.941 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 114.912ms
2025-02-22 04:47:55.961 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 04:47:55.980 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 209.4852 ms
2025-02-22 04:47:55.995 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 231.877ms
2025-02-22 04:48:40.486 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - application/json 354
2025-02-22 04:48:40.492 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:48:40.494 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:40.510 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ResetPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:48:40.606 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:48:40.651 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:48:40.657 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api) in 95.7403ms
2025-02-22 04:48:40.677 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:40.709 +02:00 [INF] HTTP POST /api/Account/reset-password responded 0 in 217.1030 ms
2025-02-22 04:48:40.714 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - 0 null application/json; charset=utf-8 228.2719ms
2025-02-22 04:48:48.506 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - application/json 359
2025-02-22 04:48:48.514 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:48:48.516 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:48.523 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ResetPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:48:48.582 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:48:48.654 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:48:48.816 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:48:48.888 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 04:48:48.927 +02:00 [INF] Executing ObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 04:48:48.942 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api) in 364.4639ms
2025-02-22 04:48:48.959 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 04:48:48.978 +02:00 [INF] HTTP POST /api/Account/reset-password responded 200 in 464.3529 ms
2025-02-22 04:48:48.990 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - 200 null application/json; charset=utf-8 483.5852ms
2025-02-22 04:49:10.661 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 62
2025-02-22 04:49:10.667 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:49:10.670 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:10.683 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:49:10.759 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:49:10.936 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 04:49:10.946 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 04:49:10.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 04:49:11.042 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 04:49:11.172 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 04:49:11.245 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 04:49:11.284 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 533.8202ms
2025-02-22 04:49:11.291 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:11.307 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 639.9707 ms
2025-02-22 04:49:11.323 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 661.8682ms
2025-02-22 04:49:21.410 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 60
2025-02-22 04:49:21.416 +02:00 [INF] CORS policy execution successful.
2025-02-22 04:49:21.418 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:21.426 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 04:49:21.496 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 04:49:21.668 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 04:49:21.673 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 179.7145ms
2025-02-22 04:49:21.683 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 04:49:21.698 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 282.1757 ms
2025-02-22 04:49:21.704 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 294.0539ms
2025-02-22 04:50:05.464 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:50:05.507 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:50:05.513 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:50:06.030 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:50:06.112 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:50:06.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:50:06.310 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:50:06.395 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:50:06.437 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:50:06.462 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:50:06.466 +02:00 [INF] Hosting environment: Development
2025-02-22 04:50:06.470 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:50:06.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 214.9685ms
2025-02-22 04:50:06.681 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:50:06.681 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:50:06.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.037ms
2025-02-22 04:50:06.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.9468ms
2025-02-22 04:50:06.793 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:50:06.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.6504ms
2025-02-22 04:55:04.613 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:55:04.661 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:55:04.667 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 04:55:05.234 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:55:05.329 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:55:05.336 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 04:55:05.471 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 04:55:05.616 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 04:55:05.677 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 04:55:05.699 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 04:55:05.701 +02:00 [INF] Hosting environment: Development
2025-02-22 04:55:05.711 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 04:55:05.854 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 178.3107ms
2025-02-22 04:55:05.865 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 04:55:05.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.5518ms
2025-02-22 04:55:05.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 04:55:05.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0909ms
2025-02-22 04:55:05.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 04:55:06.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.3835ms
2025-02-22 05:00:57.333 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:00:57.399 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:00:57.405 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-22 05:00:57.887 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:00:57.961 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:00:57.966 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-22 05:00:58.105 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-22 05:00:58.204 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-22 05:00:58.276 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-22 05:00:58.280 +02:00 [INF] Hosting environment: Development
2025-02-22 05:00:58.283 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-22 05:00:58.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-22 05:00:58.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 187.0597ms
2025-02-22 05:00:58.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-22 05:00:58.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-22 05:00:58.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 29.5114ms
2025-02-22 05:00:58.538 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.791ms
2025-02-22 05:00:58.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-22 05:00:58.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6697ms
2025-02-22 05:01:18.295 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 34
2025-02-22 05:01:18.309 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-22 05:01:18.321 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:01:18.370 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:01:18.396 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:01:18.588 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:01:24.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:01:24.078 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 5626.2619ms
2025-02-22 05:01:24.097 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:01:24.118 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 5797.3745 ms
2025-02-22 05:01:24.137 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 5841.8024ms
2025-02-22 05:04:16.588 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 34
2025-02-22 05:04:16.599 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:04:16.605 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:04:16.634 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:04:16.721 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:04:21.924 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:04:21.935 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 5254.8861ms
2025-02-22 05:04:21.941 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:04:21.944 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 5345.3549 ms
2025-02-22 05:04:21.946 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 5358.4778ms
2025-02-22 05:06:31.233 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register/student - application/json 451
2025-02-22 05:06:31.241 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:06:31.247 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 05:06:31.267 +02:00 [INF] Route matched with {action = "RegisterStudent", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterStudent(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterStudentCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:06:31.561 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-22 05:06:31.597 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-22 05:06:31.633 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:06:31.694 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:06:31.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:06:32.028 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-22 05:06:32.084 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 05:06:32.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-22 05:06:32.147 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-22 05:06:32.200 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:06:32.272 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-22 05:06:37.601 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:06:37.627 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api) in 6293.1298ms
2025-02-22 05:06:37.634 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.RegisterStudent (SchoolManagementSystem.Api)'
2025-02-22 05:06:37.637 +02:00 [INF] HTTP POST /api/Account/register/student responded 200 in 6396.2995 ms
2025-02-22 05:06:37.641 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register/student - 200 null application/json; charset=utf-8 6407.118ms
2025-02-22 05:07:08.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Account/confirm-email?userId=fe7825d5-3baf-4a29-8562-7c03583667ff&token=CfDJ8HIq4qz2bxNFpYrJMFKyQecitQoaQ2Vc7IkO8eJ%2Fo%2FfLtchr%2B%2FupMBEQDSECS5H%2FSTaFVepDGHFotIM5JVsEaaCPVVd4c7OuvViMSmpAyMTJvIbeY8UaeEaCjQPkebid8a2mkIQTv26R6Zpx3YiwMv1dRsKxIV7Cb0HuHjS6Gqcz3iBjjOljqf9Rvyr%2FnV65sBBxFPUg19NnlFthNlTKGk5cu%2FNsZQr4PoA1pT1FrbYt7cPgCH1161iN1pmhIHsAXg%3D%3D - null null
2025-02-22 05:07:08.033 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api)'
2025-02-22 05:07:08.043 +02:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:07:08.117 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 05:07:08.178 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:07:08.263 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:07:08.335 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Entities.Identity.AppUser, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:07:08.361 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api) in 267.1738ms
2025-02-22 05:07:08.388 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ConfirmEmail (SchoolManagementSystem.Api)'
2025-02-22 05:07:08.420 +02:00 [INF] HTTP GET /api/Account/confirm-email responded 200 in 387.3573 ms
2025-02-22 05:07:08.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Account/confirm-email?userId=fe7825d5-3baf-4a29-8562-7c03583667ff&token=CfDJ8HIq4qz2bxNFpYrJMFKyQecitQoaQ2Vc7IkO8eJ%2Fo%2FfLtchr%2B%2FupMBEQDSECS5H%2FSTaFVepDGHFotIM5JVsEaaCPVVd4c7OuvViMSmpAyMTJvIbeY8UaeEaCjQPkebid8a2mkIQTv26R6Zpx3YiwMv1dRsKxIV7Cb0HuHjS6Gqcz3iBjjOljqf9Rvyr%2FnV65sBBxFPUg19NnlFthNlTKGk5cu%2FNsZQr4PoA1pT1FrbYt7cPgCH1161iN1pmhIHsAXg%3D%3D - 200 null application/json; charset=utf-8 434.8368ms
2025-02-22 05:08:11.844 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - application/json 44
2025-02-22 05:08:11.850 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:08:11.853 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:08:11.859 +02:00 [INF] Route matched with {action = "ForgotPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ForgotPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:08:11.893 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:08:44.208 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:08:44.216 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api) in 32339.567ms
2025-02-22 05:08:44.219 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ForgotPassword (SchoolManagementSystem.Api)'
2025-02-22 05:08:44.221 +02:00 [INF] HTTP POST /api/Account/forgot-password responded 200 in 32371.3642 ms
2025-02-22 05:08:44.224 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/forgot-password - 200 null application/json; charset=utf-8 32379.4049ms
2025-02-22 05:09:35.404 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - application/json 367
2025-02-22 05:09:35.410 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:09:35.412 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 05:09:35.419 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ResetPasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:09:35.440 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:09:35.473 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:09:35.584 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:09:35.604 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:09:35.618 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:09:35.624 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api) in 199.0998ms
2025-02-22 05:09:35.626 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ResetPassword (SchoolManagementSystem.Api)'
2025-02-22 05:09:35.628 +02:00 [INF] HTTP POST /api/Account/reset-password responded 200 in 218.2122 ms
2025-02-22 05:09:35.631 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/reset-password - 200 null application/json; charset=utf-8 227.0405ms
2025-02-22 05:10:02.059 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 70
2025-02-22 05:10:02.065 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:10:02.067 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:02.076 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:10:02.095 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:10:02.198 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:10:02.206 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 121.8332ms
2025-02-22 05:10:02.210 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:02.211 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 145.8096 ms
2025-02-22 05:10:02.215 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 156.1759ms
2025-02-22 05:10:08.817 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 71
2025-02-22 05:10:08.824 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:10:08.825 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:08.827 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:10:08.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:10:08.996 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 05:10:09.016 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 05:10:09.046 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:10:09.059 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:10:09.102 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 05:10:09.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:10:09.133 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 298.7325ms
2025-02-22 05:10:09.139 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:10:09.144 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 320.0951 ms
2025-02-22 05:10:09.148 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 331.9043ms
2025-02-22 05:10:43.106 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 103
2025-02-22 05:10:43.114 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:10:43.115 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:10:43.121 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:10:43.136 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Entities.Identity.AppUser, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:10:43.139 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 8.4266ms
2025-02-22 05:10:43.142 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:10:43.144 +02:00 [INF] HTTP POST /api/Account/change-password responded 401 in 29.6540 ms
2025-02-22 05:10:43.147 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 401 null application/json; charset=utf-8 41.5405ms
2025-02-22 05:11:29.697 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 71
2025-02-22 05:11:29.703 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:11:29.705 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:11:29.707 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:11:29.728 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:11:29.850 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 05:11:29.861 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 05:11:29.879 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:11:29.902 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:11:29.927 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 05:11:29.940 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:11:29.944 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 231.0304ms
2025-02-22 05:11:29.946 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:11:29.950 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 247.1602 ms
2025-02-22 05:11:29.954 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 257.0527ms
2025-02-22 05:11:44.115 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 103
2025-02-22 05:11:44.122 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:11:44.167 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:44.170 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:11:44.187 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 05:11:44.277 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:11:44.282 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 108.1005ms
2025-02-22 05:11:44.284 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:44.286 +02:00 [INF] HTTP POST /api/Account/change-password responded 400 in 164.0096 ms
2025-02-22 05:11:44.288 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 400 null application/json; charset=utf-8 172.5255ms
2025-02-22 05:11:51.373 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/change-password - application/json 104
2025-02-22 05:11:51.377 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:11:51.379 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:51.383 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.ChangePasswordCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:11:51.392 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[Id] = @__p_0
2025-02-22 05:11:51.606 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:11:51.619 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:11:51.634 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-22 05:11:51.639 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api) in 251.6378ms
2025-02-22 05:11:51.641 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.ChangePassword (SchoolManagementSystem.Api)'
2025-02-22 05:11:51.644 +02:00 [INF] HTTP POST /api/Account/change-password responded 200 in 266.5165 ms
2025-02-22 05:11:51.647 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/change-password - 200 null application/json; charset=utf-8 273.7789ms
2025-02-22 05:12:02.284 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 71
2025-02-22 05:12:02.290 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:12:02.296 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:02 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 05:12:02.321 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:02 '.
2025-02-22 05:12:02.323 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:02.326 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:12:02.334 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:12:02.448 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:12:02.451 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 119.4714ms
2025-02-22 05:12:02.455 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:02.457 +02:00 [INF] HTTP POST /api/Account/login responded 400 in 167.0241 ms
2025-02-22 05:12:02.460 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 400 null application/json; charset=utf-8 176.0829ms
2025-02-22 05:12:07.637 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 70
2025-02-22 05:12:07.645 +02:00 [INF] CORS policy execution successful.
2025-02-22 05:12:07.649 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:07 '.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-22 05:12:07.661 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '22/2/2025 3:11:59 ', Current time (UTC): '22/2/2025 3:12:07 '.
2025-02-22 05:12:07.664 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:07.667 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-22 05:12:07.678 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-22 05:12:07.780 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-22 05:12:07.788 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-22 05:12:07.792 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-22 05:12:07.799 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-22 05:12:07.813 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([AppUserId], [ExpiryTime], [IsRevoked], [IsUsed], [ReplacedByToken], [Token])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-22 05:12:07.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-22 05:12:07.821 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 147.4028ms
2025-02-22 05:12:07.823 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-22 05:12:07.825 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 180.1903 ms
2025-02-22 05:12:07.828 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 190.7652ms
