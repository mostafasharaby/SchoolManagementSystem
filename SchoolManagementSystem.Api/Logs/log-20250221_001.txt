2025-02-21 14:27:37.479 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 14:27:37.530 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 14:27:37.539 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 14:27:38.056 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 14:27:38.169 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 14:27:38.175 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 14:27:38.356 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 14:27:38.489 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5253: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-02-21 16:05:52.988 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:05:53.023 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:05:53.027 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:05:53.453 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:05:53.512 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:05:53.517 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:05:53.601 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:05:53.663 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5253: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-02-21 16:06:20.602 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:06:20.636 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:06:20.640 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:06:20.972 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:06:21.028 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:06:21.033 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:06:21.123 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:06:21.187 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5253: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-02-21 16:06:51.414 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:06:51.453 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:06:51.458 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:06:51.969 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:06:52.087 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:06:52.098 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:06:52.204 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:06:52.297 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:06:52.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:06:52.382 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:06:52.386 +02:00 [INF] Hosting environment: Development
2025-02-21 16:06:52.388 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:06:52.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 212.6272ms
2025-02-21 16:06:52.574 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:06:52.577 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:06:52.594 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 19.466ms
2025-02-21 16:06:52.646 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.0923ms
2025-02-21 16:06:52.726 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:06:52.785 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.638ms
2025-02-21 16:07:12.008 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register - application/json 116
2025-02-21 16:07:12.019 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:07:12.032 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:07:12.084 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:07:12.145 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-21 16:07:12.446 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:07:12.501 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:07:12.589 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 411.5504ms
2025-02-21 16:07:12.602 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:07:12.618 +02:00 [ERR] HTTP POST /api/Account/register responded 500 in 585.3173 ms
System.InvalidCastException: Unable to cast object of type 'SchoolManagementSystem.Data.Entities.Identity.AppUser' to type 'SchoolManagementSystem.Data.Entities.Student'.
   at lambda_method82(Closure, Object, Student, ResolutionContext)
   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)
   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)
   at AutoMapper.Mapper.Map[TDestination](Object source)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 63
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 16:07:12.764 +02:00 [ERR] Unhandled exception occurred.
System.InvalidCastException: Unable to cast object of type 'SchoolManagementSystem.Data.Entities.Identity.AppUser' to type 'SchoolManagementSystem.Data.Entities.Student'.
   at lambda_method82(Closure, Object, Student, ResolutionContext)
   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)
   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)
   at AutoMapper.Mapper.Map[TDestination](Object source)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 63
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 16:07:12.873 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register - 500 null application/json 865.3386ms
2025-02-21 16:07:42.880 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:07:42.932 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:07:42.936 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:07:43.720 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:07:43.843 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:07:43.851 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:07:44.013 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:07:44.200 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:07:44.278 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:07:44.289 +02:00 [INF] Hosting environment: Development
2025-02-21 16:07:44.296 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:07:44.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:07:45.263 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 421.6588ms
2025-02-21 16:07:45.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:07:45.310 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:07:45.328 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 17.946ms
2025-02-21 16:07:45.373 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.4773ms
2025-02-21 16:07:45.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:07:45.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.9972ms
2025-02-21 16:07:51.581 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register - application/json 116
2025-02-21 16:07:51.597 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:07:51.618 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:07:51.763 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:07:51.790 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-21 16:07:52.115 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:07:52.153 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:07:52.632 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 805.4084ms
2025-02-21 16:07:52.758 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:07:52.932 +02:00 [ERR] HTTP POST /api/Account/register responded 500 in 1314.0690 ms
System.InvalidCastException: Unable to cast object of type 'SchoolManagementSystem.Data.Entities.Identity.AppUser' to type 'SchoolManagementSystem.Data.Entities.Student'.
   at lambda_method82(Closure, Object, Student, ResolutionContext)
   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)
   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)
   at AutoMapper.Mapper.Map[TDestination](Object source)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 63
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 16:07:53.265 +02:00 [ERR] Unhandled exception occurred.
System.InvalidCastException: Unable to cast object of type 'SchoolManagementSystem.Data.Entities.Identity.AppUser' to type 'SchoolManagementSystem.Data.Entities.Student'.
   at lambda_method82(Closure, Object, Student, ResolutionContext)
   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)
   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)
   at AutoMapper.Mapper.Map[TDestination](Object source)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 63
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 16:07:53.343 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register - 500 null application/json 1761.2352ms
2025-02-21 16:08:13.557 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:08:13.597 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:08:13.601 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:08:14.292 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:08:14.389 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:08:14.395 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:08:14.540 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:08:14.709 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:08:14.803 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:08:14.807 +02:00 [INF] Hosting environment: Development
2025-02-21 16:08:14.811 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:08:15.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:08:15.435 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 363.6007ms
2025-02-21 16:08:15.488 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:08:15.488 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:08:15.501 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.5701ms
2025-02-21 16:08:15.566 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.867ms
2025-02-21 16:08:15.633 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:08:15.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.8336ms
2025-02-21 16:08:23.230 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register - application/json 116
2025-02-21 16:08:23.245 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:08:23.259 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:08:23.386 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:08:23.426 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-21 16:08:26.972 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:08:30.444 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:08:32.365 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 8922.8229ms
2025-02-21 16:08:32.497 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:08:32.650 +02:00 [ERR] HTTP POST /api/Account/register responded 500 in 9391.9466 ms
System.InvalidCastException: Unable to cast object of type 'SchoolManagementSystem.Data.Entities.Identity.AppUser' to type 'SchoolManagementSystem.Data.Entities.Student'.
   at lambda_method82(Closure, Object, Student, ResolutionContext)
   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)
   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)
   at AutoMapper.Mapper.Map[TDestination](Object source)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 63
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 16:08:32.911 +02:00 [ERR] Unhandled exception occurred.
System.InvalidCastException: Unable to cast object of type 'SchoolManagementSystem.Data.Entities.Identity.AppUser' to type 'SchoolManagementSystem.Data.Entities.Student'.
   at lambda_method82(Closure, Object, Student, ResolutionContext)
   at AutoMapper.Mapper.MapCore[TSource,TDestination](TSource source, TDestination destination, ResolutionContext context, Type sourceType, Type destinationType, MemberMap memberMap)
   at AutoMapper.Mapper.Map[TSource,TDestination](TSource source, TDestination destination)
   at AutoMapper.Mapper.Map[TDestination](Object source)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 63
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 16:08:33.211 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register - 500 null application/json 9980.8892ms
2025-02-21 16:12:54.061 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:12:54.101 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:12:54.104 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:12:54.625 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:12:54.713 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:12:54.718 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:12:54.841 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:12:55.014 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:12:55.078 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:12:55.085 +02:00 [INF] Hosting environment: Development
2025-02-21 16:12:55.088 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:12:55.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:12:56.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 379.0236ms
2025-02-21 16:12:56.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:12:56.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:12:56.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 16.2134ms
2025-02-21 16:12:56.324 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.0793ms
2025-02-21 16:12:56.388 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:12:56.499 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.8647ms
2025-02-21 16:13:03.423 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register - application/json 116
2025-02-21 16:13:03.439 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:13:03.452 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:13:03.599 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:13:03.641 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-21 16:13:07.286 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:13:08.653 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:13:22.776 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:13:23.195 +02:00 [ERR] Failed executing DbCommand (167ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 16:13:23.591 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3852bef-353b-4bc0-aad5-8a0a9070beb1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3852bef-353b-4bc0-aad5-8a0a9070beb1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-21 16:13:25.070 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 21409.2814ms
2025-02-21 16:13:25.218 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:13:25.538 +02:00 [ERR] HTTP POST /api/Account/register responded 500 in 22086.4140 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3852bef-353b-4bc0-aad5-8a0a9070beb1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 64
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 16:13:25.989 +02:00 [ERR] Unhandled exception occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3852bef-353b-4bc0-aad5-8a0a9070beb1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 64
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 16:13:26.281 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register - 500 null application/json 22857.8737ms
2025-02-21 16:15:17.460 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:15:17.508 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:15:17.512 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:15:17.947 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:15:18.016 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:15:18.022 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:15:18.129 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:15:18.196 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:15:18.247 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:15:18.251 +02:00 [INF] Hosting environment: Development
2025-02-21 16:15:18.254 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:15:18.679 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:15:18.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 169.5083ms
2025-02-21 16:15:18.858 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:15:18.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.9959ms
2025-02-21 16:15:18.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:15:18.941 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.5023ms
2025-02-21 16:15:19.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:15:19.113 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.536ms
2025-02-21 16:15:35.121 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:15:35.159 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:15:35.163 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:15:35.505 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:15:35.570 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:15:35.576 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:15:35.722 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:15:35.816 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:15:35.863 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:15:35.867 +02:00 [INF] Hosting environment: Development
2025-02-21 16:15:35.869 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:15:35.879 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:15:36.073 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 194.7607ms
2025-02-21 16:15:36.093 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:15:36.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:15:36.110 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.2225ms
2025-02-21 16:15:36.130 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.9267ms
2025-02-21 16:15:36.195 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:15:36.276 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.0152ms
2025-02-21 16:15:41.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:15:41.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 11.4015ms
2025-02-21 16:15:41.344 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:15:41.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:15:41.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.8111ms
2025-02-21 16:15:41.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1925ms
2025-02-21 16:15:41.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:15:41.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.6756ms
2025-02-21 16:16:34.321 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register - application/json 116
2025-02-21 16:16:34.333 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:16:34.344 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:16:34.379 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:16:34.401 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-21 16:16:34.641 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:16:34.663 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:16:34.753 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:16:34.983 +02:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 16:16:35.013 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ClassroomID', table 'School_Management_System.dbo.Students'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cef1cad5-dade-455d-85bd-068c49702912
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ClassroomID', table 'School_Management_System.dbo.Students'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cef1cad5-dade-455d-85bd-068c49702912
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-21 16:16:35.040 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 632.1314ms
2025-02-21 16:16:35.044 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:16:35.049 +02:00 [ERR] HTTP POST /api/Account/register responded 500 in 705.0774 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ClassroomID', table 'School_Management_System.dbo.Students'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cef1cad5-dade-455d-85bd-068c49702912
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 64
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 16:16:35.107 +02:00 [ERR] Unhandled exception occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ClassroomID', table 'School_Management_System.dbo.Students'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cef1cad5-dade-455d-85bd-068c49702912
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Handlers.AppUserHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\ApplicationUser\Commands\Handlers\AppUserHandler.cs:line 64
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.AccountController.Register(RegisterCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\AccountController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 16:16:35.159 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register - 500 null application/json 837.9736ms
2025-02-21 16:17:48.623 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:17:48.669 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:17:48.673 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:17:52.121 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:17:52.196 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:17:52.204 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:17:52.305 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:17:52.369 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:17:52.414 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:17:52.418 +02:00 [INF] Hosting environment: Development
2025-02-21 16:17:52.419 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:17:52.543 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:17:52.671 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 127.6078ms
2025-02-21 16:17:52.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:17:52.714 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:17:52.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.3213ms
2025-02-21 16:17:52.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.8409ms
2025-02-21 16:17:52.808 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:17:52.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.318ms
2025-02-21 16:20:48.860 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:20:48.924 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:20:48.929 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:20:49.412 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:20:49.492 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:20:49.498 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:20:49.586 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:20:49.646 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:20:49.692 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:20:49.695 +02:00 [INF] Hosting environment: Development
2025-02-21 16:20:49.697 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:20:49.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:20:50.008 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 129.2152ms
2025-02-21 16:20:50.029 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:20:50.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:20:50.047 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.2332ms
2025-02-21 16:20:50.073 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.4962ms
2025-02-21 16:20:50.153 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:20:50.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.9966ms
2025-02-21 16:29:54.030 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:29:54.080 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:29:54.084 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:29:54.558 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:29:54.654 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:29:54.674 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:29:54.777 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:29:54.841 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:29:54.887 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:29:54.891 +02:00 [INF] Hosting environment: Development
2025-02-21 16:29:54.893 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:29:55.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:29:55.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 140.2163ms
2025-02-21 16:29:55.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:29:55.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:29:55.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 16.8465ms
2025-02-21 16:29:55.498 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.7938ms
2025-02-21 16:29:55.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:29:55.772 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.6501ms
2025-02-21 16:30:03.558 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/register - application/json 116
2025-02-21 16:30:03.569 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:30:03.579 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:30:03.619 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:30:03.645 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(SchoolManagementSystem.Core.Features.ApplicationUser.Commands.Models.RegisterCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-21 16:30:03.890 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:30:03.912 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:30:04.012 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:30:04.294 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-02-21 16:30:04.327 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:30:04.428 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:30:04.512 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:30:04.624 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:30:04.816 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-02-21 16:30:07.361 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-21 16:30:07.384 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api) in 3729.8994ms
2025-02-21 16:30:07.387 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Register (SchoolManagementSystem.Api)'
2025-02-21 16:30:07.424 +02:00 [INF] HTTP POST /api/Account/register responded 200 in 3843.8519 ms
2025-02-21 16:30:07.437 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/register - 200 null application/json; charset=utf-8 3879.2914ms
2025-02-21 16:32:50.241 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:32:50.304 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:32:50.309 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:32:50.994 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:32:51.066 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:32:51.074 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:32:51.261 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:32:51.426 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:32:51.493 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:32:51.498 +02:00 [INF] Hosting environment: Development
2025-02-21 16:32:51.501 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:32:52.130 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:32:52.520 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 400.7477ms
2025-02-21 16:32:52.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:32:52.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:32:52.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.2482ms
2025-02-21 16:32:52.627 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.963ms
2025-02-21 16:32:52.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:32:52.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.1247ms
2025-02-21 16:33:13.396 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 538
2025-02-21 16:33:13.416 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:33:13.430 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:33:13.529 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:33:13.555 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:33:18.627 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:33:19.842 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:33:25.085 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:33:25.152 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:33:25.162 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:33:43.896 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 16:33:43.931 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 30367.0318ms
2025-02-21 16:33:43.938 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:33:43.966 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 30535.5070 ms
2025-02-21 16:33:44.021 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 30625.0405ms
2025-02-21 16:35:55.519 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:35:55.585 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:35:55.589 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:35:56.174 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:35:56.248 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:35:56.255 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:35:56.401 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:35:56.555 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:35:56.636 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:35:56.643 +02:00 [INF] Hosting environment: Development
2025-02-21 16:35:56.645 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:35:57.129 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:35:57.563 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 449.1978ms
2025-02-21 16:35:57.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:35:57.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:35:57.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.6783ms
2025-02-21 16:35:57.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.7836ms
2025-02-21 16:35:57.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:35:57.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.4466ms
2025-02-21 16:36:28.634 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 537
2025-02-21 16:36:28.662 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:36:28.675 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:36:28.772 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:36:28.789 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:36:31.501 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:36:31.532 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:36:31.691 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:36:31.730 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:36:31.740 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:36:36.008 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 16:36:36.051 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 7251.7113ms
2025-02-21 16:36:36.056 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:36:36.073 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 7398.0264 ms
2025-02-21 16:36:36.081 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 7447.3378ms
2025-02-21 16:36:50.595 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 536
2025-02-21 16:36:50.610 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:36:50.631 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:36:50.666 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:36:54.830 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:36:55.932 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:37:43.039 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:37:43.058 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:37:43.096 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:37:43.103 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 16:37:43.109 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 52357.1729ms
2025-02-21 16:37:43.146 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:37:43.152 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 52543.6878 ms
2025-02-21 16:37:43.157 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 52561.8079ms
2025-02-21 16:43:23.782 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:43:23.858 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:43:23.864 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:43:24.257 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:43:24.328 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:43:24.333 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:43:24.434 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:43:24.540 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:43:24.588 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:43:24.591 +02:00 [INF] Hosting environment: Development
2025-02-21 16:43:24.594 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:43:24.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:43:25.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 161.9729ms
2025-02-21 16:43:25.169 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:43:25.181 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.3181ms
2025-02-21 16:43:25.194 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:43:25.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.276ms
2025-02-21 16:43:25.313 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:43:25.388 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.2699ms
2025-02-21 16:43:35.390 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:43:35.432 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:43:35.436 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:43:35.929 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:43:35.993 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:43:36.001 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:43:36.137 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:43:36.309 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:43:36.372 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:43:36.378 +02:00 [INF] Hosting environment: Development
2025-02-21 16:43:36.380 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:43:36.734 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:43:37.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 379.8752ms
2025-02-21 16:43:37.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:43:37.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:43:37.159 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.7572ms
2025-02-21 16:43:37.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.9393ms
2025-02-21 16:43:37.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:43:37.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.8631ms
2025-02-21 16:43:57.818 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 454
2025-02-21 16:43:57.844 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:43:57.862 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:43:59.130 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:43:59.151 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:44:01.722 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:44:02.803 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:45:10.933 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:45:10.978 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:45:11.058 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:45:11.190 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 16:45:11.276 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 72113.6649ms
2025-02-21 16:45:11.281 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:45:11.289 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 73426.3360 ms
2025-02-21 16:45:11.303 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 73484.2486ms
2025-02-21 16:48:16.977 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:48:17.027 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:48:17.030 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:48:17.528 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:48:17.600 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:48:17.606 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:48:17.752 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:48:17.926 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:48:17.993 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:48:17.998 +02:00 [INF] Hosting environment: Development
2025-02-21 16:48:18.000 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:48:18.491 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:48:18.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 293.7199ms
2025-02-21 16:48:18.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:48:18.822 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:48:18.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.0226ms
2025-02-21 16:48:18.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.6277ms
2025-02-21 16:48:18.949 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:48:19.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.9775ms
2025-02-21 16:48:38.388 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 454
2025-02-21 16:48:38.407 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:48:38.422 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:48:38.519 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:48:38.540 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:48:59.599 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:49:00.369 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:50:44.113 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:50:44.157 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:50:44.212 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:50:44.357 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 16:50:44.414 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 125866.0694ms
2025-02-21 16:50:44.420 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:50:44.444 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 126021.8842 ms
2025-02-21 16:50:44.485 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 126096.2786ms
2025-02-21 16:52:38.611 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:52:38.659 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:52:38.664 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:52:39.208 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:52:39.273 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:52:39.279 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:52:39.419 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:52:39.588 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:52:39.654 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:52:39.659 +02:00 [INF] Hosting environment: Development
2025-02-21 16:52:39.660 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:52:40.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:52:40.515 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 403.2839ms
2025-02-21 16:52:40.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:52:40.560 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:52:40.572 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.951ms
2025-02-21 16:52:40.632 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.1509ms
2025-02-21 16:52:40.732 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:52:40.852 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.8206ms
2025-02-21 16:52:57.789 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 456
2025-02-21 16:52:57.807 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:52:57.822 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:52:57.918 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:52:57.947 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:53:00.176 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:53:01.832 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:53:04.515 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:53:04.830 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 16:53:08.634 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:53:08.702 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:53:08.763 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:53:08.855 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:53:09.047 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-21 16:53:15.531 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 16:53:15.572 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 17617.1326ms
2025-02-21 16:53:15.576 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:53:15.595 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 17773.5346 ms
2025-02-21 16:53:15.631 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 17842.0113ms
2025-02-21 16:56:48.285 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 458
2025-02-21 16:56:48.306 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:56:48.311 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:56:48.331 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:56:51.479 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:56:51.499 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:56:51.771 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:56:51.797 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 16:56:51.834 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:56:51.903 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 16:56:52.004 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 16:56:52.103 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:56:52.356 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-21 16:56:54.917 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 16:56:54.925 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 6497.4412ms
2025-02-21 16:56:54.937 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:56:54.970 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 6664.6438 ms
2025-02-21 16:56:54.995 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 6709.6297ms
2025-02-21 16:57:32.365 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 475
2025-02-21 16:57:32.371 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:57:32.377 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:57:32.388 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:57:34.298 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:57:34.319 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:57:34.577 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:57:34.766 +02:00 [ERR] Failed executing DbCommand (174ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 16:57:35.169 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dbc9ffe3-c113-4dab-a710-ca9862027fb3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dbc9ffe3-c113-4dab-a710-ca9862027fb3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-21 16:57:36.940 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 4460.3708ms
2025-02-21 16:57:37.110 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:57:37.327 +02:00 [ERR] HTTP POST /api/Students/add responded 500 in 4956.5693 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dbc9ffe3-c113-4dab-a710-ca9862027fb3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.Students.Commands.Handlers.StudentCommandHandler.Handle(AddStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Commands\Handlers\StudentCommandHandler.cs:line 45
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent(AddStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 16:57:38.496 +02:00 [ERR] Unhandled exception occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dbc9ffe3-c113-4dab-a710-ca9862027fb3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.Students.Commands.Handlers.StudentCommandHandler.Handle(AddStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Commands\Handlers\StudentCommandHandler.cs:line 45
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent(AddStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 16:57:39.029 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 500 null application/json 6663.5588ms
2025-02-21 16:59:07.818 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:59:12.444 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:59:12.448 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 16:59:12.981 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:59:13.058 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:59:13.065 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 16:59:13.244 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 16:59:13.421 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 16:59:13.481 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 16:59:13.494 +02:00 [INF] Hosting environment: Development
2025-02-21 16:59:13.499 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 16:59:13.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 16:59:14.199 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 390.2531ms
2025-02-21 16:59:14.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 16:59:14.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 16:59:14.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 7.8947ms
2025-02-21 16:59:14.307 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.5944ms
2025-02-21 16:59:14.417 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 16:59:14.571 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.0056ms
2025-02-21 16:59:23.548 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 475
2025-02-21 16:59:23.569 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 16:59:23.584 +02:00 [INF] CORS policy execution successful.
2025-02-21 16:59:23.710 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:59:23.739 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 16:59:27.017 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 16:59:27.048 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:59:27.220 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 16:59:27.764 +02:00 [ERR] Failed executing DbCommand (195ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 16:59:28.321 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c77e0662-f798-46e8-8346-069262184efb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c77e0662-f798-46e8-8346-069262184efb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-21 16:59:29.406 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 5631.5874ms
2025-02-21 16:59:29.547 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 16:59:29.781 +02:00 [ERR] HTTP POST /api/Students/add responded 500 in 6197.3352 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c77e0662-f798-46e8-8346-069262184efb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.Students.Commands.Handlers.StudentCommandHandler.Handle(AddStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Commands\Handlers\StudentCommandHandler.cs:line 45
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent(AddStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 16:59:30.359 +02:00 [ERR] Unhandled exception occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c77e0662-f798-46e8-8346-069262184efb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.Students.Commands.Handlers.StudentCommandHandler.Handle(AddStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Commands\Handlers\StudentCommandHandler.cs:line 45
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent(AddStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 16:59:30.965 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 500 null application/json 7417.7899ms
2025-02-21 17:00:46.042 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:00:46.077 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:00:46.079 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:00:46.462 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:00:46.530 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:00:46.537 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:00:46.639 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 17:00:46.714 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 17:00:46.783 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 17:00:46.788 +02:00 [INF] Hosting environment: Development
2025-02-21 17:00:46.794 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 17:00:47.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 17:00:47.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 176.3224ms
2025-02-21 17:00:47.487 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 17:00:47.505 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 17:00:47.513 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 26.1761ms
2025-02-21 17:00:47.554 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0414ms
2025-02-21 17:00:47.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 17:00:47.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.1385ms
2025-02-21 17:00:56.352 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 475
2025-02-21 17:00:56.368 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 17:00:56.383 +02:00 [INF] CORS policy execution successful.
2025-02-21 17:00:56.412 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:00:56.481 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 17:00:56.720 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 17:00:56.751 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 17:00:56.892 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 17:00:57.171 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 17:00:57.212 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SchoolManagementSystem.Infrastructure.Data.SchoolContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:822c08b1-be00-4946-981d-658bc948c742
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:822c08b1-be00-4946-981d-658bc948c742
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-21 17:00:57.322 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 827.263ms
2025-02-21 17:00:57.327 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:00:57.347 +02:00 [ERR] HTTP POST /api/Students/add responded 500 in 963.5460 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:822c08b1-be00-4946-981d-658bc948c742
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.Students.Commands.Handlers.StudentCommandHandler.Handle(AddStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Commands\Handlers\StudentCommandHandler.cs:line 48
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent(AddStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 17:00:57.620 +02:00 [ERR] Unhandled exception occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Students_Classrooms_ClassroomID". The conflict occurred in database "School_Management_System", table "dbo.Classrooms", column 'ClassroomID'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:822c08b1-be00-4946-981d-658bc948c742
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at SchoolManagementSystem.Core.Features.Students.Commands.Handlers.StudentCommandHandler.Handle(AddStudentCommand request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Commands\Handlers\StudentCommandHandler.cs:line 48
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent(AddStudentCommand command) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 17:00:57.992 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 500 null application/json 1640.197ms
2025-02-21 17:04:23.218 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:04:23.633 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:04:23.637 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:04:23.992 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:04:24.046 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:04:24.052 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:04:24.145 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 17:04:24.243 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 17:04:24.309 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 17:04:24.311 +02:00 [INF] Hosting environment: Development
2025-02-21 17:04:24.313 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 17:04:24.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 17:04:24.546 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 168.4352ms
2025-02-21 17:04:24.573 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 17:04:24.580 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 17:04:24.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.4078ms
2025-02-21 17:04:24.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.6871ms
2025-02-21 17:04:24.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 17:04:24.765 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.0797ms
2025-02-21 17:04:34.436 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 475
2025-02-21 17:04:34.447 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 17:04:34.465 +02:00 [INF] CORS policy execution successful.
2025-02-21 17:04:34.498 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:04:34.512 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 17:04:34.723 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 17:04:34.761 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 17:04:34.830 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE [a].[Id] = @__p_0
2025-02-21 17:04:34.844 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 17:04:34.914 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 393.9386ms
2025-02-21 17:04:34.922 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:04:34.961 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 493.8617 ms
2025-02-21 17:04:34.999 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 563.8752ms
2025-02-21 17:05:28.812 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:05:28.848 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:05:28.851 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:05:29.241 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:05:29.338 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:05:29.346 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:05:29.462 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 17:05:29.529 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 17:05:29.572 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 17:05:29.576 +02:00 [INF] Hosting environment: Development
2025-02-21 17:05:29.578 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 17:05:29.703 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 17:05:29.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 128.7811ms
2025-02-21 17:05:29.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 17:05:29.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 17:05:29.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.902ms
2025-02-21 17:05:29.891 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.9635ms
2025-02-21 17:05:29.974 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 17:05:30.046 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.7126ms
2025-02-21 17:06:02.110 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:06:02.172 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:06:02.176 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:06:02.609 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:06:02.675 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:06:02.680 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:06:02.786 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 17:06:02.882 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 17:06:02.929 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 17:06:02.932 +02:00 [INF] Hosting environment: Development
2025-02-21 17:06:02.933 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 17:06:03.076 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 17:06:03.227 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 154.169ms
2025-02-21 17:06:03.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 17:06:03.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 17:06:03.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 17.9674ms
2025-02-21 17:06:03.286 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.6358ms
2025-02-21 17:06:03.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 17:06:03.464 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.9972ms
2025-02-21 17:06:29.899 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 475
2025-02-21 17:06:29.913 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 17:06:29.933 +02:00 [INF] CORS policy execution successful.
2025-02-21 17:06:29.967 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:06:29.987 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 17:06:30.230 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-21 17:06:30.242 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 17:06:30.270 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 270.9068ms
2025-02-21 17:06:30.274 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:06:30.277 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 344.9125 ms
2025-02-21 17:06:30.281 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 381.3776ms
2025-02-21 17:06:42.547 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 476
2025-02-21 17:06:42.560 +02:00 [INF] CORS policy execution successful.
2025-02-21 17:06:42.567 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:06:42.633 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 17:06:42.726 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-21 17:06:42.812 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-21 17:06:42.821 +02:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 17:06:42.827 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 126.93ms
2025-02-21 17:06:42.839 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:06:42.864 +02:00 [INF] HTTP POST /api/Students/add responded 201 in 305.0981 ms
2025-02-21 17:06:42.899 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 201 null application/json; charset=utf-8 352.0914ms
2025-02-21 17:07:25.163 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:07:25.202 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:07:25.207 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 17:07:25.575 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:07:25.634 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:07:25.644 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 17:07:25.749 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 17:07:25.813 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 17:07:25.863 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 17:07:25.866 +02:00 [INF] Hosting environment: Development
2025-02-21 17:07:25.868 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 17:07:26.126 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 17:07:26.307 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 182.9044ms
2025-02-21 17:07:26.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 17:07:26.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 17:07:26.350 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.4204ms
2025-02-21 17:07:26.374 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.9447ms
2025-02-21 17:07:26.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 17:07:26.522 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.4267ms
2025-02-21 17:07:42.669 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Students/add - application/json 475
2025-02-21 17:07:42.687 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 17:07:42.701 +02:00 [INF] CORS policy execution successful.
2025-02-21 17:07:42.741 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:07:42.762 +02:00 [INF] Route matched with {action = "AddStudent", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudent(SchoolManagementSystem.Core.Features.Students.Commands.Models.AddStudentCommand) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 17:07:43.010 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID]
FROM [Classrooms] AS [c]
WHERE [c].[ClassroomID] = @__p_0
2025-02-21 17:07:43.042 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber]
FROM [Parents] AS [p]
WHERE [p].[ParentID] = @__p_0
2025-02-21 17:07:43.094 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 17:07:43.121 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 17:07:43.446 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 17:07:43.737 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiryTime], [SecurityStamp], [Token], [TokenExpiryTime], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO [Students] ([Id], [ClassroomID], [Image], [ParentID], [StudentAddress], [StudentDateOfBirth], [StudentFirstNameAr], [StudentFirstNameEn], [StudentGender], [StudentLastNameAr], [StudentLastNameEn])
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
2025-02-21 17:07:43.779 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 17:07:43.794 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-02-21 17:07:43.806 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-02-21 17:07:43.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 17:07:44.054 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p21='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (Size = 256), @p32='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (Size = 4000), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (Size = 4000), @p31='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [Token] = @p16, [TokenExpiryTime] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
UPDATE [Students] SET [ClassroomID] = @p22, [Image] = @p23, [ParentID] = @p24, [StudentAddress] = @p25, [StudentDateOfBirth] = @p26, [StudentFirstNameAr] = @p27, [StudentFirstNameEn] = @p28, [StudentGender] = @p29, [StudentLastNameAr] = @p30, [StudentLastNameEn] = @p31
OUTPUT 1
WHERE [Id] = @p32;
2025-02-21 17:07:46.670 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-21 17:07:46.697 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api) in 3927.6853ms
2025-02-21 17:07:46.700 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.AddStudent (SchoolManagementSystem.Api)'
2025-02-21 17:07:46.732 +02:00 [INF] HTTP POST /api/Students/add responded 200 in 4031.2450 ms
2025-02-21 17:07:46.766 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Students/add - 200 null application/json; charset=utf-8 4096.5058ms
2025-02-21 17:08:33.975 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5253/api/Account/login - application/json 64
2025-02-21 17:08:33.984 +02:00 [INF] CORS policy execution successful.
2025-02-21 17:08:33.989 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-21 17:08:34.013 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SchoolManagementSystem.Core.Features.Authentication.Commands.Models.LoginCommand) on controller SchoolManagementSystem.Api.Controllers.AccountController (SchoolManagementSystem.Api).
2025-02-21 17:08:34.185 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-02-21 17:08:34.355 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-02-21 17:08:34.384 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-02-21 17:08:34.514 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID], CASE
    WHEN [t].[Id] IS NOT NULL THEN N'Teacher'
    WHEN [s].[Id] IS NOT NULL THEN N'Student'
END AS [Discriminator]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-21 17:08:34.545 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p30='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (Size = 4000), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [Token] = @p14, [TokenExpiryTime] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
UPDATE [Students] SET [ClassroomID] = @p20, [Image] = @p21, [ParentID] = @p22, [StudentAddress] = @p23, [StudentDateOfBirth] = @p24, [StudentFirstNameAr] = @p25, [StudentFirstNameEn] = @p26, [StudentGender] = @p27, [StudentLastNameAr] = @p28, [StudentLastNameEn] = @p29
OUTPUT 1
WHERE [Id] = @p30;
2025-02-21 17:08:34.707 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Data.Responses.AuthResponse, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 17:08:34.750 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api) in 634.1971ms
2025-02-21 17:08:34.772 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.AccountController.Login (SchoolManagementSystem.Api)'
2025-02-21 17:08:34.809 +02:00 [INF] HTTP POST /api/Account/login responded 200 in 825.4337 ms
2025-02-21 17:08:34.848 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5253/api/Account/login - 200 null application/json; charset=utf-8 873.3927ms
2025-02-21 21:34:30.121 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:34:30.179 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:34:30.182 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:34:30.685 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:34:30.765 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:34:30.773 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:34:30.916 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:34:31.044 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:34:31.103 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:34:31.107 +02:00 [INF] Hosting environment: Development
2025-02-21 21:34:31.109 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:34:31.758 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:34:31.978 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 221.4308ms
2025-02-21 21:34:31.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:34:32.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 11.0312ms
2025-02-21 21:34:32.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:34:32.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.5107ms
2025-02-21 21:34:32.175 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:34:32.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.8081ms
2025-02-21 21:37:38.942 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:37:38.976 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:37:38.980 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:37:39.363 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:37:39.420 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:37:39.425 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:37:39.510 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:37:39.572 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:37:39.626 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:37:39.630 +02:00 [INF] Hosting environment: Development
2025-02-21 21:37:39.632 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:37:39.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:37:40.045 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 138.1417ms
2025-02-21 21:37:40.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:37:40.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:37:40.076 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 18.5081ms
2025-02-21 21:37:40.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8147ms
2025-02-21 21:37:40.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:37:40.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.3669ms
2025-02-21 21:38:00.786 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - null null
2025-02-21 21:38:00.799 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 21:38:00.851 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:38:00.880 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[SchoolManagementSystem.Data.Entities.Student]]] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:38:01.173 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:38:01.203 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:38:01.225 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.Entities.Student, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:38:01.287 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 399.1453ms
2025-02-21 21:38:01.293 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:38:01.301 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 485.5773 ms
2025-02-21 21:38:01.310 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - 200 null application/json; charset=utf-8 524.0483ms
2025-02-21 21:47:11.141 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:47:11.186 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:47:11.190 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:47:11.601 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:47:11.677 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:47:11.683 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:47:11.804 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:47:11.923 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:47:11.989 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:47:11.993 +02:00 [INF] Hosting environment: Development
2025-02-21 21:47:11.998 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:47:12.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:47:12.301 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 154.801ms
2025-02-21 21:47:12.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:47:12.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:47:12.328 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.6261ms
2025-02-21 21:47:12.354 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.3358ms
2025-02-21 21:47:12.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:47:12.636 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.3001ms
2025-02-21 21:47:21.909 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - null null
2025-02-21 21:47:21.923 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 21:47:21.959 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:47:21.978 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:47:22.207 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
2025-02-21 21:47:22.234 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 246.5146ms
2025-02-21 21:47:22.240 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:47:22.244 +02:00 [ERR] HTTP GET /api/Students/ListWithPagination responded 500 in 310.1517 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
EntityQueryable`1 -> IQueryable`1
Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[SchoolManagementSystem.Data.Entities.Student, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Linq.IQueryable`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[SchoolManagementSystem.Data.DTO.StudentDto]' to type 'System.Linq.IQueryable`1[SchoolManagementSystem.Data.DTO.StudentDto]'.
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   at SchoolManagementSystem.Core.Features.Students.Queries.Handlers.StudentQueryHandler.Handle(GetStudentsPaginatedQuery request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Queries\Handlers\StudentQueryHandler.cs:line 52
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination(GetStudentsPaginatedQuery studentsPaginatedQuery) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 21:47:22.329 +02:00 [ERR] Unhandled exception occurred.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
EntityQueryable`1 -> IQueryable`1
Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[SchoolManagementSystem.Data.Entities.Student, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Linq.IQueryable`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[SchoolManagementSystem.Data.DTO.StudentDto]' to type 'System.Linq.IQueryable`1[SchoolManagementSystem.Data.DTO.StudentDto]'.
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   at SchoolManagementSystem.Core.Features.Students.Queries.Handlers.StudentQueryHandler.Handle(GetStudentsPaginatedQuery request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Queries\Handlers\StudentQueryHandler.cs:line 52
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination(GetStudentsPaginatedQuery studentsPaginatedQuery) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 21:47:22.364 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - 500 null application/json 455.4879ms
2025-02-21 21:48:26.291 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:48:26.326 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:48:26.329 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:48:26.667 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:48:26.727 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:48:26.732 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:48:26.824 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:48:26.885 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:48:26.934 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:48:26.937 +02:00 [INF] Hosting environment: Development
2025-02-21 21:48:26.940 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:48:26.964 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:48:27.106 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 143.178ms
2025-02-21 21:48:27.115 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:48:27.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:48:27.124 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.162ms
2025-02-21 21:48:27.153 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.6771ms
2025-02-21 21:48:27.251 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:48:27.325 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.3211ms
2025-02-21 21:48:35.540 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - null null
2025-02-21 21:48:35.554 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 21:48:35.593 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:48:35.613 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:48:35.838 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
2025-02-21 21:48:35.853 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 231.5006ms
2025-02-21 21:48:35.858 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:48:35.862 +02:00 [ERR] HTTP GET /api/Students/ListWithPagination responded 500 in 298.7409 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
EntityQueryable`1 -> IQueryable`1
Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[SchoolManagementSystem.Data.Entities.Student, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Linq.IQueryable`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[SchoolManagementSystem.Data.DTO.StudentDto]' to type 'System.Linq.IQueryable`1[SchoolManagementSystem.Data.DTO.StudentDto]'.
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   at SchoolManagementSystem.Core.Features.Students.Queries.Handlers.StudentQueryHandler.Handle(GetStudentsPaginatedQuery request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Queries\Handlers\StudentQueryHandler.cs:line 52
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination(GetStudentsPaginatedQuery studentsPaginatedQuery) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-02-21 21:48:35.919 +02:00 [ERR] Unhandled exception occurred.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
EntityQueryable`1 -> IQueryable`1
Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[SchoolManagementSystem.Data.Entities.Student, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Linq.IQueryable`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[SchoolManagementSystem.Data.DTO.StudentDto]' to type 'System.Linq.IQueryable`1[SchoolManagementSystem.Data.DTO.StudentDto]'.
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method75(Closure, Object, IQueryable`1, ResolutionContext)
   at SchoolManagementSystem.Core.Features.Students.Queries.Handlers.StudentQueryHandler.Handle(GetStudentsPaginatedQuery request, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Features\Students\Queries\Handlers\StudentQueryHandler.cs:line 52
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at SchoolManagementSystem.Core.Behavoir.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Core\Behavoir\ValidationBehavior.cs:line 40
   at SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination(GetStudentsPaginatedQuery studentsPaginatedQuery) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Controllers\StudentsController.cs:line 106
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at SchoolManagementSystem.Api.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-02-21 21:48:35.952 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - 500 null application/json 411.6333ms
2025-02-21 21:52:22.301 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:52:22.340 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:52:22.343 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:52:22.883 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:52:22.988 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:52:22.997 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:52:23.120 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:52:23.190 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:52:23.255 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:52:23.259 +02:00 [INF] Hosting environment: Development
2025-02-21 21:52:23.263 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:52:23.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:52:23.760 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 140.7739ms
2025-02-21 21:52:23.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:52:23.768 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:52:23.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 8.0111ms
2025-02-21 21:52:23.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.7297ms
2025-02-21 21:52:24.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:52:24.076 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.6934ms
2025-02-21 21:52:31.616 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - null null
2025-02-21 21:52:31.629 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 21:52:31.678 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:52:31.701 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:52:31.981 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:52:32.007 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:52:32.054 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:52:32.102 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 390.6072ms
2025-02-21 21:52:32.106 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:52:32.125 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 478.9419 ms
2025-02-21 21:52:32.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - 200 null application/json; charset=utf-8 524.7584ms
2025-02-21 21:55:36.390 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:55:36.433 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:55:36.436 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:55:36.929 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:55:36.992 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:55:36.996 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:55:37.087 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:55:37.157 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:55:37.194 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:55:37.220 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:55:37.224 +02:00 [INF] Hosting environment: Development
2025-02-21 21:55:37.227 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:55:37.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 165.1643ms
2025-02-21 21:55:37.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:55:37.376 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:55:37.391 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 14.7059ms
2025-02-21 21:55:37.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.751ms
2025-02-21 21:55:37.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:55:37.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.7721ms
2025-02-21 21:55:43.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - null null
2025-02-21 21:55:43.157 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 21:55:43.189 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:55:43.208 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:55:43.456 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:55:43.481 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:55:43.539 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:55:43.596 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 380.6168ms
2025-02-21 21:55:43.610 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:55:43.651 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 486.2559 ms
2025-02-21 21:55:43.691 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - 200 null application/json; charset=utf-8 548.3507ms
2025-02-21 21:56:04.946 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:04.996 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:05.000 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:05.417 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:05.475 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:05.482 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:05.629 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:56:05.721 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:56:05.788 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:56:05.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:56:05.791 +02:00 [INF] Hosting environment: Development
2025-02-21 21:56:05.796 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:56:05.954 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 168.0335ms
2025-02-21 21:56:06.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:56:06.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:56:06.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.2364ms
2025-02-21 21:56:06.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.6267ms
2025-02-21 21:56:06.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:56:06.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.8617ms
2025-02-21 21:56:26.428 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:26.468 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:26.471 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:26.801 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:26.857 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:26.862 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:26.949 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:56:27.009 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:56:27.051 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:56:27.055 +02:00 [INF] Hosting environment: Development
2025-02-21 21:56:27.057 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:56:27.366 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:56:27.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 146.6764ms
2025-02-21 21:56:27.521 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:56:27.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:56:27.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 16.9774ms
2025-02-21 21:56:27.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.7602ms
2025-02-21 21:56:27.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:56:27.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 112.7324ms
2025-02-21 21:56:35.604 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - null null
2025-02-21 21:56:35.620 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 21:56:35.662 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:56:35.686 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:56:35.952 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:56:35.976 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:56:36.018 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:56:36.089 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 395.4418ms
2025-02-21 21:56:36.092 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:56:36.117 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 483.4216 ms
2025-02-21 21:56:36.151 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination - 200 null application/json; charset=utf-8 546.912ms
2025-02-21 21:56:58.893 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:58.931 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:58.935 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 21:56:59.295 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:59.388 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:59.395 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 21:56:59.511 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 21:56:59.588 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 21:56:59.644 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 21:56:59.647 +02:00 [INF] Hosting environment: Development
2025-02-21 21:56:59.649 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 21:56:59.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 21:56:59.905 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 126.3929ms
2025-02-21 21:56:59.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 21:56:59.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 21:56:59.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 13.416ms
2025-02-21 21:56:59.954 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8459ms
2025-02-21 21:57:00.034 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 21:57:00.090 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.4043ms
2025-02-21 21:57:17.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?Search=%D9%85%D8%AD%D9%85%D8%AF - null null
2025-02-21 21:57:17.808 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 21:57:17.843 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:17.865 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:57:18.152 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__search_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE ([s].[StudentFirstNameAr] IS NOT NULL AND [s].[StudentFirstNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentFirstNameEn] IS NOT NULL AND [s].[StudentFirstNameEn] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameAr] IS NOT NULL AND [s].[StudentLastNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameEn] IS NOT NULL AND [s].[StudentLastNameEn] LIKE @__search_0_contains ESCAPE N'\')
2025-02-21 21:57:18.164 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-21 21:57:18.166 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-21 21:57:18.186 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__search_0_contains='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE ([s].[StudentFirstNameAr] IS NOT NULL AND [s].[StudentFirstNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentFirstNameEn] IS NOT NULL AND [s].[StudentFirstNameEn] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameAr] IS NOT NULL AND [s].[StudentLastNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameEn] IS NOT NULL AND [s].[StudentLastNameEn] LIKE @__search_0_contains ESCAPE N'\')
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-02-21 21:57:18.374 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:57:18.451 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 578.8713ms
2025-02-21 21:57:18.455 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:18.472 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 653.4992 ms
2025-02-21 21:57:18.500 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?Search=%D9%85%D8%AD%D9%85%D8%AF - 200 null application/json; charset=utf-8 715.4679ms
2025-02-21 21:57:29.014 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?Search=Mohamed - null null
2025-02-21 21:57:29.027 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:29.035 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:57:29.152 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE ([s].[StudentFirstNameAr] IS NOT NULL AND [s].[StudentFirstNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentFirstNameEn] IS NOT NULL AND [s].[StudentFirstNameEn] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameAr] IS NOT NULL AND [s].[StudentLastNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameEn] IS NOT NULL AND [s].[StudentLastNameEn] LIKE @__search_0_contains ESCAPE N'\')
2025-02-21 21:57:29.246 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
WHERE ([s].[StudentFirstNameAr] IS NOT NULL AND [s].[StudentFirstNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentFirstNameEn] IS NOT NULL AND [s].[StudentFirstNameEn] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameAr] IS NOT NULL AND [s].[StudentLastNameAr] LIKE @__search_0_contains ESCAPE N'\') OR ([s].[StudentLastNameEn] IS NOT NULL AND [s].[StudentLastNameEn] LIKE @__search_0_contains ESCAPE N'\')
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-02-21 21:57:29.259 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:57:29.265 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 133.3435ms
2025-02-21 21:57:29.281 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:29.308 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 283.8019 ms
2025-02-21 21:57:29.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?Search=Mohamed - 200 null application/json; charset=utf-8 331.4887ms
2025-02-21 21:57:40.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=1 - null null
2025-02-21 21:57:40.866 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:40.888 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:57:41.036 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:57:41.111 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:57:41.202 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:57:41.220 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 213.5968ms
2025-02-21 21:57:41.251 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:41.282 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 418.7364 ms
2025-02-21 21:57:41.310 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=1 - 200 null application/json; charset=utf-8 454.7139ms
2025-02-21 21:57:46.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=2 - null null
2025-02-21 21:57:46.316 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:46.320 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:57:46.358 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:57:46.467 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:57:46.567 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:57:46.653 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 297.5684ms
2025-02-21 21:57:46.692 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:46.728 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 412.2460 ms
2025-02-21 21:57:46.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=2 - 200 null application/json; charset=utf-8 446.781ms
2025-02-21 21:57:51.832 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=3 - null null
2025-02-21 21:57:51.840 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:51.843 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:57:51.942 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:57:52.015 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:57:52.098 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:57:52.134 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 193.4918ms
2025-02-21 21:57:52.171 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:57:52.206 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 366.6067 ms
2025-02-21 21:57:52.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?PageNumber=1&PageSize=3 - 200 null application/json; charset=utf-8 404.6985ms
2025-02-21 21:58:13.872 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - null null
2025-02-21 21:58:13.880 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:13.882 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:58:14.001 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:58:14.098 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [s].[StudentFirstNameAr], [s].[StudentFirstNameEn]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:58:14.196 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:58:14.202 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 207.3327ms
2025-02-21 21:58:14.208 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:14.232 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 352.4786 ms
2025-02-21 21:58:14.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - 200 null application/json; charset=utf-8 398.5673ms
2025-02-21 21:58:23.824 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=3 - null null
2025-02-21 21:58:23.831 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:23.843 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:58:23.987 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:58:24.083 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [s].[StudentFirstNameAr] DESC, [s].[StudentFirstNameEn] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:58:24.165 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:58:24.170 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 188.7694ms
2025-02-21 21:58:24.173 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:24.201 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 369.8977 ms
2025-02-21 21:58:24.204 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=3 - 200 null application/json; charset=utf-8 379.7916ms
2025-02-21 21:58:30.876 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=0 - null null
2025-02-21 21:58:30.882 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:30.885 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:58:30.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:58:31.042 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:58:31.116 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:58:31.127 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 144.3247ms
2025-02-21 21:58:31.154 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:31.184 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 301.8443 ms
2025-02-21 21:58:31.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=0 - 200 null application/json; charset=utf-8 337.8026ms
2025-02-21 21:58:35.100 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=1 - null null
2025-02-21 21:58:35.107 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:35.110 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:58:35.216 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:58:35.330 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [a].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:58:35.404 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:58:35.456 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 245.1698ms
2025-02-21 21:58:35.485 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:35.517 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 409.8467 ms
2025-02-21 21:58:35.539 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=1 - 200 null application/json; charset=utf-8 439.4048ms
2025-02-21 21:58:43.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - null null
2025-02-21 21:58:43.633 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:43.635 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:58:43.752 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:58:43.836 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [s].[StudentFirstNameAr], [s].[StudentFirstNameEn]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:58:43.940 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:58:44.006 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 265.76ms
2025-02-21 21:58:44.036 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:44.067 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 434.3757 ms
2025-02-21 21:58:44.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - 200 null application/json; charset=utf-8 477.685ms
2025-02-21 21:58:46.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - null null
2025-02-21 21:58:46.649 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:46.653 +02:00 [INF] Route matched with {action = "GetStudentsWithPagination", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsWithPagination(SchoolManagementSystem.Core.Features.Students.Queries.Models.GetStudentsPaginatedQuery) on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 21:58:46.695 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
2025-02-21 21:58:46.790 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [s].[StudentDateOfBirth], [s].[StudentGender], [s].[StudentAddress], [s].[Image], [s].[ParentID], [s].[ClassroomID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
ORDER BY [s].[StudentFirstNameAr], [s].[StudentFirstNameEn]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-02-21 21:58:46.905 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[SchoolManagementSystem.Core.Wrapper.PaginatedResult`1[[SchoolManagementSystem.Data.DTO.StudentDto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], SchoolManagementSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-21 21:58:46.940 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api) in 251.478ms
2025-02-21 21:58:46.980 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetStudentsWithPagination (SchoolManagementSystem.Api)'
2025-02-21 21:58:47.008 +02:00 [INF] HTTP GET /api/Students/ListWithPagination responded 200 in 359.7577 ms
2025-02-21 21:58:47.037 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/ListWithPagination?OrderBy=2 - 200 null application/json; charset=utf-8 395.0644ms
2025-02-21 22:07:07.111 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:07.147 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:07.150 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:07.569 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:07.653 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:07.662 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:07.823 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 22:07:07.937 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 22:07:08.021 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 22:07:08.025 +02:00 [INF] Hosting environment: Development
2025-02-21 22:07:08.027 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 22:07:08.071 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 22:07:08.254 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 183.4066ms
2025-02-21 22:07:08.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 22:07:08.269 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 22:07:08.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.6021ms
2025-02-21 22:07:08.303 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.5852ms
2025-02-21 22:07:08.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 22:07:08.780 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.0867ms
2025-02-21 22:07:13.146 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:13.209 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:13.214 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:13.866 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:13.953 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:13.959 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:14.072 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 22:07:14.156 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 22:07:14.227 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 22:07:14.231 +02:00 [INF] Hosting environment: Development
2025-02-21 22:07:14.233 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 22:07:14.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 22:07:14.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 185.9311ms
2025-02-21 22:07:14.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 22:07:14.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 22:07:14.520 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.6176ms
2025-02-21 22:07:14.540 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.2283ms
2025-02-21 22:07:17.801 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:17.840 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:17.844 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:07:18.217 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:18.279 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:18.285 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:07:18.414 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 22:07:18.473 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 22:07:18.521 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 22:07:18.524 +02:00 [INF] Hosting environment: Development
2025-02-21 22:07:18.526 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 22:07:18.585 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 22:07:18.737 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 152.4258ms
2025-02-21 22:07:18.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 22:07:18.792 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 22:07:18.798 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 10.3785ms
2025-02-21 22:07:18.848 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.2773ms
2025-02-21 22:07:18.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 22:07:19.002 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.9712ms
2025-02-21 22:11:14.711 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:11:14.746 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:11:14.751 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:11:15.089 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:11:15.142 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:11:15.147 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:11:15.275 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 22:11:15.355 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 22:11:15.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 22:11:15.416 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 22:11:15.419 +02:00 [INF] Hosting environment: Development
2025-02-21 22:11:15.421 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 22:11:15.547 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 153.0104ms
2025-02-21 22:11:15.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 22:11:15.555 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 22:11:15.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.9032ms
2025-02-21 22:11:15.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6584ms
2025-02-21 22:11:15.657 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 22:11:15.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.3513ms
2025-02-21 22:11:35.344 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamResult'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:11:35.400 +02:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'ExamScore'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:11:35.406 +02:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Fee'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-02-21 22:11:35.834 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:11:35.910 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:11:35.917 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-02-21 22:11:36.047 +02:00 [INF] User profile is available. Using 'C:\Users\5g\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-21 22:11:36.137 +02:00 [INF] Now listening on: http://localhost:5253
2025-02-21 22:11:36.235 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-21 22:11:36.237 +02:00 [INF] Hosting environment: Development
2025-02-21 22:11:36.240 +02:00 [INF] Content root path: D:\My_Projects\SchoolManagementSystem\SchoolManagementSystem.Api
2025-02-21 22:11:36.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 22:11:36.456 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 22:11:36.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 232.3384ms
2025-02-21 22:11:36.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 134.7229ms
2025-02-21 22:11:36.599 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 22:11:36.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 22:11:36.627 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 9.8029ms
2025-02-21 22:11:36.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.5974ms
2025-02-21 22:11:36.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 22:11:37.019 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.2871ms
2025-02-21 22:11:51.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all - null null
2025-02-21 22:11:51.957 +02:00 [WRN] Failed to determine the https port for redirect.
2025-02-21 22:11:52.000 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-21 22:11:52.021 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 22:11:52.392 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-21 22:11:52.576 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-21 22:11:52.604 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 576.0473ms
2025-02-21 22:11:52.609 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-21 22:11:52.647 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 678.2612 ms
2025-02-21 22:11:52.692 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all - 200 null application/json; charset=utf-8 746.1958ms
2025-02-21 22:12:15.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - null null
2025-02-21 22:12:15.121 +02:00 [INF] Executing endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-21 22:12:15.125 +02:00 [INF] Route matched with {action = "GetAllStudents", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStudents() on controller SchoolManagementSystem.Api.Controllers.StudentsController (SchoolManagementSystem.Api).
2025-02-21 22:12:15.240 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[Token], [a].[TokenExpiryTime], [a].[TwoFactorEnabled], [a].[UserName], [s].[ClassroomID], [s].[Image], [s].[ParentID], [s].[StudentAddress], [s].[StudentDateOfBirth], [s].[StudentFirstNameAr], [s].[StudentFirstNameEn], [s].[StudentGender], [s].[StudentLastNameAr], [s].[StudentLastNameEn], [p].[ParentID], [p].[Email], [p].[FirstName], [p].[LastName], [p].[PhoneNumber], [c].[ClassroomID], [c].[ClassroomName], [c].[GradeID], [c].[TeacherID], [t0].[Id], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[RefreshToken], [t0].[RefreshTokenExpiryTime], [t0].[SecurityStamp], [t0].[Token], [t0].[TokenExpiryTime], [t0].[TwoFactorEnabled], [t0].[UserName], [t0].[DepartmentID], [t0].[TeacherAddress], [t0].[TeacherDateOfBirth], [t0].[TeacherEmail], [t0].[TeacherFirstName], [t0].[TeacherGender], [t0].[TeacherLastName], [t0].[TeacherPhoneNumber], [t0].[TeacherTypeID]
FROM [AspNetUsers] AS [a]
INNER JOIN [Students] AS [s] ON [a].[Id] = [s].[Id]
INNER JOIN [Parents] AS [p] ON [s].[ParentID] = [p].[ParentID]
INNER JOIN [Classrooms] AS [c] ON [s].[ClassroomID] = [c].[ClassroomID]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[RefreshToken], [a0].[RefreshTokenExpiryTime], [a0].[SecurityStamp], [a0].[Token], [a0].[TokenExpiryTime], [a0].[TwoFactorEnabled], [a0].[UserName], [t].[DepartmentID], [t].[TeacherAddress], [t].[TeacherDateOfBirth], [t].[TeacherEmail], [t].[TeacherFirstName], [t].[TeacherGender], [t].[TeacherLastName], [t].[TeacherPhoneNumber], [t].[TeacherTypeID]
    FROM [AspNetUsers] AS [a0]
    INNER JOIN [Teachers] AS [t] ON [a0].[Id] = [t].[Id]
) AS [t0] ON [c].[TeacherID] = [t0].[Id]
2025-02-21 22:12:15.412 +02:00 [INF] Executing OkObjectResult, writing value of type 'SchoolManagementSystem.Core.Bases.Response`1[[System.Collections.Generic.List`1[[SchoolManagementSystem.Data.DTO.Student_Teacher_ClassRomm_Parent_Dto, SchoolManagementSystem.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-21 22:12:15.432 +02:00 [INF] Executed action SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api) in 222.3072ms
2025-02-21 22:12:15.435 +02:00 [INF] Executed endpoint 'SchoolManagementSystem.Api.Controllers.StudentsController.GetAllStudents (SchoolManagementSystem.Api)'
2025-02-21 22:12:15.439 +02:00 [INF] HTTP GET /api/Students/all responded 200 in 318.8954 ms
2025-02-21 22:12:15.457 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/api/Students/all?culture=en-EN - 200 null application/json; charset=utf-8 358.7224ms
2025-02-21 22:12:15.521 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/favicon.ico - null null
2025-02-21 22:12:15.537 +02:00 [INF] HTTP GET /favicon.ico responded 404 in 7.9974 ms
2025-02-21 22:12:15.559 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/favicon.ico - 404 0 null 38.4008ms
2025-02-21 22:12:15.588 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5253/favicon.ico, Response status code: 404
2025-02-21 23:09:44.188 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 23:09:44.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 25.7203ms
2025-02-21 23:09:44.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 23:09:44.279 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 33.7507ms
2025-02-21 23:09:44.295 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 23:09:44.349 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.8062ms
2025-02-21 23:09:44.509 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 23:09:44.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 339.8783ms
2025-02-21 23:11:34.183 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/index.html - null null
2025-02-21 23:11:34.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/index.html - 200 null text/html;charset=utf-8 9.1337ms
2025-02-21 23:11:34.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - null null
2025-02-21 23:11:34.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/_vs/browserLink - null null
2025-02-21 23:11:34.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 15.336ms
2025-02-21 23:11:34.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.9759ms
2025-02-21 23:11:34.436 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - null null
2025-02-21 23:11:34.492 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5253/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.9016ms
